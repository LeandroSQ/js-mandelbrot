(()=>{var pu=Object.create,Qr=Object.defineProperty,mu=Object.getPrototypeOf,hu=Object.prototype.hasOwnProperty,du=Object.getOwnPropertyNames,bn=Object.getOwnPropertyDescriptor;var lr=Math.pow,Or=Object.assign,vu=r=>Qr(r,"__esModule",{value:!0});var Kr=(r,e)=>()=>(e||(e={exports:{}},r(e.exports,e)),e.exports);var Du=(r,e,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of du(e))!hu.call(r,n)&&n!=="default"&&Qr(r,n,{get:()=>e[n],enumerable:!(t=bn(e,n))||t.enumerable});return r},Rr=r=>Du(vu(Qr(r!=null?pu(mu(r)):{},"default",r&&r.__esModule&&"default"in r?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r),Se=(r,e,t,n)=>{for(var i=n>1?void 0:n?bn(e,t):e,o=r.length-1,l;o>=0;o--)(l=r[o])&&(i=(n?l(e,t,i):l(i))||i);return n&&i&&Qr(e,t,i),i};var K=(r,e,t)=>new Promise((n,i)=>{var o=c=>{try{p(t.next(c))}catch(u){i(u)}},l=c=>{try{p(t.throw(c))}catch(u){i(u)}},p=c=>c.done?n(c.value):Promise.resolve(c.value).then(o,l);p((t=t.apply(r,e)).next())});var Mt=Kr((Hc,ir)=>{function bt(){return ir.exports=bt=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},ir.exports.__esModule=!0,ir.exports.default=ir.exports,bt.apply(this,arguments)}ir.exports=bt,ir.exports.__esModule=!0,ir.exports.default=ir.exports});var ai=Kr((_t,Pt)=>{(function(r,e){typeof _t=="object"&&typeof Pt!="undefined"?Pt.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis!="undefined"?globalThis:r||self,r["'typed'"]=e())})(_t,function(){"use strict";function r(){return!0}function e(){return!1}function t(){}let n="Argument is not a typed-function.";function i(){function l(w){return typeof w=="object"&&w!==null&&w.constructor===Object}let p=[{name:"number",test:function(w){return typeof w=="number"}},{name:"string",test:function(w){return typeof w=="string"}},{name:"boolean",test:function(w){return typeof w=="boolean"}},{name:"Function",test:function(w){return typeof w=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(w){return w instanceof Date}},{name:"RegExp",test:function(w){return w instanceof RegExp}},{name:"Object",test:l},{name:"null",test:function(w){return w===null}},{name:"undefined",test:function(w){return w===void 0}}],c={name:"any",test:r,isAny:!0},u,a,f=0,h={createCount:0};function v(w){let b=u.get(w);if(b)return b;let B='Unknown type "'+w+'"',_=w.toLowerCase(),O;for(O of a)if(O.toLowerCase()===_){B+='. Did you mean "'+O+'" ?';break}throw new TypeError(B)}function D(w){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",B=b?v(b).index:a.length,_=[];for(let I=0;I<w.length;++I){if(!w[I]||typeof w[I].name!="string"||typeof w[I].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");let G=w[I].name;if(u.has(G))throw new TypeError('Duplicate type name "'+G+'"');_.push(G),u.set(G,{name:G,test:w[I].test,isAny:w[I].isAny,index:B+I,conversionsTo:[]})}let O=a.slice(B);a=a.slice(0,B).concat(_).concat(O);for(let I=B+_.length;I<a.length;++I)u.get(a[I]).index=I}function s(){u=new Map,a=[],f=0,D([c],!1)}s(),D(p);function m(){let w;for(w of a)u.get(w).conversionsTo=[];f=0}function d(w){let b=a.filter(B=>{let _=u.get(B);return!_.isAny&&_.test(w)});return b.length?b:["any"]}function y(w){return w&&typeof w=="function"&&"_typedFunctionData"in w}function g(w,b,B){if(!y(w))throw new TypeError(n);let _=B&&B.exact,O=Array.isArray(b)?b.join(","):b,I=S(O),G=E(I);if(!_||G in w.signatures){let se=w._typedFunctionData.signatureMap.get(G);if(se)return se}let U=I.length,W;if(_){W=[];let se;for(se in w.signatures)W.push(w._typedFunctionData.signatureMap.get(se))}else W=w._typedFunctionData.signatures;for(let se=0;se<U;++se){let ve=I[se],Me=[],Ge;for(Ge of W){let Le=q(Ge.params,se);if(!(!Le||ve.restParam&&!Le.restParam)){if(!Le.hasAny){let Ye=A(Le);if(ve.types.some(Xe=>!Ye.has(Xe.name)))continue}Me.push(Ge)}}if(W=Me,W.length===0)break}let L;for(L of W)if(L.params.length<=U)return L;throw new TypeError("Signature not found (signature: "+(w.name||"unnamed")+"("+E(I,", ")+"))")}function C(w,b,B){return g(w,b,B).implementation}function x(w,b){let B=v(b);if(B.test(w))return w;let _=B.conversionsTo;if(_.length===0)throw new Error("There are no conversions to "+b+" defined.");for(let O=0;O<_.length;O++)if(v(_[O].from).test(w))return _[O].convert(w);throw new Error("Cannot convert "+w+" to "+b)}function E(w){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return w.map(B=>B.name).join(b)}function M(w){let b=w.indexOf("...")===0,_=(b?w.length>3?w.slice(3):"any":w).split("|").map(U=>v(U.trim())),O=!1,I=b?"...":"";return{types:_.map(function(U){return O=U.isAny||O,I+=U.name+"|",{name:U.name,typeIndex:U.index,test:U.test,isAny:U.isAny,conversion:null,conversionIndex:-1}}),name:I.slice(0,-1),hasAny:O,hasConversion:!1,restParam:b}}function F(w){let b=w.types.map(G=>G.name),B=ne(b),_=w.hasAny,O=w.name,I=B.map(function(G){let U=v(G.from);return _=U.isAny||_,O+="|"+G.from,{name:G.from,typeIndex:U.index,test:U.test,isAny:U.isAny,conversion:G,conversionIndex:G.index}});return{types:w.types.concat(I),name:O,hasAny:_,hasConversion:I.length>0,restParam:w.restParam}}function A(w){return w.typeSet||(w.typeSet=new Set,w.types.forEach(b=>w.typeSet.add(b.name))),w.typeSet}function S(w){let b=[];if(typeof w!="string")throw new TypeError("Signatures must be strings");let B=w.trim();if(B==="")return b;let _=B.split(",");for(let O=0;O<_.length;++O){let I=M(_[O].trim());if(I.restParam&&O!==_.length-1)throw new SyntaxError('Unexpected rest parameter "'+_[O]+'": only allowed for the last parameter');if(I.types.length===0)return null;b.push(I)}return b}function N(w){let b=Oe(w);return b?b.restParam:!1}function P(w){if(!w||w.types.length===0)return r;if(w.types.length===1)return v(w.types[0].name).test;if(w.types.length===2){let b=v(w.types[0].name).test,B=v(w.types[1].name).test;return function(O){return b(O)||B(O)}}else{let b=w.types.map(function(B){return v(B.name).test});return function(_){for(let O=0;O<b.length;O++)if(b[O](_))return!0;return!1}}}function V(w){let b,B,_;if(N(w)){b=_e(w).map(P);let O=b.length,I=P(Oe(w)),G=function(U){for(let W=O;W<U.length;W++)if(!I(U[W]))return!1;return!0};return function(W){for(let L=0;L<b.length;L++)if(!b[L](W[L]))return!1;return G(W)&&W.length>=O+1}}else return w.length===0?function(I){return I.length===0}:w.length===1?(B=P(w[0]),function(I){return B(I[0])&&I.length===1}):w.length===2?(B=P(w[0]),_=P(w[1]),function(I){return B(I[0])&&_(I[1])&&I.length===2}):(b=w.map(P),function(I){for(let G=0;G<b.length;G++)if(!b[G](I[G]))return!1;return I.length===b.length})}function q(w,b){return b<w.length?w[b]:N(w)?Oe(w):null}function j(w,b){let B=q(w,b);return B?A(B):new Set}function T(w){return w.conversion===null||w.conversion===void 0}function Y(w,b){let B=new Set;return w.forEach(_=>{let O=j(_.params,b),I;for(I of O)B.add(I)}),B.has("any")?["any"]:Array.from(B)}function $(w,b,B){let _,O,I=w||"unnamed",G=B,U;for(U=0;U<b.length;U++){let ve=[];if(G.forEach(Me=>{let Ge=q(Me.params,U),Le=P(Ge);(U<Me.params.length||N(Me.params))&&Le(b[U])&&ve.push(Me)}),ve.length===0){if(O=Y(G,U),O.length>0){let Me=d(b[U]);return _=new TypeError("Unexpected type of argument in function "+I+" (expected: "+O.join(" or ")+", actual: "+Me.join(" | ")+", index: "+U+")"),_.data={category:"wrongType",fn:I,index:U,actual:Me,expected:O},_}}else G=ve}let W=G.map(function(ve){return N(ve.params)?Infinity:ve.params.length});if(b.length<Math.min.apply(null,W))return O=Y(G,U),_=new TypeError("Too few arguments in function "+I+" (expected: "+O.join(" or ")+", index: "+b.length+")"),_.data={category:"tooFewArgs",fn:I,index:b.length,expected:O},_;let L=Math.max.apply(null,W);if(b.length>L)return _=new TypeError("Too many arguments in function "+I+" (expected: "+L+", actual: "+b.length+")"),_.data={category:"tooManyArgs",fn:I,index:b.length,expectedLength:L},_;let se=[];for(let ve=0;ve<b.length;++ve)se.push(d(b[ve]).join("|"));return _=new TypeError('Arguments of type "'+se.join(", ")+'" do not match any of the defined signatures of function '+I+"."),_.data={category:"mismatch",actual:se},_}function H(w){let b=a.length+1;for(let B=0;B<w.types.length;B++)T(w.types[B])&&(b=Math.min(b,w.types[B].typeIndex));return b}function J(w){let b=f+1;for(let B=0;B<w.types.length;B++)T(w.types[B])||(b=Math.min(b,w.types[B].conversionIndex));return b}function ae(w,b){if(w.hasAny){if(!b.hasAny)return 1}else if(b.hasAny)return-1;if(w.restParam){if(!b.restParam)return 1}else if(b.restParam)return-1;if(w.hasConversion){if(!b.hasConversion)return 1}else if(b.hasConversion)return-1;let B=H(w)-H(b);if(B<0)return-1;if(B>0)return 1;let _=J(w)-J(b);return _<0?-1:_>0?1:0}function ie(w,b){let B=w.params,_=b.params,O=Oe(B),I=Oe(_),G=N(B),U=N(_);if(G&&O.hasAny){if(!U||!I.hasAny)return 1}else if(U&&I.hasAny)return-1;let W=0,L=0,se;for(se of B)se.hasAny&&++W,se.hasConversion&&++L;let ve=0,Me=0;for(se of _)se.hasAny&&++ve,se.hasConversion&&++Me;if(W!==ve)return W-ve;if(G&&O.hasConversion){if(!U||!I.hasConversion)return 1}else if(U&&I.hasConversion)return-1;if(L!==Me)return L-Me;if(G){if(!U)return 1}else if(U)return-1;let Ge=(B.length-_.length)*(G?-1:1);if(Ge!==0)return Ge;let Le=[],Ye=0;for(let Fr=0;Fr<B.length;++Fr){let kr=ae(B[Fr],_[Fr]);Le.push(kr),Ye+=kr}if(Ye!==0)return Ye;let Xe;for(Xe of Le)if(Xe!==0)return Xe;return 0}function ne(w){if(w.length===0)return[];let b=w.map(v);w.length>1&&b.sort((O,I)=>O.index-I.index);let B=b[0].conversionsTo;if(w.length===1)return B;B=B.concat([]);let _=new Set(w);for(let O=1;O<b.length;++O){let I;for(I of b[O].conversionsTo)_.has(I.from)||(B.push(I),_.add(I.from))}return B}function be(w,b){let B=b;if(w.some(O=>O.hasConversion)){let O=N(w),I=w.map(Ce);B=function(){let U=[],W=O?arguments.length-1:arguments.length;for(let L=0;L<W;L++)U[L]=I[L](arguments[L]);return O&&(U[W]=arguments[W].map(I[W])),b.apply(this,U)}}let _=B;if(N(w)){let O=w.length-1;_=function(){return B.apply(this,Qe(arguments,0,O).concat([Qe(arguments,O)]))}}return _}function Ce(w){let b,B,_,O,I=[],G=[];switch(w.types.forEach(function(U){U.conversion&&(I.push(v(U.conversion.from).test),G.push(U.conversion.convert))}),G.length){case 0:return function(W){return W};case 1:return b=I[0],_=G[0],function(W){return b(W)?_(W):W};case 2:return b=I[0],B=I[1],_=G[0],O=G[1],function(W){return b(W)?_(W):B(W)?O(W):W};default:return function(W){for(let L=0;L<G.length;L++)if(I[L](W))return G[L](W);return W}}}function Be(w){function b(B,_,O){if(_<B.length){let I=B[_],G=[];if(I.restParam){let U=I.types.filter(T);U.length<I.types.length&&G.push({types:U,name:"..."+U.map(W=>W.name).join("|"),hasAny:U.some(W=>W.isAny),hasConversion:!1,restParam:!0}),G.push(I)}else G=I.types.map(function(U){return{types:[U],name:U.name,hasAny:U.isAny,hasConversion:U.conversion,restParam:!1}});return Tr(G,function(U){return b(B,_+1,O.concat([U]))})}else return[O]}return b(w,0,[])}function xe(w,b){let B=Math.max(w.length,b.length);for(let U=0;U<B;U++){let W=j(w,U),L=j(b,U),se=!1,ve;for(ve of L)if(W.has(ve)){se=!0;break}if(!se)return!1}let _=w.length,O=b.length,I=N(w),G=N(b);return I?G?_===O:O>=_:G?_>=O:_===O}function je(w){return w.map(b=>Cn(b)?xn(b.referToSelf.callback):En(b)?Xr(b.referTo.references,b.referTo.callback):b)}function Ee(w,b,B){let _=[],O;for(O of w){let I=B[O];if(typeof I!="number")throw new TypeError('No definition for referenced signature "'+O+'"');if(I=b[I],typeof I!="function")return!1;_.push(I)}return _}function de(w,b,B){let _=je(w),O=new Array(_.length).fill(!1),I=!0;for(;I;){I=!1;let G=!0;for(let U=0;U<_.length;++U){if(O[U])continue;let W=_[U];if(Cn(W))_[U]=W.referToSelf.callback(B),_[U].referToSelf=W.referToSelf,O[U]=!0,G=!1;else if(En(W)){let L=Ee(W.referTo.references,_,b);L?(_[U]=W.referTo.callback.apply(this,L),_[U].referTo=W.referTo,O[U]=!0,G=!1):I=!0}}if(G&&I)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return _}function Ze(w){let b=/\bthis(\(|\.signatures\b)/;Object.keys(w).forEach(B=>{let _=w[B];if(b.test(_.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function Ie(w,b){if(h.createCount++,Object.keys(b).length===0)throw new SyntaxError("No signatures provided");h.warnAgainstDeprecatedThis&&Ze(b);let B=[],_=[],O={},I=[],G;for(G in b){if(!Object.prototype.hasOwnProperty.call(b,G))continue;let oe=S(G);if(!oe)continue;B.forEach(function(zr){if(xe(zr,oe))throw new TypeError('Conflicting signatures "'+E(zr)+'" and "'+E(oe)+'".')}),B.push(oe);let We=_.length;_.push(b[G]);let cu=oe.map(F),Jr;for(Jr of Be(cu)){let zr=E(Jr);I.push({params:Jr,name:zr,fn:We}),Jr.every(lu=>!lu.hasConversion)&&(O[zr]=We)}}I.sort(ie);let U=de(_,O,Ir),W;for(W in O)Object.prototype.hasOwnProperty.call(O,W)&&(O[W]=U[O[W]]);let L=[],se=new Map;for(W of I)se.has(W.name)||(W.fn=U[W.fn],L.push(W),se.set(W.name,W));let ve=L[0]&&L[0].params.length<=2&&!N(L[0].params),Me=L[1]&&L[1].params.length<=2&&!N(L[1].params),Ge=L[2]&&L[2].params.length<=2&&!N(L[2].params),Le=L[3]&&L[3].params.length<=2&&!N(L[3].params),Ye=L[4]&&L[4].params.length<=2&&!N(L[4].params),Xe=L[5]&&L[5].params.length<=2&&!N(L[5].params),Fr=ve&&Me&&Ge&&Le&&Ye&&Xe;for(let oe=0;oe<L.length;++oe)L[oe].test=V(L[oe].params);let kr=ve?P(L[0].params[0]):e,Oa=Me?P(L[1].params[0]):e,Ra=Ge?P(L[2].params[0]):e,La=Le?P(L[3].params[0]):e,Ua=Ye?P(L[4].params[0]):e,qa=Xe?P(L[5].params[0]):e,ja=ve?P(L[0].params[1]):e,Ga=Me?P(L[1].params[1]):e,Wa=Ge?P(L[2].params[1]):e,Va=Le?P(L[3].params[1]):e,Ha=Ye?P(L[4].params[1]):e,$a=Xe?P(L[5].params[1]):e;for(let oe=0;oe<L.length;++oe)L[oe].implementation=be(L[oe].params,L[oe].fn);let Za=ve?L[0].implementation:t,Ya=Me?L[1].implementation:t,Xa=Ge?L[2].implementation:t,ka=Le?L[3].implementation:t,Ja=Ye?L[4].implementation:t,Qa=Xe?L[5].implementation:t,Ka=ve?L[0].params.length:-1,eu=Me?L[1].params.length:-1,ru=Ge?L[2].params.length:-1,tu=Le?L[3].params.length:-1,nu=Ye?L[4].params.length:-1,iu=Xe?L[5].params.length:-1,ou=Fr?6:0,au=L.length,uu=L.map(oe=>oe.test),su=L.map(oe=>oe.implementation),fu=function(){for(let We=ou;We<au;We++)if(uu[We](arguments))return su[We].apply(this,arguments);return h.onMismatch(w,arguments,L)};function Ir(oe,We){return arguments.length===Ka&&kr(oe)&&ja(We)?Za.apply(this,arguments):arguments.length===eu&&Oa(oe)&&Ga(We)?Ya.apply(this,arguments):arguments.length===ru&&Ra(oe)&&Wa(We)?Xa.apply(this,arguments):arguments.length===tu&&La(oe)&&Va(We)?ka.apply(this,arguments):arguments.length===nu&&Ua(oe)&&Ha(We)?Ja.apply(this,arguments):arguments.length===iu&&qa(oe)&&$a(We)?Qa.apply(this,arguments):fu.apply(this,arguments)}try{Object.defineProperty(Ir,"name",{value:w})}catch(oe){}return Ir.signatures=O,Ir._typedFunctionData={signatures:L,signatureMap:se},Ir}function ue(w,b,B){throw $(w,b,B)}function _e(w){return Qe(w,0,w.length-1)}function Oe(w){return w[w.length-1]}function Qe(w,b,B){return Array.prototype.slice.call(w,b,B)}function cr(w,b){for(let B=0;B<w.length;B++)if(b(w[B]))return w[B]}function Tr(w,b){return Array.prototype.concat.apply([],w.map(b))}function Ar(){let w=_e(arguments).map(B=>E(S(B))),b=Oe(arguments);if(typeof b!="function")throw new TypeError("Callback function expected as last argument");return Xr(w,b)}function Xr(w,b){return{referTo:{references:w,callback:b}}}function xn(w){if(typeof w!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:w}}}function En(w){return w&&typeof w.referTo=="object"&&Array.isArray(w.referTo.references)&&typeof w.referTo.callback=="function"}function Cn(w){return w&&typeof w.referToSelf=="object"&&typeof w.referToSelf.callback=="function"}function An(w,b){if(!w)return b;if(b&&b!==w){let B=new Error("Function names do not match (expected: "+w+", actual: "+b+")");throw B.data={actual:b,expected:w},B}return w}function Ta(w){let b;for(let B in w)Object.prototype.hasOwnProperty.call(w,B)&&(y(w[B])||typeof w[B].signature=="string")&&(b=An(b,w[B].name));return b}function Ia(w,b){let B;for(B in b)if(Object.prototype.hasOwnProperty.call(b,B)){if(B in w&&b[B]!==w[B]){let _=new Error('Signature "'+B+'" is defined twice');throw _.data={signature:B,sourceFunction:b[B],destFunction:w[B]},_}w[B]=b[B]}}let za=h;h=function(w){let b=typeof w=="string",B=b?1:0,_=b?w:"",O={};for(let I=B;I<arguments.length;++I){let G=arguments[I],U={},W;if(typeof G=="function"?(W=G.name,typeof G.signature=="string"?U[G.signature]=G:y(G)&&(U=G.signatures)):l(G)&&(U=G,b||(W=Ta(G))),Object.keys(U).length===0){let L=new TypeError("Argument to 'typed' at index "+I+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw L.data={index:I,argument:G},L}b||(_=An(_,W)),Ia(O,U)}return Ie(_||"",O)},h.create=i,h.createCount=za.createCount,h.onMismatch=ue,h.throwMismatchError=ue,h.createError=$,h.clear=s,h.clearConversions=m,h.addTypes=D,h._findType=v,h.referTo=Ar,h.referToSelf=xn,h.convert=x,h.findSignature=g,h.find=C,h.isTypedFunction=y,h.warnAgainstDeprecatedThis=!0,h.addType=function(w,b){let B="any";b!==!1&&u.has("Object")&&(B="Object"),h.addTypes([w],B)};function Fn(w){if(!w||typeof w.from!="string"||typeof w.to!="string"||typeof w.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(w.to===w.from)throw new SyntaxError('Illegal to define conversion from "'+w.from+'" to itself.')}return h.addConversion=function(w){Fn(w);let b=v(w.to);if(b.conversionsTo.every(function(B){return B.from!==w.from}))b.conversionsTo.push({from:w.from,convert:w.convert,index:f++});else throw new Error('There is already a conversion from "'+w.from+'" to "'+b.name+'"')},h.addConversions=function(w){w.forEach(h.addConversion)},h.removeConversion=function(w){Fn(w);let b=v(w.to),B=cr(b.conversionsTo,O=>O.from===w.from);if(!B)throw new Error("Attempt to remove nonexistent conversion from "+w.from+" to "+w.to);if(B.convert!==w.convert)throw new Error("Conversion to remove does not match existing conversion");let _=b.conversionsTo.indexOf(B);b.conversionsTo.splice(_,1)},h.resolve=function(w,b){if(!y(w))throw new TypeError(n);let B=w._typedFunctionData.signatures;for(let _=0;_<B.length;++_)if(B[_].test(b))return B[_];return null},h}var o=i();return o})});var Ji=Kr((kt,ki)=>{(function(r){"use strict";var e=Math.cosh||function(u){return Math.abs(u)<1e-9?1-u:(Math.exp(u)+Math.exp(-u))*.5},t=Math.sinh||function(u){return Math.abs(u)<1e-9?u:(Math.exp(u)-Math.exp(-u))*.5},n=function(u){var a=Math.PI/4;if(-a>u||u>a)return Math.cos(u)-1;var f=u*u;return f*(f*(f*(f*(f*(f*(f*(f/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},i=function(u,a){var f=Math.abs(u),h=Math.abs(a);return f<3e3&&h<3e3?Math.sqrt(f*f+h*h):(f<h?(f=h,h=u/a):h=a/u,f*Math.sqrt(1+h*h))},o=function(){throw SyntaxError("Invalid Param")};function l(u,a){var f=Math.abs(u),h=Math.abs(a);return u===0?Math.log(h):a===0?Math.log(f):f<3e3&&h<3e3?Math.log(u*u+a*a)*.5:(u=u/2,a=a/2,.5*Math.log(u*u+a*a)+Math.LN2)}var p=function(u,a){var f={re:0,im:0};if(u==null)f.re=f.im=0;else if(a!==void 0)f.re=u,f.im=a;else switch(typeof u){case"object":if("im"in u&&"re"in u)f.re=u.re,f.im=u.im;else if("abs"in u&&"arg"in u){if(!Number.isFinite(u.abs)&&Number.isFinite(u.arg))return c.INFINITY;f.re=u.abs*Math.cos(u.arg),f.im=u.abs*Math.sin(u.arg)}else if("r"in u&&"phi"in u){if(!Number.isFinite(u.r)&&Number.isFinite(u.phi))return c.INFINITY;f.re=u.r*Math.cos(u.phi),f.im=u.r*Math.sin(u.phi)}else u.length===2?(f.re=u[0],f.im=u[1]):o();break;case"string":f.im=f.re=0;var h=u.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),v=1,D=0;h===null&&o();for(var s=0;s<h.length;s++){var m=h[s];m===" "||m==="	"||m===`
`||(m==="+"?v++:m==="-"?D++:m==="i"||m==="I"?(v+D===0&&o(),h[s+1]!==" "&&!isNaN(h[s+1])?(f.im+=parseFloat((D%2?"-":"")+h[s+1]),s++):f.im+=parseFloat((D%2?"-":"")+"1"),v=D=0):((v+D===0||isNaN(m))&&o(),h[s+1]==="i"||h[s+1]==="I"?(f.im+=parseFloat((D%2?"-":"")+m),s++):f.re+=parseFloat((D%2?"-":"")+m),v=D=0))}v+D>0&&o();break;case"number":f.im=0,f.re=u;break;default:o()}return isNaN(f.re)||isNaN(f.im),f};function c(u,a){if(!(this instanceof c))return new c(u,a);var f=p(u,a);this.re=f.re,this.im=f.im}c.prototype={re:0,im:0,sign:function(){var u=this.abs();return new c(this.re/u,this.im/u)},add:function(u,a){var f=new c(u,a);return this.isInfinite()&&f.isInfinite()?c.NAN:this.isInfinite()||f.isInfinite()?c.INFINITY:new c(this.re+f.re,this.im+f.im)},sub:function(u,a){var f=new c(u,a);return this.isInfinite()&&f.isInfinite()?c.NAN:this.isInfinite()||f.isInfinite()?c.INFINITY:new c(this.re-f.re,this.im-f.im)},mul:function(u,a){var f=new c(u,a);return this.isInfinite()&&f.isZero()||this.isZero()&&f.isInfinite()?c.NAN:this.isInfinite()||f.isInfinite()?c.INFINITY:f.im===0&&this.im===0?new c(this.re*f.re,0):new c(this.re*f.re-this.im*f.im,this.re*f.im+this.im*f.re)},div:function(u,a){var f=new c(u,a);if(this.isZero()&&f.isZero()||this.isInfinite()&&f.isInfinite())return c.NAN;if(this.isInfinite()||f.isZero())return c.INFINITY;if(this.isZero()||f.isInfinite())return c.ZERO;u=this.re,a=this.im;var h=f.re,v=f.im,D,s;return v===0?new c(u/h,a/h):Math.abs(h)<Math.abs(v)?(s=h/v,D=h*s+v,new c((u*s+a)/D,(a*s-u)/D)):(s=v/h,D=v*s+h,new c((u+a*s)/D,(a-u*s)/D))},pow:function(u,a){var f=new c(u,a);if(u=this.re,a=this.im,f.isZero())return c.ONE;if(f.im===0){if(a===0&&u>0)return new c(Math.pow(u,f.re),0);if(u===0)switch((f.re%4+4)%4){case 0:return new c(Math.pow(a,f.re),0);case 1:return new c(0,Math.pow(a,f.re));case 2:return new c(-Math.pow(a,f.re),0);case 3:return new c(0,-Math.pow(a,f.re))}}if(u===0&&a===0&&f.re>0&&f.im>=0)return c.ZERO;var h=Math.atan2(a,u),v=l(u,a);return u=Math.exp(f.re*v-f.im*h),a=f.im*v+f.re*h,new c(u*Math.cos(a),u*Math.sin(a))},sqrt:function(){var u=this.re,a=this.im,f=this.abs(),h,v;if(u>=0){if(a===0)return new c(Math.sqrt(u),0);h=.5*Math.sqrt(2*(f+u))}else h=Math.abs(a)/Math.sqrt(2*(f-u));return u<=0?v=.5*Math.sqrt(2*(f-u)):v=Math.abs(a)/Math.sqrt(2*(f+u)),new c(h,a<0?-v:v)},exp:function(){var u=Math.exp(this.re);return this.im===0,new c(u*Math.cos(this.im),u*Math.sin(this.im))},expm1:function(){var u=this.re,a=this.im;return new c(Math.expm1(u)*Math.cos(a)+n(a),Math.exp(u)*Math.sin(a))},log:function(){var u=this.re,a=this.im;return a===0&&u>0,new c(l(u,a),Math.atan2(a,u))},abs:function(){return i(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var u=this.re,a=this.im;return new c(Math.sin(u)*e(a),Math.cos(u)*t(a))},cos:function(){var u=this.re,a=this.im;return new c(Math.cos(u)*e(a),-Math.sin(u)*t(a))},tan:function(){var u=2*this.re,a=2*this.im,f=Math.cos(u)+e(a);return new c(Math.sin(u)/f,t(a)/f)},cot:function(){var u=2*this.re,a=2*this.im,f=Math.cos(u)-e(a);return new c(-Math.sin(u)/f,t(a)/f)},sec:function(){var u=this.re,a=this.im,f=.5*e(2*a)+.5*Math.cos(2*u);return new c(Math.cos(u)*e(a)/f,Math.sin(u)*t(a)/f)},csc:function(){var u=this.re,a=this.im,f=.5*e(2*a)-.5*Math.cos(2*u);return new c(Math.sin(u)*e(a)/f,-Math.cos(u)*t(a)/f)},asin:function(){var u=this.re,a=this.im,f=new c(a*a-u*u+1,-2*u*a).sqrt(),h=new c(f.re-a,f.im+u).log();return new c(h.im,-h.re)},acos:function(){var u=this.re,a=this.im,f=new c(a*a-u*u+1,-2*u*a).sqrt(),h=new c(f.re-a,f.im+u).log();return new c(Math.PI/2-h.im,h.re)},atan:function(){var u=this.re,a=this.im;if(u===0){if(a===1)return new c(0,Infinity);if(a===-1)return new c(0,-Infinity)}var f=u*u+(1-a)*(1-a),h=new c((1-a*a-u*u)/f,-2*u/f).log();return new c(-.5*h.im,.5*h.re)},acot:function(){var u=this.re,a=this.im;if(a===0)return new c(Math.atan2(1,u),0);var f=u*u+a*a;return f!==0?new c(u/f,-a/f).atan():new c(u!==0?u/0:0,a!==0?-a/0:0).atan()},asec:function(){var u=this.re,a=this.im;if(u===0&&a===0)return new c(0,Infinity);var f=u*u+a*a;return f!==0?new c(u/f,-a/f).acos():new c(u!==0?u/0:0,a!==0?-a/0:0).acos()},acsc:function(){var u=this.re,a=this.im;if(u===0&&a===0)return new c(Math.PI/2,Infinity);var f=u*u+a*a;return f!==0?new c(u/f,-a/f).asin():new c(u!==0?u/0:0,a!==0?-a/0:0).asin()},sinh:function(){var u=this.re,a=this.im;return new c(t(u)*Math.cos(a),e(u)*Math.sin(a))},cosh:function(){var u=this.re,a=this.im;return new c(e(u)*Math.cos(a),t(u)*Math.sin(a))},tanh:function(){var u=2*this.re,a=2*this.im,f=e(u)+Math.cos(a);return new c(t(u)/f,Math.sin(a)/f)},coth:function(){var u=2*this.re,a=2*this.im,f=e(u)-Math.cos(a);return new c(t(u)/f,-Math.sin(a)/f)},csch:function(){var u=this.re,a=this.im,f=Math.cos(2*a)-e(2*u);return new c(-2*t(u)*Math.cos(a)/f,2*e(u)*Math.sin(a)/f)},sech:function(){var u=this.re,a=this.im,f=Math.cos(2*a)+e(2*u);return new c(2*e(u)*Math.cos(a)/f,-2*t(u)*Math.sin(a)/f)},asinh:function(){var u=this.im;this.im=-this.re,this.re=u;var a=this.asin();return this.re=-this.im,this.im=u,u=a.re,a.re=-a.im,a.im=u,a},acosh:function(){var u=this.acos();if(u.im<=0){var a=u.re;u.re=-u.im,u.im=a}else{var a=u.im;u.im=-u.re,u.re=a}return u},atanh:function(){var u=this.re,a=this.im,f=u>1&&a===0,h=1-u,v=1+u,D=h*h+a*a,s=D!==0?new c((v*h-a*a)/D,(a*h+v*a)/D):new c(u!==-1?u/0:0,a!==0?a/0:0),m=s.re;return s.re=l(s.re,s.im)/2,s.im=Math.atan2(s.im,m)/2,f&&(s.im=-s.im),s},acoth:function(){var u=this.re,a=this.im;if(u===0&&a===0)return new c(0,Math.PI/2);var f=u*u+a*a;return f!==0?new c(u/f,-a/f).atanh():new c(u!==0?u/0:0,a!==0?-a/0:0).atanh()},acsch:function(){var u=this.re,a=this.im;if(a===0)return new c(u!==0?Math.log(u+Math.sqrt(u*u+1)):Infinity,0);var f=u*u+a*a;return f!==0?new c(u/f,-a/f).asinh():new c(u!==0?u/0:0,a!==0?-a/0:0).asinh()},asech:function(){var u=this.re,a=this.im;if(this.isZero())return c.INFINITY;var f=u*u+a*a;return f!==0?new c(u/f,-a/f).acosh():new c(u!==0?u/0:0,a!==0?-a/0:0).acosh()},inverse:function(){if(this.isZero())return c.INFINITY;if(this.isInfinite())return c.ZERO;var u=this.re,a=this.im,f=u*u+a*a;return new c(u/f,-a/f)},conjugate:function(){return new c(this.re,-this.im)},neg:function(){return new c(-this.re,-this.im)},ceil:function(u){return u=Math.pow(10,u||0),new c(Math.ceil(this.re*u)/u,Math.ceil(this.im*u)/u)},floor:function(u){return u=Math.pow(10,u||0),new c(Math.floor(this.re*u)/u,Math.floor(this.im*u)/u)},round:function(u){return u=Math.pow(10,u||0),new c(Math.round(this.re*u)/u,Math.round(this.im*u)/u)},equals:function(u,a){var f=new c(u,a);return Math.abs(f.re-this.re)<=c.EPSILON&&Math.abs(f.im-this.im)<=c.EPSILON},clone:function(){return new c(this.re,this.im)},toString:function(){var u=this.re,a=this.im,f="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(u)<c.EPSILON&&(u=0),Math.abs(a)<c.EPSILON&&(a=0),a===0?f+u:(u!==0?(f+=u,f+=" ",a<0?(a=-a,f+="-"):f+="+",f+=" "):a<0&&(a=-a,f+="-"),a!==1&&(f+=a),f+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},c.ZERO=new c(0,0),c.ONE=new c(1,0),c.I=new c(0,1),c.PI=new c(Math.PI,0),c.E=new c(Math.E,0),c.INFINITY=new c(Infinity,Infinity),c.NAN=new c(NaN,NaN),c.EPSILON=1e-15,typeof define=="function"&&define.amd?define([],function(){return c}):typeof kt=="object"?(Object.defineProperty(c,"__esModule",{value:!0}),c.default=c,c.Complex=c,ki.exports=c):r.Complex=c})(kt)});var eo=Kr((Jt,Ki)=>{(function(r){"use strict";var e=2e3,t={s:1,n:0,d:1};function n(s,m){if(isNaN(s=parseInt(s,10)))throw v();return s*m}function i(s,m){if(m===0)throw h();var d=Object.create(f.prototype);d.s=s<0?-1:1,s=s<0?-s:s;var y=a(s,m);return d.n=s/y,d.d=m/y,d}function o(s){for(var m={},d=s,y=2,g=4;g<=d;){for(;d%y==0;)d/=y,m[y]=(m[y]||0)+1;g+=1+2*y++}return d!==s?d>1&&(m[d]=(m[d]||0)+1):m[s]=(m[s]||0)+1,m}var l=function(s,m){var d=0,y=1,g=1,C=0,x=0,E=0,M=1,F=1,A=0,S=1,N=1,P=1,V=1e7,q;if(s!=null)if(m!==void 0){if(d=s,y=m,g=d*y,d%1!=0||y%1!=0)throw D()}else switch(typeof s){case"object":{if("d"in s&&"n"in s)d=s.n,y=s.d,"s"in s&&(d*=s.s);else if(0 in s)d=s[0],1 in s&&(y=s[1]);else throw v();g=d*y;break}case"number":{if(s<0&&(g=s,s=-s),s%1==0)d=s;else if(s>0){for(s>=1&&(F=Math.pow(10,Math.floor(1+Math.log(s)/Math.LN10)),s/=F);S<=V&&P<=V;)if(q=(A+N)/(S+P),s===q){S+P<=V?(d=A+N,y=S+P):P>S?(d=N,y=P):(d=A,y=S);break}else s>q?(A+=N,S+=P):(N+=A,P+=S),S>V?(d=N,y=P):(d=A,y=S);d*=F}else(isNaN(s)||isNaN(m))&&(y=d=NaN);break}case"string":{if(S=s.match(/\d+|./g),S===null)throw v();if(S[A]==="-"?(g=-1,A++):S[A]==="+"&&A++,S.length===A+1?x=n(S[A++],g):S[A+1]==="."||S[A]==="."?(S[A]!=="."&&(C=n(S[A++],g)),A++,(A+1===S.length||S[A+1]==="("&&S[A+3]===")"||S[A+1]==="'"&&S[A+3]==="'")&&(x=n(S[A],g),M=Math.pow(10,S[A].length),A++),(S[A]==="("&&S[A+2]===")"||S[A]==="'"&&S[A+2]==="'")&&(E=n(S[A+1],g),F=Math.pow(10,S[A+1].length)-1,A+=3)):S[A+1]==="/"||S[A+1]===":"?(x=n(S[A],g),M=n(S[A+2],1),A+=3):S[A+3]==="/"&&S[A+1]===" "&&(C=n(S[A],g),x=n(S[A+2],g),M=n(S[A+4],1),A+=5),S.length<=A){y=M*F,g=d=E+y*C+F*x;break}}default:throw v()}if(y===0)throw h();t.s=g<0?-1:1,t.n=Math.abs(d),t.d=Math.abs(y)};function p(s,m,d){for(var y=1;m>0;s=s*s%d,m>>=1)m&1&&(y=y*s%d);return y}function c(s,m){for(;m%2==0;m/=2);for(;m%5==0;m/=5);if(m===1)return 0;for(var d=10%m,y=1;d!==1;y++)if(d=d*10%m,y>e)return 0;return y}function u(s,m,d){for(var y=1,g=p(10,d,m),C=0;C<300;C++){if(y===g)return C;y=y*10%m,g=g*10%m}return 0}function a(s,m){if(!s)return m;if(!m)return s;for(;;){if(s%=m,!s)return m;if(m%=s,!m)return s}}function f(s,m){if(l(s,m),this instanceof f)s=a(t.d,t.n),this.s=t.s,this.n=t.n/s,this.d=t.d/s;else return i(t.s*t.n,t.d)}var h=function(){return new Error("Division by Zero")},v=function(){return new Error("Invalid argument")},D=function(){return new Error("Parameters must be integer")};f.prototype={s:1,n:0,d:1,abs:function(){return i(this.n,this.d)},neg:function(){return i(-this.s*this.n,this.d)},add:function(s,m){return l(s,m),i(this.s*this.n*t.d+t.s*this.d*t.n,this.d*t.d)},sub:function(s,m){return l(s,m),i(this.s*this.n*t.d-t.s*this.d*t.n,this.d*t.d)},mul:function(s,m){return l(s,m),i(this.s*t.s*this.n*t.n,this.d*t.d)},div:function(s,m){return l(s,m),i(this.s*t.s*this.n*t.d,this.d*t.n)},clone:function(){return i(this.s*this.n,this.d)},mod:function(s,m){if(isNaN(this.n)||isNaN(this.d))return new f(NaN);if(s===void 0)return i(this.s*this.n%this.d,1);if(l(s,m),t.n===0&&this.d===0)throw h();return i(this.s*(t.d*this.n)%(t.n*this.d),t.d*this.d)},gcd:function(s,m){return l(s,m),i(a(t.n,this.n)*a(t.d,this.d),t.d*this.d)},lcm:function(s,m){return l(s,m),t.n===0&&this.n===0?i(0,1):i(t.n*this.n,a(t.n,this.n)*a(t.d,this.d))},ceil:function(s){return s=Math.pow(10,s||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.ceil(s*this.s*this.n/this.d),s)},floor:function(s){return s=Math.pow(10,s||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.floor(s*this.s*this.n/this.d),s)},round:function(s){return s=Math.pow(10,s||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.round(s*this.s*this.n/this.d),s)},inverse:function(){return i(this.s*this.d,this.n)},pow:function(s,m){if(l(s,m),t.d===1)return t.s<0?i(Math.pow(this.s*this.d,t.n),Math.pow(this.n,t.n)):i(Math.pow(this.s*this.n,t.n),Math.pow(this.d,t.n));if(this.s<0)return null;var d=o(this.n),y=o(this.d),g=1,C=1;for(var x in d)if(x!=="1"){if(x==="0"){g=0;break}if(d[x]*=t.n,d[x]%t.d==0)d[x]/=t.d;else return null;g*=Math.pow(x,d[x])}for(var x in y)if(x!=="1"){if(y[x]*=t.n,y[x]%t.d==0)y[x]/=t.d;else return null;C*=Math.pow(x,y[x])}return t.s<0?i(C,g):i(g,C)},equals:function(s,m){return l(s,m),this.s*this.n*t.d==t.s*t.n*this.d},compare:function(s,m){l(s,m);var d=this.s*this.n*t.d-t.s*t.n*this.d;return(0<d)-(d<0)},simplify:function(s){if(isNaN(this.n)||isNaN(this.d))return this;s=s||.001;for(var m=this.abs(),d=m.toContinued(),y=1;y<d.length;y++){for(var g=i(d[y-1],1),C=y-2;C>=0;C--)g=g.inverse().add(d[C]);if(Math.abs(g.sub(m).valueOf())<s)return g.mul(this.s)}return this},divisible:function(s,m){return l(s,m),!(!(t.n*this.d)||this.n*t.d%(t.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(s){var m,d="",y=this.n,g=this.d;return this.s<0&&(d+="-"),g===1?d+=y:(s&&(m=Math.floor(y/g))>0&&(d+=m,d+=" ",y%=g),d+=y,d+="/",d+=g),d},toLatex:function(s){var m,d="",y=this.n,g=this.d;return this.s<0&&(d+="-"),g===1?d+=y:(s&&(m=Math.floor(y/g))>0&&(d+=m,y%=g),d+="\\frac{",d+=y,d+="}{",d+=g,d+="}"),d},toContinued:function(){var s,m=this.n,d=this.d,y=[];if(isNaN(m)||isNaN(d))return y;do y.push(Math.floor(m/d)),s=m%d,m=d,d=s;while(m!==1);return y},toString:function(s){var m=this.n,d=this.d;if(isNaN(m)||isNaN(d))return"NaN";s=s||15;var y=c(m,d),g=u(m,d,y),C=this.s<0?"-":"";if(C+=m/d|0,m%=d,m*=10,m&&(C+="."),y){for(var x=g;x--;)C+=m/d|0,m%=d,m*=10;C+="(";for(var x=y;x--;)C+=m/d|0,m%=d,m*=10;C+=")"}else for(var x=s;m&&x--;)C+=m/d|0,m%=d,m*=10;return C}},typeof Jt=="object"?(Object.defineProperty(f,"__esModule",{value:!0}),f.default=f,f.Fraction=f,Ki.exports=f):r.Fraction=f})(Jt)});window.addLoadEventListener=function(r){let e=!1,t=()=>{e||(e=!0,r())};window.addEventListener("DOMContentLoaded",t),window.addEventListener("load",t),document.addEventListener("load",t),window.addEventListener("ready",t),setTimeout(t,1e3)};window.isMobile=function(){return window.matchMedia("(any-pointer: coarse)").matches};window.getPrefixedProperty=function(r,e,t=void 0){if(Array.isArray(e)){for(let n of e)if(n in r)return r[n]}else{let n=["","webkit","moz","ms"],i=Object.keys(r).map(o=>o.toLowerCase());for(let o of n){let l=o;if(o.length>0?l+=e[0].toUpperCase()+e.substring(1):l+=e,l in r||i.includes(l.toLowerCase()))return r[l]}}if(t!==!1)throw new Error(`Property ${e} not found`)};Promise.delay=function(r){return new Promise((e,t)=>{setTimeout(e,r)})};Math.clamp=function(r,e,t){return Math.min(Math.max(r,e),t)};Math.toDegrees=function(r){let e=r*(180/Math.PI);return e<0?e+=360:e>360&&(e-=360),e};Math.toRadians=function(r){let e=r*(Math.PI/180);return e<0?e+=2*Math.PI:e>2*Math.PI&&(e-=2*Math.PI),e};Math.maximumCommonDivisor=function(r,e){return e===0?r:Math.maximumCommonDivisor(e,r%e)};Math.prettifyElapsedTime=function(r){let e=(t,n)=>t%1==0?Math.floor(t):t.toFixed(n);return r<1?`${Math.floor(r*1e3)}\u03BCs`:r<1e3?`${e(r,2)}ms`:r<6e4?`${e(r/1e3,2)}s`:r<36e5?`${e(r/6e4,2)}m`:`${e(r/36e5,2)}h`};Math.prettifySize=function(r){let e=(t,n)=>t%1==0?Math.floor(t):t.toFixed(n);return r<1024?`${r} B`:r<1048576?`${e(r/1024,2)} KiB`:r<1073741824?`${e(r/1048576,2)} MiB`:`${e(r/1073741824,2)} GiB`};HTMLCanvasElement.prototype.screenshot=function(r="download.png"){return K(this,null,function*(){let e=document.createElement("a");e.download=r,e.href=this.toDataURL("image/png;base64"),e.style.visibility="hidden",e.style.display="none",document.body.appendChild(e),yield Promise.delay(1),e.click(),yield Promise.delay(100),document.body.removeChild(e)})};var Q=class{static logColoredText(e,t,n,...i){console[e].call(console,`%c${e.toUpperCase()} %c[${t}]`,`font-weight: bold; color: ${n};`,"font-weight: bold; color: gray",...i)}static measure(e,t=void 0,n=void 0,i=void 0,o=void 0,l=void 0){}static info(e,...t){this.logColoredText("info",e,"turquoise",...t)}static warn(e,...t){this.logColoredText("warn",e,"yellow",...t)}static error(e,...t){this.logColoredText("error",e,"red",...t)}static debug(e,...t){}};Q.measureMap={};var Pe;(function(r){r.CANVAS_2D="2d",r.WEBGL="webgl2",r.WEBGPU="webgpu"})(Pe||(Pe={}));var Ft=class{constructor(e,t=void 0){this.element=document.createElement("canvas");this.virtualWidth=0;this.virtualHeight=0;t?this.element.id=t:this.element.id=`canvas-${Math.floor(Math.random()*1e5)}`,this.contextType=e;let n=this.element.getContext(e);if(!n)throw new Error("Could not get context of canvas");if(e===Pe.WEBGL&&n.isContextLost())throw new Error("WebGL context is lost");this.context=n,"webkitImageSmoothingEnabled"in this.context&&(this.context.webkitImageSmoothingEnabled=!1),"mozImageSmoothingEnabled"in this.context&&(this.context.mozImageSmoothingEnabled=!1),"msImageSmoothingEnabled"in this.context&&(this.context.msImageSmoothingEnabled=!1),"oImageSmoothingEnabled"in this.context&&(this.context.oImageSmoothingEnabled=!1),"imageSmoothingEnabled"in this.context&&(this.context.imageSmoothingEnabled=!1)}get context2D(){if(this.contextType!==Pe.CANVAS_2D)throw new Error("Context is not 2D");return this.context}get contextWebGL(){if(this.contextType!==Pe.WEBGL)throw new Error("Context is not WebGL");return this.context}get contextWebGPU(){if(this.contextType!==Pe.WEBGPU)throw new Error("Context is not WebGPU");return this.context}get backingStoreRatio(){return"webkitBackingStorePixelRatio"in this.context&&this.context.webkitBackingStorePixelRatio!==void 0?this.context.webkitBackingStorePixelRatio:"mozBackingStorePixelRatio"in this.context&&this.context.mozBackingStorePixelRatio!==void 0?this.context.mozBackingStorePixelRatio:"msBackingStorePixelRatio"in this.context&&this.context.msBackingStorePixelRatio!==void 0?this.context.msBackingStorePixelRatio:"oBackingStorePixelRatio"in this.context&&this.context.oBackingStorePixelRatio!==void 0?this.context.oBackingStorePixelRatio:"backingStorePixelRatio"in this.context&&this.context.backingStorePixelRatio!==void 0?this.context.backingStorePixelRatio:1}get devicePixelRatio(){return window.devicePixelRatio||1}get drawRatio(){return this.devicePixelRatio/this.backingStoreRatio}setSize(e,t){Q.info("DensityCanvas",`Setting size to ${e}x${t}`),this.backingStoreRatio!==this.devicePixelRatio?(this.element.width=e*this.drawRatio,this.element.height=t*this.drawRatio,this.element.style.width=`${e}px`,this.element.style.height=`${t}px`):(this.element.width=e,this.element.height=t,this.element.style.width="",this.element.style.height=""),this.contextType===Pe.CANVAS_2D&&this.context2D.scale(this.drawRatio,this.drawRatio),this.virtualWidth=e,this.virtualHeight=t;let n=Math.maximumCommonDivisor(e,t);Q.debug("DensityCanvas",`Set size to ${this.element.width}x${this.element.height} with ratio ${this.drawRatio} virtual of ${e}x${t} aspect ratio ${e/n}:${t/n}`)}attachToElement(e){e.appendChild(this.element)}get width(){return this.element.width}get height(){return this.element.height}};var Lr=class{static load(e){return K(this,null,function*(){return yield(yield fetch(e)).text()})}};var xr=class{static hslToRgba(e,t,n){let i=(1-Math.abs(2*n-1))*t,o=i*(1-Math.abs(e/60%2-1)),l=n-i/2,p=[0,0,0];return e<60?p=[i,o,0]:e<120?p=[o,i,0]:e<180?p=[0,i,o]:e<240?p=[0,o,i]:e<300?p=[o,0,i]:p=[i,0,o],[Math.floor((p[0]+l)*255),Math.floor((p[1]+l)*255),Math.floor((p[2]+l)*255)]}static calculateMandelbrotColor(e,t){let n=e/t,i=1,o=e>=t?0:.5;return xr.hslToRgba(n*360,i,o)}};var De;(function(r){r.WebGL="webgl",r.WebGPU="webgpu",r.CPU="cpu",r.CPUMathJS="mathjs",r.WASM="wasm"})(De||(De={}));var pr=class{constructor(){this.buffer=new Uint8ClampedArray(0);this.imageData=null}getCanvasType(){return Pe.CANVAS_2D}getType(){return De.CPU}setup(e){return K(this,null,function*(){})}calculateColor(e,t,n){let i=xr.calculateMandelbrotColor(e,n);this.buffer[t]=i[0],this.buffer[t+1]=i[1],this.buffer[t+2]=i[2],this.buffer[t+3]=255}step(e,t){return K(this,null,function*(){fe.startFrame(),(this.buffer.length!==t.viewport.width*t.viewport.height*4||!this.imageData)&&(this.buffer=new Uint8ClampedArray(t.viewport.width*t.viewport.height*4),this.imageData=new ImageData(this.buffer,t.viewport.width,t.viewport.height));let n=0,i=0,o=0,l=0,p=0,c=0,u=0,a=0,f=t.viewport.width/t.viewport.height,h=t.fractalSize/t.zoom,v=1/t.viewport.width,D=1/t.viewport.height,s=t.position.x,m=t.position.y,d=-.5,y=-.5;for(i=0;i<t.viewport.height;i++){for(y+=D,m=(y*h+t.position.y)/f,n=0;n<t.viewport.width;n++){for(d+=v,s=d*h+t.position.x,l=0,p=0,c=0;l*l+p*p<=4&&c<t.maxIterations;c++)o=l*l-p*p+s,p=2*l*p+m,l=o;c===t.maxIterations?a=t.maxIterations:a=c+1-Math.log2(Math.log(Math.sqrt(l*l+p*p))),u=(n+i*t.viewport.width)*4,this.calculateColor(a,u,t.maxIterations)}d=-.5}e.putImageData(this.imageData,0,0),fe.endFrame()})}destroy(e){return K(this,null,function*(){Q.info("FractalCPU","Destroying..."),this.imageData=null,this.buffer=null})}};Se([Ke("CPU-JS")],pr.prototype,"step",1),Se([Ue("CPU-JS-DESTROY")],pr.prototype,"destroy",1);var oi=Rr(Mt());var St={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function te(r){return typeof r=="number"}function ge(r){return!r||typeof r!="object"||typeof r.constructor!="function"?!1:r.isBigNumber===!0&&typeof r.constructor.prototype=="object"&&r.constructor.prototype.isBigNumber===!0||typeof r.constructor.isDecimal=="function"&&r.constructor.isDecimal(r)===!0}function Bt(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isComplex===!0||!1}function Nt(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isFraction===!0||!1}function et(r){return r&&r.constructor.prototype.isUnit===!0||!1}function qe(r){return typeof r=="string"}var pe=Array.isArray;function ce(r){return r&&r.constructor.prototype.isMatrix===!0||!1}function Er(r){return Array.isArray(r)||ce(r)}function Mn(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function Sn(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function Bn(r){return r&&r.constructor.prototype.isRange===!0||!1}function br(r){return r&&r.constructor.prototype.isIndex===!0||!1}function Nn(r){return typeof r=="boolean"}function _n(r){return r&&r.constructor.prototype.isResultSet===!0||!1}function Pn(r){return r&&r.constructor.prototype.isHelp===!0||!1}function Tn(r){return typeof r=="function"}function In(r){return r instanceof Date}function zn(r){return r instanceof RegExp}function rt(r){return!!(r&&typeof r=="object"&&r.constructor===Object&&!Bt(r)&&!Nt(r))}function On(r){return r===null}function Rn(r){return r===void 0}function Ln(r){return r&&r.isAccessorNode===!0&&r.constructor.prototype.isNode===!0||!1}function Un(r){return r&&r.isArrayNode===!0&&r.constructor.prototype.isNode===!0||!1}function qn(r){return r&&r.isAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function jn(r){return r&&r.isBlockNode===!0&&r.constructor.prototype.isNode===!0||!1}function Gn(r){return r&&r.isConditionalNode===!0&&r.constructor.prototype.isNode===!0||!1}function Wn(r){return r&&r.isConstantNode===!0&&r.constructor.prototype.isNode===!0||!1}function Vn(r){return r&&r.isFunctionAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function Hn(r){return r&&r.isFunctionNode===!0&&r.constructor.prototype.isNode===!0||!1}function $n(r){return r&&r.isIndexNode===!0&&r.constructor.prototype.isNode===!0||!1}function Zn(r){return r&&r.isNode===!0&&r.constructor.prototype.isNode===!0||!1}function Yn(r){return r&&r.isObjectNode===!0&&r.constructor.prototype.isNode===!0||!1}function Xn(r){return r&&r.isOperatorNode===!0&&r.constructor.prototype.isNode===!0||!1}function kn(r){return r&&r.isParenthesisNode===!0&&r.constructor.prototype.isNode===!0||!1}function Jn(r){return r&&r.isRangeNode===!0&&r.constructor.prototype.isNode===!0||!1}function Qn(r){return r&&r.isRelationalNode===!0&&r.constructor.prototype.isNode===!0||!1}function Kn(r){return r&&r.isSymbolNode===!0&&r.constructor.prototype.isNode===!0||!1}function ei(r){return r&&r.constructor.prototype.isChain===!0||!1}function er(r){var e=typeof r;return e==="object"?r===null?"null":ge(r)?"BigNumber":r.constructor&&r.constructor.name?r.constructor.name:"Object":e}function me(r){var e=typeof r;if(e==="number"||e==="string"||e==="boolean"||r===null||r===void 0)return r;if(typeof r.clone=="function")return r.clone();if(Array.isArray(r))return r.map(function(t){return me(t)});if(r instanceof Date)return new Date(r.valueOf());if(ge(r))return r;if(rt(r))return gu(r,me);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(r,")"))}function gu(r,e){var t={};for(var n in r)Mr(r,n)&&(t[n]=e(r[n]));return t}function ri(r,e){for(var t in e)Mr(e,t)&&(r[t]=e[t]);return r}function or(r,e){var t,n,i;if(Array.isArray(r)){if(!Array.isArray(e)||r.length!==e.length)return!1;for(n=0,i=r.length;n<i;n++)if(!or(r[n],e[n]))return!1;return!0}else{if(typeof r=="function")return r===e;if(r instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(t in r)if(!(t in e)||!or(r[t],e[t]))return!1;for(t in e)if(!(t in r))return!1;return!0}else return r===e}}function Mr(r,e){return r&&Object.hasOwnProperty.call(r,e)}function ti(r,e){for(var t={},n=0;n<e.length;n++){var i=e[n],o=r[i];o!==void 0&&(t[i]=o)}return t}var ni=["Matrix","Array"],ii=["number","BigNumber","Fraction"];var rr=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(St)};(0,oi.default)(rr,St,{MATRIX_OPTIONS:ni,NUMBER_OPTIONS:ii});var qt=Rr(ai());function ee(r){return typeof r=="boolean"?!0:isFinite(r)?r===Math.round(r):!1}var ui=Math.sign||function(r){return r>0?1:r<0?-1:0},si=Math.log2||function(e){return Math.log(e)/Math.LN2},fi=Math.log10||function(e){return Math.log(e)/Math.LN10},ci=Math.log1p||function(r){return Math.log(r+1)},li=Math.cbrt||function(e){if(e===0)return e;var t=e<0,n;return t&&(e=-e),isFinite(e)?(n=Math.exp(Math.log(e)/3),n=(e/(n*n)+2*n)/3):n=e,t?-n:n},pi=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function Tt(r,e,t){var n={2:"0b",8:"0o",16:"0x"},i=n[e],o="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!ee(t))throw new Error("size must be an integer");if(r>lr(2,t-1)-1||r<-lr(2,t-1))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!ee(r))throw new Error("Value must be an integer");r<0&&(r=r+lr(2,t)),o="i".concat(t)}var l="";return r<0&&(r=-r,l="-"),"".concat(l).concat(i).concat(r.toString(e)).concat(o)}function Ur(r,e){if(typeof e=="function")return e(r);if(r===Infinity)return"Infinity";if(r===-Infinity)return"-Infinity";if(isNaN(r))return"NaN";var t="auto",n,i;if(e&&(e.notation&&(t=e.notation),te(e)?n=e:te(e.precision)&&(n=e.precision),e.wordSize&&(i=e.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(t){case"fixed":return mi(r,n);case"exponential":return hi(r,n);case"engineering":return wu(r,n);case"bin":return Tt(r,2,i);case"oct":return Tt(r,8,i);case"hex":return Tt(r,16,i);case"auto":return yu(r,n,e&&e).replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],l=arguments[4];return o!=="."?o+l:l});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function tt(r){var e=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+r);var t=e[1],n=e[2],i=parseFloat(e[4]||"0"),o=n.indexOf(".");i+=o!==-1?o-1:n.length-1;var l=n.replace(".","").replace(/^0*/,function(p){return i-=p.length,""}).replace(/0*$/,"").split("").map(function(p){return parseInt(p)});return l.length===0&&(l.push(0),i++),{sign:t,coefficients:l,exponent:i}}function wu(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=tt(r),n=nt(t,e),i=n.exponent,o=n.coefficients,l=i%3==0?i:i<0?i-3-i%3:i-i%3;if(te(e))for(;e>o.length||i-l+1>o.length;)o.push(0);else for(var p=Math.abs(i-l)-(o.length-1),c=0;c<p;c++)o.push(0);for(var u=Math.abs(i-l),a=1;u>0;)a++,u--;var f=o.slice(a).join(""),h=te(e)&&f.length||f.match(/[1-9]/)?"."+f:"",v=o.slice(0,a).join("")+h+"e"+(i>=0?"+":"")+l.toString();return n.sign+v}function mi(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=tt(r),n=typeof e=="number"?nt(t,t.exponent+1+e):t,i=n.coefficients,o=n.exponent+1,l=o+(e||0);return i.length<l&&(i=i.concat(Sr(l-i.length))),o<0&&(i=Sr(-o+1).concat(i),o=1),o<i.length&&i.splice(o,0,o===0?"0.":"."),n.sign+i.join("")}function hi(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=tt(r),n=e?nt(t,e):t,i=n.coefficients,o=n.exponent;i.length<e&&(i=i.concat(Sr(e-i.length)));var l=i.shift();return n.sign+l+(i.length>0?"."+i.join(""):"")+"e"+(o>=0?"+":"")+o}function yu(r,e,t){if(isNaN(r)||!isFinite(r))return String(r);var n=t&&t.lowerExp!==void 0?t.lowerExp:-3,i=t&&t.upperExp!==void 0?t.upperExp:5,o=tt(r),l=e?nt(o,e):o;if(l.exponent<n||l.exponent>=i)return hi(r,e);var p=l.coefficients,c=l.exponent;p.length<e&&(p=p.concat(Sr(e-p.length))),p=p.concat(Sr(c-p.length+1+(p.length<e?e-p.length:0))),p=Sr(-c).concat(p);var u=c>0?c:0;return u<p.length-1&&p.splice(u+1,0,"."),l.sign+p.join("")}function nt(r,e){for(var t={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},n=t.coefficients;e<=0;)n.unshift(0),t.exponent++,e++;if(n.length>e){var i=n.splice(e,n.length-e);if(i[0]>=5){var o=e-1;for(n[o]++;n[o]===10;)n.pop(),o===0&&(n.unshift(0),t.exponent++,o++),o--,n[o]++}}return t}function Sr(r){for(var e=[],t=0;t<r;t++)e.push(0);return e}function di(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var xu=Number.EPSILON||2220446049250313e-31;function mr(r,e,t){if(t==null)return r===e;if(r===e)return!0;if(isNaN(r)||isNaN(e))return!1;if(isFinite(r)&&isFinite(e)){var n=Math.abs(r-e);return n<xu?!0:n<=Math.max(Math.abs(r),Math.abs(e))*t}return!1}var xi=Rr(Mt());function It(r,e,t){var n=r.constructor,i=new n(2),o="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!ee(t))throw new Error("size must be an integer");if(r.greaterThan(i.pow(t-1).sub(1))||r.lessThan(i.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(i.pow(t))),o="i".concat(t)}switch(e){case 2:return"".concat(r.toBinary()).concat(o);case 8:return"".concat(r.toOctal()).concat(o);case 16:return"".concat(r.toHexadecimal()).concat(o);default:throw new Error("Base ".concat(e," not supported "))}}function Di(r,e){if(typeof e=="function")return e(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var t="auto",n,i;if(e!==void 0&&(e.notation&&(t=e.notation),typeof e=="number"?n=e:e.precision!==void 0&&(n=e.precision),e.wordSize&&(i=e.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(t){case"fixed":return Cu(r,n);case"exponential":return vi(r,n);case"engineering":return Eu(r,n);case"bin":return It(r,2,i);case"oct":return It(r,8,i);case"hex":return It(r,16,i);case"auto":{var o=e&&e.lowerExp!==void 0?e.lowerExp:-3,l=e&&e.upperExp!==void 0?e.upperExp:5;if(r.isZero())return"0";var p,c=r.toSignificantDigits(n),u=c.e;return u>=o&&u<l?p=c.toFixed():p=vi(r,n),p.replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],f=arguments[4];return a!=="."?a+f:f})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Eu(r,e){var t=r.e,n=t%3==0?t:t<0?t-3-t%3:t-t%3,i=r.mul(Math.pow(10,-n)),o=i.toPrecision(e);if(o.indexOf("e")!==-1){var l=r.constructor;o=new l(o).toFixed()}return o+"e"+(t>=0?"+":"")+n.toString()}function vi(r,e){return e!==void 0?r.toExponential(e-1):r.toExponential()}function Cu(r,e){return r.toFixed(e)}function we(r,e){var t=Au(r,e);return e&&typeof e=="object"&&"truncate"in e&&t.length>e.truncate?t.substring(0,e.truncate-3)+"...":t}function Au(r,e){if(typeof r=="number")return Ur(r,e);if(ge(r))return Di(r,e);if(Fu(r))return!e||e.fraction!=="decimal"?r.s*r.n+"/"+r.d:r.toString();if(Array.isArray(r))return wi(r,e);if(qe(r))return gi(r);if(typeof r=="function")return r.syntax?String(r.syntax):"function";if(r&&typeof r=="object"){if(typeof r.format=="function")return r.format(e);if(r&&r.toString(e)!=={}.toString())return r.toString(e);var t=Object.keys(r).map(n=>gi(n)+": "+we(r[n],e));return"{"+t.join(", ")+"}"}return String(r)}function gi(r){for(var e=String(r),t="",n=0;n<e.length;){var i=e.charAt(n);t+=i in yi?yi[i]:i,n++}return'"'+t+'"'}var yi={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function wi(r,e){if(Array.isArray(r)){for(var t="[",n=r.length,i=0;i<n;i++)i!==0&&(t+=", "),t+=wi(r[i],e);return t+="]",t}else return we(r,e)}function Fu(r){return r&&typeof r=="object"&&typeof r.s=="number"&&typeof r.n=="number"&&typeof r.d=="number"||!1}function re(r,e,t){if(!(this instanceof re))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=e,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}re.prototype=new RangeError;re.prototype.constructor=RangeError;re.prototype.name="DimensionError";re.prototype.isDimensionError=!0;function ar(r,e,t){if(!(this instanceof ar))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}ar.prototype=new RangeError;ar.prototype.constructor=RangeError;ar.prototype.name="IndexError";ar.prototype.isIndexError=!0;function Ae(r){for(var e=[];Array.isArray(r);)e.push(r.length),r=r[0];return e}function Ei(r,e,t){var n,i=r.length;if(i!==e[t])throw new re(i,e[t]);if(t<e.length-1){var o=t+1;for(n=0;n<i;n++){var l=r[n];if(!Array.isArray(l))throw new re(e.length-1,e.length,"<");Ei(r[n],e,o)}}else for(n=0;n<i;n++)if(Array.isArray(r[n]))throw new re(e.length+1,e.length,">")}function zt(r,e){var t=e.length===0;if(t){if(Array.isArray(r))throw new re(r.length,0)}else Ei(r,e,0)}function ye(r,e){if(r!==void 0){if(!te(r)||!ee(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||typeof e=="number"&&r>=e)throw new ar(r,e)}}function qr(r,e,t){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(i){if(!te(i)||!ee(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+we(e)+")")}),(te(r)||ge(r))&&(r=[r]);var n=t!==void 0?t:0;return Ot(r,e,0,n),r}function Ot(r,e,t,n){var i,o,l=r.length,p=e[t],c=Math.min(l,p);if(r.length=p,t<e.length-1){var u=t+1;for(i=0;i<c;i++)o=r[i],Array.isArray(o)||(o=[o],r[i]=o),Ot(o,e,u,n);for(i=c;i<p;i++)o=[],r[i]=o,Ot(o,e,u,n)}else{for(i=0;i<c;i++)for(;Array.isArray(r[i]);)r[i]=r[i][0];for(i=c;i<p;i++)r[i]=n}}function Rt(r,e){var t=Mu(r),n=t.length;if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new re(0,n,"!=");e=jr(e,n);var i=Ci(e);if(n!==i)throw new re(i,n,"!=");try{return bu(t,e)}catch(o){throw o instanceof re?new re(i,n,"!="):o}}function jr(r,e){var t=Ci(r),n=r.slice(),i=-1,o=r.indexOf(i),l=r.indexOf(i,o+1)>=0;if(l)throw new Error("More than one wildcard in sizes");var p=o>=0,c=e%t==0;if(p)if(c)n[o]=-e/t;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-t);return n}function Ci(r){return r.reduce((e,t)=>e*t,1)}function bu(r,e){for(var t=r,n,i=e.length-1;i>0;i--){var o=e[i];n=[];for(var l=t.length/o,p=0;p<l;p++)n.push(t.slice(p*o,(p+1)*o));t=n}return t}function it(r,e,t,n){var i=n||Ae(r);if(t)for(var o=0;o<t;o++)r=[r],i.unshift(1);for(r=Ai(r,e,0);i.length<e;)i.push(1);return r}function Ai(r,e,t){var n,i;if(Array.isArray(r)){var o=t+1;for(n=0,i=r.length;n<i;n++)r[n]=Ai(r[n],e,o)}else for(var l=t;l<e;l++)r=[r];return r}function Mu(r){if(!Array.isArray(r))return r;var e=[];return r.forEach(function t(n){Array.isArray(n)?n.forEach(t):e.push(n)}),e}function Br(r,e){for(var t,n=0,i=0;i<r.length;i++){var o=r[i],l=Array.isArray(o);if(i===0&&l&&(n=o.length),l&&o.length!==n)return;var p=l?Br(o,e):e(o);if(t===void 0)t=p;else if(t!==p)return"mixed"}return t}function Fi(r,e,t,n){if(n<t){if(r.length!==e.length)throw new re(r.length,e.length);for(var i=[],o=0;o<r.length;o++)i[o]=Fi(r[o],e[o],t,n+1);return i}else return r.concat(e)}function Lt(){var r=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(r.length===1)return r[0];if(r.length>1)return r.slice(1).reduce(function(t,n){return Fi(t,n,e,0)},r[0]);throw new Error("Wrong number of arguments in function concat")}function Su(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];for(var n=e.map(h=>h.length),i=Math.max(...n),o=new Array(i).fill(null),l=0;l<e.length;l++)for(var p=e[l],c=n[l],u=0;u<c;u++){var a=i-c+u;p[u]>o[a]&&(o[a]=p[u])}for(var f=0;f<e.length;f++)Gr(e[f],o);return o}function Gr(r,e){for(var t=e.length,n=r.length,i=0;i<n;i++){var o=t-n+i;if(r[i]<e[o]&&r[i]>1||r[i]>e[o])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(r,") not possible to broadcast dimension ").concat(n," with size ").concat(r[i]," to size ").concat(e[o]))}}function Ut(r,e){var t=Ae(r);if(or(t,e))return r;Gr(t,e);var n=Su(t,e),i=n.length,o=[...Array(i-t.length).fill(1),...t],l=Nu(r);t.length<i&&(l=Rt(l,o),t=Ae(l));for(var p=0;p<i;p++)t[p]<n[p]&&(l=Bu(l,n[p],p),t=Ae(l));return l}function Bu(r,e,t){return Lt(...Array(e).fill(r),t)}function Nu(r){return(0,xi.default)([],r)}function R(r,e,t,n){function i(o){var l=ti(o,e.map(Pu));return _u(r,e,o),t(l)}return i.isFactory=!0,i.fn=r,i.dependencies=e.slice().sort(),n&&(i.meta=n),i}function _u(r,e,t){var n=e.filter(o=>!Tu(o)).every(o=>t[o]!==void 0);if(!n){var i=e.filter(o=>t[o]===void 0);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(i.map(o=>'"'.concat(o,'"')).join(", "),"."))}}function Tu(r){return r&&r[0]==="?"}function Pu(r){return r&&r[0]==="?"?r.slice(1):r}function Si(r,e){if(Mi(r)&&bi(r,e))return r[e];throw typeof r[e]=="function"&&Iu(r,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function Bi(r,e,t){if(Mi(r)&&bi(r,e))return r[e]=t,t;throw new Error('No access to property "'+e+'"')}function Ni(r,e){return e in r}function bi(r,e){return!r||typeof r!="object"?!1:Mr(zu,e)?!0:!(e in Object.prototype||e in Function.prototype)}function Iu(r,e){return r==null||typeof r[e]!="function"||Mr(r,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(r)?!1:Mr(Ou,e)?!0:!(e in Object.prototype||e in Function.prototype)}function Mi(r){return typeof r=="object"&&r&&r.constructor===Object}var zu={length:!0,name:!0},Ou={toString:!0,valueOf:!0,toLocaleString:!0};var _i=class{constructor(e){this.wrappedObject=e}keys(){return Object.keys(this.wrappedObject)}get(e){return Si(this.wrappedObject,e)}set(e,t){return Bi(this.wrappedObject,e,t),this}has(e){return Ni(this.wrappedObject,e)}};function Pi(r){return r?r instanceof Map||r instanceof _i||typeof r.set=="function"&&typeof r.get=="function"&&typeof r.keys=="function"&&typeof r.has=="function":!1}var Ti=function(){return Ti=qt.default.create,qt.default},Ru=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Ii=R("typed",Ru,function(e){var{BigNumber:t,Complex:n,DenseMatrix:i,Fraction:o}=e,l=Ti();return l.clear(),l.addTypes([{name:"number",test:te},{name:"Complex",test:Bt},{name:"BigNumber",test:ge},{name:"Fraction",test:Nt},{name:"Unit",test:et},{name:"identifier",test:p=>qe&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(p)},{name:"string",test:qe},{name:"Chain",test:ei},{name:"Array",test:pe},{name:"Matrix",test:ce},{name:"DenseMatrix",test:Mn},{name:"SparseMatrix",test:Sn},{name:"Range",test:Bn},{name:"Index",test:br},{name:"boolean",test:Nn},{name:"ResultSet",test:_n},{name:"Help",test:Pn},{name:"function",test:Tn},{name:"Date",test:In},{name:"RegExp",test:zn},{name:"null",test:On},{name:"undefined",test:Rn},{name:"AccessorNode",test:Ln},{name:"ArrayNode",test:Un},{name:"AssignmentNode",test:qn},{name:"BlockNode",test:jn},{name:"ConditionalNode",test:Gn},{name:"ConstantNode",test:Wn},{name:"FunctionNode",test:Hn},{name:"FunctionAssignmentNode",test:Vn},{name:"IndexNode",test:$n},{name:"Node",test:Zn},{name:"ObjectNode",test:Yn},{name:"OperatorNode",test:Xn},{name:"ParenthesisNode",test:kn},{name:"RangeNode",test:Jn},{name:"RelationalNode",test:Qn},{name:"SymbolNode",test:Kn},{name:"Map",test:Pi},{name:"Object",test:rt}]),l.addConversions([{from:"number",to:"BigNumber",convert:function(c){if(t||jt(c),di(c)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+c+"). Use function bignumber(x) to convert to BigNumber.");return new t(c)}},{from:"number",to:"Complex",convert:function(c){return n||ot(c),new n(c,0)}},{from:"BigNumber",to:"Complex",convert:function(c){return n||ot(c),new n(c.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(c){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(c){return n||ot(c),new n(c.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(c){o||Gt(c);var u=new o(c);if(u.valueOf()!==c)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+c+"). Use function fraction(x) to convert to Fraction.");return u}},{from:"string",to:"number",convert:function(c){var u=Number(c);if(isNaN(u))throw new Error('Cannot convert "'+c+'" to a number');return u}},{from:"string",to:"BigNumber",convert:function(c){t||jt(c);try{return new t(c)}catch(u){throw new Error('Cannot convert "'+c+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(c){o||Gt(c);try{return new o(c)}catch(u){throw new Error('Cannot convert "'+c+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(c){n||ot(c);try{return new n(c)}catch(u){throw new Error('Cannot convert "'+c+'" to Complex')}}},{from:"boolean",to:"number",convert:function(c){return+c}},{from:"boolean",to:"BigNumber",convert:function(c){return t||jt(c),new t(+c)}},{from:"boolean",to:"Fraction",convert:function(c){return o||Gt(c),new o(+c)}},{from:"boolean",to:"string",convert:function(c){return String(c)}},{from:"Array",to:"Matrix",convert:function(c){return i||Lu(),new i(c)}},{from:"Matrix",to:"Array",convert:function(c){return c.valueOf()}}]),l.onMismatch=(p,c,u)=>{var a=l.createError(p,c,u);if(["wrongType","mismatch"].includes(a.data.category)&&c.length===1&&Er(c[0])&&u.some(h=>!h.params.includes(","))){var f=new TypeError("Function '".concat(p,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(p,")'."));throw f.data=a.data,f}throw a},l.onMismatch=(p,c,u)=>{var a=l.createError(p,c,u);if(["wrongType","mismatch"].includes(a.data.category)&&c.length===1&&Er(c[0])&&u.some(h=>!h.params.includes(","))){var f=new TypeError("Function '".concat(p,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(p,")'."));throw f.data=a.data,f}throw a},l});function jt(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function ot(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function Lu(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Gt(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}var Nr=9e15,hr=1e9,Wt="0123456789abcdef",at="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",ut="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Vt={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Nr,maxE:Nr,crypto:!1},zi,ur,k=!0,st="[DecimalError] ",dr=st+"Invalid argument: ",Oi=st+"Precision limit exceeded",Ri=st+"crypto unavailable",Li="[object Decimal]",Re=Math.floor,Ne=Math.pow,Uu=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,qu=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,ju=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Ui=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ke=1e7,X=7,Gu=9007199254740991,Wu=at.length-1,Ht=ut.length-1,z={toStringTag:Li};z.absoluteValue=z.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),Z(r)};z.ceil=function(){return Z(new this.constructor(this),this.e+1,2)};z.clampedTo=z.clamp=function(r,e){var t,n=this,i=n.constructor;if(r=new i(r),e=new i(e),!r.s||!e.s)return new i(NaN);if(r.gt(e))throw Error(dr+e);return t=n.cmp(r),t<0?r:n.cmp(e)>0?e:new i(n)};z.comparedTo=z.cmp=function(r){var e,t,n,i,o=this,l=o.d,p=(r=new o.constructor(r)).d,c=o.s,u=r.s;if(!l||!p)return!c||!u?NaN:c!==u?c:l===p?0:!l^c<0?1:-1;if(!l[0]||!p[0])return l[0]?c:p[0]?-u:0;if(c!==u)return c;if(o.e!==r.e)return o.e>r.e^c<0?1:-1;for(n=l.length,i=p.length,e=0,t=n<i?n:i;e<t;++e)if(l[e]!==p[e])return l[e]>p[e]^c<0?1:-1;return n===i?0:n>i^c<0?1:-1};z.cosine=z.cos=function(){var r,e,t=this,n=t.constructor;return t.d?t.d[0]?(r=n.precision,e=n.rounding,n.precision=r+Math.max(t.e,t.sd())+X,n.rounding=1,t=Vu(n,qi(n,t)),n.precision=r,n.rounding=e,Z(ur==2||ur==3?t.neg():t,r,e,!0)):new n(1):new n(NaN)};z.cubeRoot=z.cbrt=function(){var r,e,t,n,i,o,l,p,c,u,a=this,f=a.constructor;if(!a.isFinite()||a.isZero())return new f(a);for(k=!1,o=a.s*Ne(a.s*a,1/3),!o||Math.abs(o)==1/0?(t=ze(a.d),r=a.e,(o=(r-t.length+1)%3)&&(t+=o==1||o==-2?"0":"00"),o=Ne(t,1/3),r=Re((r+1)/3)-(r%3==(r<0?-1:2)),o==1/0?t="5e"+r:(t=o.toExponential(),t=t.slice(0,t.indexOf("e")+1)+r),n=new f(t),n.s=a.s):n=new f(o.toString()),l=(r=f.precision)+3;;)if(p=n,c=p.times(p).times(p),u=c.plus(a),n=he(u.plus(a).times(p),u.plus(c),l+2,1),ze(p.d).slice(0,l)===(t=ze(n.d)).slice(0,l))if(t=t.slice(l-3,l+1),t=="9999"||!i&&t=="4999"){if(!i&&(Z(p,r+1,0),p.times(p).times(p).eq(a))){n=p;break}l+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(Z(n,r+1,1),e=!n.times(n).times(n).eq(a));break}return k=!0,Z(n,r,f.rounding,e)};z.decimalPlaces=z.dp=function(){var r,e=this.d,t=NaN;if(e){if(r=e.length-1,t=(r-Re(this.e/X))*X,r=e[r],r)for(;r%10==0;r/=10)t--;t<0&&(t=0)}return t};z.dividedBy=z.div=function(r){return he(this,new this.constructor(r))};z.dividedToIntegerBy=z.divToInt=function(r){var e=this,t=e.constructor;return Z(he(e,new t(r),0,1,1),t.precision,t.rounding)};z.equals=z.eq=function(r){return this.cmp(r)===0};z.floor=function(){return Z(new this.constructor(this),this.e+1,3)};z.greaterThan=z.gt=function(r){return this.cmp(r)>0};z.greaterThanOrEqualTo=z.gte=function(r){var e=this.cmp(r);return e==1||e===0};z.hyperbolicCosine=z.cosh=function(){var r,e,t,n,i,o=this,l=o.constructor,p=new l(1);if(!o.isFinite())return new l(o.s?1/0:NaN);if(o.isZero())return p;t=l.precision,n=l.rounding,l.precision=t+Math.max(o.e,o.sd())+4,l.rounding=1,i=o.d.length,i<32?(r=Math.ceil(i/3),e=(1/ft(4,r)).toString()):(r=16,e="2.3283064365386962890625e-10"),o=_r(l,1,o.times(e),new l(1),!0);for(var c,u=r,a=new l(8);u--;)c=o.times(o),o=p.minus(c.times(a.minus(c.times(a))));return Z(o,l.precision=t,l.rounding=n,!0)};z.hyperbolicSine=z.sinh=function(){var r,e,t,n,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(e=o.precision,t=o.rounding,o.precision=e+Math.max(i.e,i.sd())+4,o.rounding=1,n=i.d.length,n<3)i=_r(o,2,i,i,!0);else{r=1.4*Math.sqrt(n),r=r>16?16:r|0,i=i.times(1/ft(5,r)),i=_r(o,2,i,i,!0);for(var l,p=new o(5),c=new o(16),u=new o(20);r--;)l=i.times(i),i=i.times(p.plus(l.times(c.times(l).plus(u))))}return o.precision=e,o.rounding=t,Z(i,e,t,!0)};z.hyperbolicTangent=z.tanh=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+7,n.rounding=1,he(t.sinh(),t.cosh(),n.precision=r,n.rounding=e)):new n(t.s)};z.inverseCosine=z.acos=function(){var r,e=this,t=e.constructor,n=e.abs().cmp(1),i=t.precision,o=t.rounding;return n!==-1?n===0?e.isNeg()?Je(t,i,o):new t(0):new t(NaN):e.isZero()?Je(t,i+4,o).times(.5):(t.precision=i+6,t.rounding=1,e=e.asin(),r=Je(t,i+4,o).times(.5),t.precision=i,t.rounding=o,r.minus(e))};z.inverseHyperbolicCosine=z.acosh=function(){var r,e,t=this,n=t.constructor;return t.lte(1)?new n(t.eq(1)?0:NaN):t.isFinite()?(r=n.precision,e=n.rounding,n.precision=r+Math.max(Math.abs(t.e),t.sd())+4,n.rounding=1,k=!1,t=t.times(t).minus(1).sqrt().plus(t),k=!0,n.precision=r,n.rounding=e,t.ln()):new n(t)};z.inverseHyperbolicSine=z.asinh=function(){var r,e,t=this,n=t.constructor;return!t.isFinite()||t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+2*Math.max(Math.abs(t.e),t.sd())+6,n.rounding=1,k=!1,t=t.times(t).plus(1).sqrt().plus(t),k=!0,n.precision=r,n.rounding=e,t.ln())};z.inverseHyperbolicTangent=z.atanh=function(){var r,e,t,n,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(r=o.precision,e=o.rounding,n=i.sd(),Math.max(n,r)<2*-i.e-1?Z(new o(i),r,e,!0):(o.precision=t=n-i.e,i=he(i.plus(1),new o(1).minus(i),t+r,1),o.precision=r+4,o.rounding=1,i=i.ln(),o.precision=r,o.rounding=e,i.times(.5))):new o(NaN)};z.inverseSine=z.asin=function(){var r,e,t,n,i=this,o=i.constructor;return i.isZero()?new o(i):(e=i.abs().cmp(1),t=o.precision,n=o.rounding,e!==-1?e===0?(r=Je(o,t+4,n).times(.5),r.s=i.s,r):new o(NaN):(o.precision=t+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=t,o.rounding=n,i.times(2)))};z.inverseTangent=z.atan=function(){var r,e,t,n,i,o,l,p,c,u=this,a=u.constructor,f=a.precision,h=a.rounding;if(u.isFinite()){if(u.isZero())return new a(u);if(u.abs().eq(1)&&f+4<=Ht)return l=Je(a,f+4,h).times(.25),l.s=u.s,l}else{if(!u.s)return new a(NaN);if(f+4<=Ht)return l=Je(a,f+4,h).times(.5),l.s=u.s,l}for(a.precision=p=f+10,a.rounding=1,t=Math.min(28,p/X+2|0),r=t;r;--r)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(k=!1,e=Math.ceil(p/X),n=1,c=u.times(u),l=new a(u),i=u;r!==-1;)if(i=i.times(c),o=l.minus(i.div(n+=2)),i=i.times(c),l=o.plus(i.div(n+=2)),l.d[e]!==void 0)for(r=e;l.d[r]===o.d[r]&&r--;);return t&&(l=l.times(2<<t-1)),k=!0,Z(l,a.precision=f,a.rounding=h,!0)};z.isFinite=function(){return!!this.d};z.isInteger=z.isInt=function(){return!!this.d&&Re(this.e/X)>this.d.length-2};z.isNaN=function(){return!this.s};z.isNegative=z.isNeg=function(){return this.s<0};z.isPositive=z.isPos=function(){return this.s>0};z.isZero=function(){return!!this.d&&this.d[0]===0};z.lessThan=z.lt=function(r){return this.cmp(r)<0};z.lessThanOrEqualTo=z.lte=function(r){return this.cmp(r)<1};z.logarithm=z.log=function(r){var e,t,n,i,o,l,p,c,u=this,a=u.constructor,f=a.precision,h=a.rounding,v=5;if(r==null)r=new a(10),e=!0;else{if(r=new a(r),t=r.d,r.s<0||!t||!t[0]||r.eq(1))return new a(NaN);e=r.eq(10)}if(t=u.d,u.s<0||!t||!t[0]||u.eq(1))return new a(t&&!t[0]?-1/0:u.s!=1?NaN:t?0:1/0);if(e)if(t.length>1)o=!0;else{for(i=t[0];i%10==0;)i/=10;o=i!==1}if(k=!1,p=f+v,l=vr(u,p),n=e?ct(a,p+10):vr(r,p),c=he(l,n,p,1),Wr(c.d,i=f,h))do if(p+=10,l=vr(u,p),n=e?ct(a,p+10):vr(r,p),c=he(l,n,p,1),!o){+ze(c.d).slice(i+1,i+15)+1==1e14&&(c=Z(c,f+1,0));break}while(Wr(c.d,i+=10,h));return k=!0,Z(c,f,h)};z.minus=z.sub=function(r){var e,t,n,i,o,l,p,c,u,a,f,h,v=this,D=v.constructor;if(r=new D(r),!v.d||!r.d)return!v.s||!r.s?r=new D(NaN):v.d?r.s=-r.s:r=new D(r.d||v.s!==r.s?v:NaN),r;if(v.s!=r.s)return r.s=-r.s,v.plus(r);if(u=v.d,h=r.d,p=D.precision,c=D.rounding,!u[0]||!h[0]){if(h[0])r.s=-r.s;else if(u[0])r=new D(v);else return new D(-0);return k?Z(r,p,c):r}if(t=Re(r.e/X),a=Re(v.e/X),u=u.slice(),o=a-t,o){for(f=o<0,f?(e=u,o=-o,l=h.length):(e=h,t=a,l=u.length),n=Math.max(Math.ceil(p/X),l)+2,o>n&&(o=n,e.length=1),e.reverse(),n=o;n--;)e.push(0);e.reverse()}else{for(n=u.length,l=h.length,f=n<l,f&&(l=n),n=0;n<l;n++)if(u[n]!=h[n]){f=u[n]<h[n];break}o=0}for(f&&(e=u,u=h,h=e,r.s=-r.s),l=u.length,n=h.length-l;n>0;--n)u[l++]=0;for(n=h.length;n>o;){if(u[--n]<h[n]){for(i=n;i&&u[--i]===0;)u[i]=ke-1;--u[i],u[n]+=ke}u[n]-=h[n]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--t;return u[0]?(r.d=u,r.e=lt(u,t),k?Z(r,p,c):r):new D(-0)};z.modulo=z.mod=function(r){var e,t=this,n=t.constructor;return r=new n(r),!t.d||!r.s||r.d&&!r.d[0]?new n(NaN):!r.d||t.d&&!t.d[0]?Z(new n(t),n.precision,n.rounding):(k=!1,n.modulo==9?(e=he(t,r.abs(),0,3,1),e.s*=r.s):e=he(t,r,0,n.modulo,1),e=e.times(r),k=!0,t.minus(e))};z.naturalExponential=z.exp=function(){return $t(this)};z.naturalLogarithm=z.ln=function(){return vr(this)};z.negated=z.neg=function(){var r=new this.constructor(this);return r.s=-r.s,Z(r)};z.plus=z.add=function(r){var e,t,n,i,o,l,p,c,u,a,f=this,h=f.constructor;if(r=new h(r),!f.d||!r.d)return!f.s||!r.s?r=new h(NaN):f.d||(r=new h(r.d||f.s===r.s?f:NaN)),r;if(f.s!=r.s)return r.s=-r.s,f.minus(r);if(u=f.d,a=r.d,p=h.precision,c=h.rounding,!u[0]||!a[0])return a[0]||(r=new h(f)),k?Z(r,p,c):r;if(o=Re(f.e/X),n=Re(r.e/X),u=u.slice(),i=o-n,i){for(i<0?(t=u,i=-i,l=a.length):(t=a,n=o,l=u.length),o=Math.ceil(p/X),l=o>l?o+1:l+1,i>l&&(i=l,t.length=1),t.reverse();i--;)t.push(0);t.reverse()}for(l=u.length,i=a.length,l-i<0&&(i=l,t=a,a=u,u=t),e=0;i;)e=(u[--i]=u[i]+a[i]+e)/ke|0,u[i]%=ke;for(e&&(u.unshift(e),++n),l=u.length;u[--l]==0;)u.pop();return r.d=u,r.e=lt(u,n),k?Z(r,p,c):r};z.precision=z.sd=function(r){var e,t=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(dr+r);return t.d?(e=ji(t.d),r&&t.e+1>e&&(e=t.e+1)):e=NaN,e};z.round=function(){var r=this,e=r.constructor;return Z(new e(r),r.e+1,e.rounding)};z.sine=z.sin=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+Math.max(t.e,t.sd())+X,n.rounding=1,t=Hu(n,qi(n,t)),n.precision=r,n.rounding=e,Z(ur>2?t.neg():t,r,e,!0)):new n(NaN)};z.squareRoot=z.sqrt=function(){var r,e,t,n,i,o,l=this,p=l.d,c=l.e,u=l.s,a=l.constructor;if(u!==1||!p||!p[0])return new a(!u||u<0&&(!p||p[0])?NaN:p?l:1/0);for(k=!1,u=Math.sqrt(+l),u==0||u==1/0?(e=ze(p),(e.length+c)%2==0&&(e+="0"),u=Math.sqrt(e),c=Re((c+1)/2)-(c<0||c%2),u==1/0?e="5e"+c:(e=u.toExponential(),e=e.slice(0,e.indexOf("e")+1)+c),n=new a(e)):n=new a(u.toString()),t=(c=a.precision)+3;;)if(o=n,n=o.plus(he(l,o,t+2,1)).times(.5),ze(o.d).slice(0,t)===(e=ze(n.d)).slice(0,t))if(e=e.slice(t-3,t+1),e=="9999"||!i&&e=="4999"){if(!i&&(Z(o,c+1,0),o.times(o).eq(l))){n=o;break}t+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(Z(n,c+1,1),r=!n.times(n).eq(l));break}return k=!0,Z(n,c,a.rounding,r)};z.tangent=z.tan=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+10,n.rounding=1,t=t.sin(),t.s=1,t=he(t,new n(1).minus(t.times(t)).sqrt(),r+10,0),n.precision=r,n.rounding=e,Z(ur==2||ur==4?t.neg():t,r,e,!0)):new n(NaN)};z.times=z.mul=function(r){var e,t,n,i,o,l,p,c,u,a=this,f=a.constructor,h=a.d,v=(r=new f(r)).d;if(r.s*=a.s,!h||!h[0]||!v||!v[0])return new f(!r.s||h&&!h[0]&&!v||v&&!v[0]&&!h?NaN:!h||!v?r.s/0:r.s*0);for(t=Re(a.e/X)+Re(r.e/X),c=h.length,u=v.length,c<u&&(o=h,h=v,v=o,l=c,c=u,u=l),o=[],l=c+u,n=l;n--;)o.push(0);for(n=u;--n>=0;){for(e=0,i=c+n;i>n;)p=o[i]+v[n]*h[i-n-1]+e,o[i--]=p%ke|0,e=p/ke|0;o[i]=(o[i]+e)%ke|0}for(;!o[--l];)o.pop();return e?++t:o.shift(),r.d=o,r.e=lt(o,t),k?Z(r,f.precision,f.rounding):r};z.toBinary=function(r,e){return Zt(this,2,r,e)};z.toDecimalPlaces=z.toDP=function(r,e){var t=this,n=t.constructor;return t=new n(t),r===void 0?t:(Ve(r,0,hr),e===void 0?e=n.rounding:Ve(e,0,8),Z(t,r+t.e+1,e))};z.toExponential=function(r,e){var t,n=this,i=n.constructor;return r===void 0?t=tr(n,!0):(Ve(r,0,hr),e===void 0?e=i.rounding:Ve(e,0,8),n=Z(new i(n),r+1,e),t=tr(n,!0,r+1)),n.isNeg()&&!n.isZero()?"-"+t:t};z.toFixed=function(r,e){var t,n,i=this,o=i.constructor;return r===void 0?t=tr(i):(Ve(r,0,hr),e===void 0?e=o.rounding:Ve(e,0,8),n=Z(new o(i),r+i.e+1,e),t=tr(n,!1,r+n.e+1)),i.isNeg()&&!i.isZero()?"-"+t:t};z.toFraction=function(r){var e,t,n,i,o,l,p,c,u,a,f,h,v=this,D=v.d,s=v.constructor;if(!D)return new s(v);if(u=t=new s(1),n=c=new s(0),e=new s(n),o=e.e=ji(D)-v.e-1,l=o%X,e.d[0]=Ne(10,l<0?X+l:l),r==null)r=o>0?e:u;else{if(p=new s(r),!p.isInt()||p.lt(u))throw Error(dr+p);r=p.gt(e)?o>0?e:u:p}for(k=!1,p=new s(ze(D)),a=s.precision,s.precision=o=D.length*X*2;f=he(p,e,0,1,1),i=t.plus(f.times(n)),i.cmp(r)!=1;)t=n,n=i,i=u,u=c.plus(f.times(i)),c=i,i=e,e=p.minus(f.times(i)),p=i;return i=he(r.minus(t),n,0,1,1),c=c.plus(i.times(u)),t=t.plus(i.times(n)),c.s=u.s=v.s,h=he(u,n,o,1).minus(v).abs().cmp(he(c,t,o,1).minus(v).abs())<1?[u,n]:[c,t],s.precision=a,k=!0,h};z.toHexadecimal=z.toHex=function(r,e){return Zt(this,16,r,e)};z.toNearest=function(r,e){var t=this,n=t.constructor;if(t=new n(t),r==null){if(!t.d)return t;r=new n(1),e=n.rounding}else{if(r=new n(r),e===void 0?e=n.rounding:Ve(e,0,8),!t.d)return r.s?t:r;if(!r.d)return r.s&&(r.s=t.s),r}return r.d[0]?(k=!1,t=he(t,r,0,e,1).times(r),k=!0,Z(t)):(r.s=t.s,t=r),t};z.toNumber=function(){return+this};z.toOctal=function(r,e){return Zt(this,8,r,e)};z.toPower=z.pow=function(r){var e,t,n,i,o,l,p=this,c=p.constructor,u=+(r=new c(r));if(!p.d||!r.d||!p.d[0]||!r.d[0])return new c(Ne(+p,u));if(p=new c(p),p.eq(1))return p;if(n=c.precision,o=c.rounding,r.eq(1))return Z(p,n,o);if(e=Re(r.e/X),e>=r.d.length-1&&(t=u<0?-u:u)<=Gu)return i=Gi(c,p,t,n),r.s<0?new c(1).div(i):Z(i,n,o);if(l=p.s,l<0){if(e<r.d.length-1)return new c(NaN);if((r.d[e]&1)==0&&(l=1),p.e==0&&p.d[0]==1&&p.d.length==1)return p.s=l,p}return t=Ne(+p,u),e=t==0||!isFinite(t)?Re(u*(Math.log("0."+ze(p.d))/Math.LN10+p.e+1)):new c(t+"").e,e>c.maxE+1||e<c.minE-1?new c(e>0?l/0:0):(k=!1,c.rounding=p.s=1,t=Math.min(12,(e+"").length),i=$t(r.times(vr(p,n+t)),n),i.d&&(i=Z(i,n+5,1),Wr(i.d,n,o)&&(e=n+10,i=Z($t(r.times(vr(p,e+t)),e),e+5,1),+ze(i.d).slice(n+1,n+15)+1==1e14&&(i=Z(i,n+1,0)))),i.s=l,k=!0,c.rounding=o,Z(i,n,o))};z.toPrecision=function(r,e){var t,n=this,i=n.constructor;return r===void 0?t=tr(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(Ve(r,1,hr),e===void 0?e=i.rounding:Ve(e,0,8),n=Z(new i(n),r,e),t=tr(n,r<=n.e||n.e<=i.toExpNeg,r)),n.isNeg()&&!n.isZero()?"-"+t:t};z.toSignificantDigits=z.toSD=function(r,e){var t=this,n=t.constructor;return r===void 0?(r=n.precision,e=n.rounding):(Ve(r,1,hr),e===void 0?e=n.rounding:Ve(e,0,8)),Z(new n(t),r,e)};z.toString=function(){var r=this,e=r.constructor,t=tr(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()&&!r.isZero()?"-"+t:t};z.truncated=z.trunc=function(){return Z(new this.constructor(this),this.e+1,1)};z.valueOf=z.toJSON=function(){var r=this,e=r.constructor,t=tr(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()?"-"+t:t};function ze(r){var e,t,n,i=r.length-1,o="",l=r[0];if(i>0){for(o+=l,e=1;e<i;e++)n=r[e]+"",t=X-n.length,t&&(o+=Dr(t)),o+=n;l=r[e],n=l+"",t=X-n.length,t&&(o+=Dr(t))}else if(l===0)return"0";for(;l%10==0;)l/=10;return o+l}function Ve(r,e,t){if(r!==~~r||r<e||r>t)throw Error(dr+r)}function Wr(r,e,t,n){var i,o,l,p;for(o=r[0];o>=10;o/=10)--e;return--e<0?(e+=X,i=0):(i=Math.ceil((e+1)/X),e%=X),o=Ne(10,X-e),p=r[i]%o|0,n==null?e<3?(e==0?p=p/100|0:e==1&&(p=p/10|0),l=t<4&&p==99999||t>3&&p==49999||p==5e4||p==0):l=(t<4&&p+1==o||t>3&&p+1==o/2)&&(r[i+1]/o/100|0)==Ne(10,e-2)-1||(p==o/2||p==0)&&(r[i+1]/o/100|0)==0:e<4?(e==0?p=p/1e3|0:e==1?p=p/100|0:e==2&&(p=p/10|0),l=(n||t<4)&&p==9999||!n&&t>3&&p==4999):l=((n||t<4)&&p+1==o||!n&&t>3&&p+1==o/2)&&(r[i+1]/o/1e3|0)==Ne(10,e-3)-1,l}function pt(r,e,t){for(var n,i=[0],o,l=0,p=r.length;l<p;){for(o=i.length;o--;)i[o]*=e;for(i[0]+=Wt.indexOf(r.charAt(l++)),n=0;n<i.length;n++)i[n]>t-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/t|0,i[n]%=t)}return i.reverse()}function Vu(r,e){var t,n,i;if(e.isZero())return e;n=e.d.length,n<32?(t=Math.ceil(n/3),i=(1/ft(4,t)).toString()):(t=16,i="2.3283064365386962890625e-10"),r.precision+=t,e=_r(r,1,e.times(i),new r(1));for(var o=t;o--;){var l=e.times(e);e=l.times(l).minus(l).times(8).plus(1)}return r.precision-=t,e}var he=function(){function r(n,i,o){var l,p=0,c=n.length;for(n=n.slice();c--;)l=n[c]*i+p,n[c]=l%o|0,p=l/o|0;return p&&n.unshift(p),n}function e(n,i,o,l){var p,c;if(o!=l)c=o>l?1:-1;else for(p=c=0;p<o;p++)if(n[p]!=i[p]){c=n[p]>i[p]?1:-1;break}return c}function t(n,i,o,l){for(var p=0;o--;)n[o]-=p,p=n[o]<i[o]?1:0,n[o]=p*l+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,l,p,c){var u,a,f,h,v,D,s,m,d,y,g,C,x,E,M,F,A,S,N,P,V=n.constructor,q=n.s==i.s?1:-1,j=n.d,T=i.d;if(!j||!j[0]||!T||!T[0])return new V(!n.s||!i.s||(j?T&&j[0]==T[0]:!T)?NaN:j&&j[0]==0||!T?q*0:q/0);for(c?(v=1,a=n.e-i.e):(c=ke,v=X,a=Re(n.e/v)-Re(i.e/v)),N=T.length,A=j.length,d=new V(q),y=d.d=[],f=0;T[f]==(j[f]||0);f++);if(T[f]>(j[f]||0)&&a--,o==null?(E=o=V.precision,l=V.rounding):p?E=o+(n.e-i.e)+1:E=o,E<0)y.push(1),D=!0;else{if(E=E/v+2|0,f=0,N==1){for(h=0,T=T[0],E++;(f<A||h)&&E--;f++)M=h*c+(j[f]||0),y[f]=M/T|0,h=M%T|0;D=h||f<A}else{for(h=c/(T[0]+1)|0,h>1&&(T=r(T,h,c),j=r(j,h,c),N=T.length,A=j.length),F=N,g=j.slice(0,N),C=g.length;C<N;)g[C++]=0;P=T.slice(),P.unshift(0),S=T[0],T[1]>=c/2&&++S;do h=0,u=e(T,g,N,C),u<0?(x=g[0],N!=C&&(x=x*c+(g[1]||0)),h=x/S|0,h>1?(h>=c&&(h=c-1),s=r(T,h,c),m=s.length,C=g.length,u=e(s,g,m,C),u==1&&(h--,t(s,N<m?P:T,m,c))):(h==0&&(u=h=1),s=T.slice()),m=s.length,m<C&&s.unshift(0),t(g,s,C,c),u==-1&&(C=g.length,u=e(T,g,N,C),u<1&&(h++,t(g,N<C?P:T,C,c))),C=g.length):u===0&&(h++,g=[0]),y[f++]=h,u&&g[0]?g[C++]=j[F]||0:(g=[j[F]],C=1);while((F++<A||g[0]!==void 0)&&E--);D=g[0]!==void 0}y[0]||y.shift()}if(v==1)d.e=a,zi=D;else{for(f=1,h=y[0];h>=10;h/=10)f++;d.e=f+a*v-1,Z(d,p?o+d.e+1:o,l,D)}return d}}();function Z(r,e,t,n){var i,o,l,p,c,u,a,f,h,v=r.constructor;e:if(e!=null){if(f=r.d,!f)return r;for(i=1,p=f[0];p>=10;p/=10)i++;if(o=e-i,o<0)o+=X,l=e,a=f[h=0],c=a/Ne(10,i-l-1)%10|0;else if(h=Math.ceil((o+1)/X),p=f.length,h>=p)if(n){for(;p++<=h;)f.push(0);a=c=0,i=1,o%=X,l=o-X+1}else break e;else{for(a=p=f[h],i=1;p>=10;p/=10)i++;o%=X,l=o-X+i,c=l<0?0:a/Ne(10,i-l-1)%10|0}if(n=n||e<0||f[h+1]!==void 0||(l<0?a:a%Ne(10,i-l-1)),u=t<4?(c||n)&&(t==0||t==(r.s<0?3:2)):c>5||c==5&&(t==4||n||t==6&&(o>0?l>0?a/Ne(10,i-l):0:f[h-1])%10&1||t==(r.s<0?8:7)),e<1||!f[0])return f.length=0,u?(e-=r.e+1,f[0]=Ne(10,(X-e%X)%X),r.e=-e||0):f[0]=r.e=0,r;if(o==0?(f.length=h,p=1,h--):(f.length=h+1,p=Ne(10,X-o),f[h]=l>0?(a/Ne(10,i-l)%Ne(10,l)|0)*p:0),u)for(;;)if(h==0){for(o=1,l=f[0];l>=10;l/=10)o++;for(l=f[0]+=p,p=1;l>=10;l/=10)p++;o!=p&&(r.e++,f[0]==ke&&(f[0]=1));break}else{if(f[h]+=p,f[h]!=ke)break;f[h--]=0,p=1}for(o=f.length;f[--o]===0;)f.pop()}return k&&(r.e>v.maxE?(r.d=null,r.e=NaN):r.e<v.minE&&(r.e=0,r.d=[0])),r}function tr(r,e,t){if(!r.isFinite())return Wi(r);var n,i=r.e,o=ze(r.d),l=o.length;return e?(t&&(n=t-l)>0?o=o.charAt(0)+"."+o.slice(1)+Dr(n):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(r.e<0?"e":"e+")+r.e):i<0?(o="0."+Dr(-i-1)+o,t&&(n=t-l)>0&&(o+=Dr(n))):i>=l?(o+=Dr(i+1-l),t&&(n=t-i-1)>0&&(o=o+"."+Dr(n))):((n=i+1)<l&&(o=o.slice(0,n)+"."+o.slice(n)),t&&(n=t-l)>0&&(i+1===l&&(o+="."),o+=Dr(n))),o}function lt(r,e){var t=r[0];for(e*=X;t>=10;t/=10)e++;return e}function ct(r,e,t){if(e>Wu)throw k=!0,t&&(r.precision=t),Error(Oi);return Z(new r(at),e,1,!0)}function Je(r,e,t){if(e>Ht)throw Error(Oi);return Z(new r(ut),e,t,!0)}function ji(r){var e=r.length-1,t=e*X+1;if(e=r[e],e){for(;e%10==0;e/=10)t--;for(e=r[0];e>=10;e/=10)t++}return t}function Dr(r){for(var e="";r--;)e+="0";return e}function Gi(r,e,t,n){var i,o=new r(1),l=Math.ceil(n/X+4);for(k=!1;;){if(t%2&&(o=o.times(e),Vi(o.d,l)&&(i=!0)),t=Re(t/2),t===0){t=o.d.length-1,i&&o.d[t]===0&&++o.d[t];break}e=e.times(e),Vi(e.d,l)}return k=!0,o}function Hi(r){return r.d[r.d.length-1]&1}function $i(r,e,t){for(var n,i=new r(e[0]),o=0;++o<e.length;)if(n=new r(e[o]),n.s)i[t](n)&&(i=n);else{i=n;break}return i}function $t(r,e){var t,n,i,o,l,p,c,u=0,a=0,f=0,h=r.constructor,v=h.rounding,D=h.precision;if(!r.d||!r.d[0]||r.e>17)return new h(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:0/0);for(e==null?(k=!1,c=D):c=e,p=new h(.03125);r.e>-2;)r=r.times(p),f+=5;for(n=Math.log(Ne(2,f))/Math.LN10*2+5|0,c+=n,t=o=l=new h(1),h.precision=c;;){if(o=Z(o.times(r),c,1),t=t.times(++a),p=l.plus(he(o,t,c,1)),ze(p.d).slice(0,c)===ze(l.d).slice(0,c)){for(i=f;i--;)l=Z(l.times(l),c,1);if(e==null)if(u<3&&Wr(l.d,c-n,v,u))h.precision=c+=10,t=o=p=new h(1),a=0,u++;else return Z(l,h.precision=D,v,k=!0);else return h.precision=D,l}l=p}}function vr(r,e){var t,n,i,o,l,p,c,u,a,f,h,v=1,D=10,s=r,m=s.d,d=s.constructor,y=d.rounding,g=d.precision;if(s.s<0||!m||!m[0]||!s.e&&m[0]==1&&m.length==1)return new d(m&&!m[0]?-1/0:s.s!=1?NaN:m?0:s);if(e==null?(k=!1,a=g):a=e,d.precision=a+=D,t=ze(m),n=t.charAt(0),Math.abs(o=s.e)<15e14){for(;n<7&&n!=1||n==1&&t.charAt(1)>3;)s=s.times(r),t=ze(s.d),n=t.charAt(0),v++;o=s.e,n>1?(s=new d("0."+t),o++):s=new d(n+"."+t.slice(1))}else return u=ct(d,a+2,g).times(o+""),s=vr(new d(n+"."+t.slice(1)),a-D).plus(u),d.precision=g,e==null?Z(s,g,y,k=!0):s;for(f=s,c=l=s=he(s.minus(1),s.plus(1),a,1),h=Z(s.times(s),a,1),i=3;;){if(l=Z(l.times(h),a,1),u=c.plus(he(l,new d(i),a,1)),ze(u.d).slice(0,a)===ze(c.d).slice(0,a))if(c=c.times(2),o!==0&&(c=c.plus(ct(d,a+2,g).times(o+""))),c=he(c,new d(v),a,1),e==null)if(Wr(c.d,a-D,y,p))d.precision=a+=D,u=l=s=he(f.minus(1),f.plus(1),a,1),h=Z(s.times(s),a,1),i=p=1;else return Z(c,d.precision=g,y,k=!0);else return d.precision=g,c;c=u,i+=2}}function Wi(r){return String(r.s*r.s/0)}function Yt(r,e){var t,n,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(t<0&&(t=n),t+=+e.slice(n+1),e=e.substring(0,n)):t<0&&(t=e.length),n=0;e.charCodeAt(n)===48;n++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(n,i),e){if(i-=n,r.e=t=t-n-1,r.d=[],n=(t+1)%X,t<0&&(n+=X),n<i){for(n&&r.d.push(+e.slice(0,n)),i-=X;n<i;)r.d.push(+e.slice(n,n+=X));e=e.slice(n),n=X-e.length}else n-=i;for(;n--;)e+="0";r.d.push(+e),k&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function $u(r,e){var t,n,i,o,l,p,c,u,a;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),Ui.test(e))return Yt(r,e)}else if(e==="Infinity"||e==="NaN")return+e||(r.s=NaN),r.e=NaN,r.d=null,r;if(qu.test(e))t=16,e=e.toLowerCase();else if(Uu.test(e))t=2;else if(ju.test(e))t=8;else throw Error(dr+e);for(o=e.search(/p/i),o>0?(c=+e.slice(o+1),e=e.substring(2,o)):e=e.slice(2),o=e.indexOf("."),l=o>=0,n=r.constructor,l&&(e=e.replace(".",""),p=e.length,o=p-o,i=Gi(n,new n(t),o,o*2)),u=pt(e,t,ke),a=u.length-1,o=a;u[o]===0;--o)u.pop();return o<0?new n(r.s*0):(r.e=lt(u,a),r.d=u,k=!1,l&&(r=he(r,i,p*4)),c&&(r=r.times(Math.abs(c)<54?Ne(2,c):Vr.pow(2,c))),k=!0,r)}function Hu(r,e){var t,n=e.d.length;if(n<3)return e.isZero()?e:_r(r,2,e,e);t=1.4*Math.sqrt(n),t=t>16?16:t|0,e=e.times(1/ft(5,t)),e=_r(r,2,e,e);for(var i,o=new r(5),l=new r(16),p=new r(20);t--;)i=e.times(e),e=e.times(o.plus(i.times(l.times(i).minus(p))));return e}function _r(r,e,t,n,i){var o,l,p,c,u=1,a=r.precision,f=Math.ceil(a/X);for(k=!1,c=t.times(t),p=new r(n);;){if(l=he(p.times(c),new r(e++*e++),a,1),p=i?n.plus(l):n.minus(l),n=he(l.times(c),new r(e++*e++),a,1),l=p.plus(n),l.d[f]!==void 0){for(o=f;l.d[o]===p.d[o]&&o--;);if(o==-1)break}o=p,p=n,n=l,l=o,u++}return k=!0,l.d.length=f+1,l}function ft(r,e){for(var t=r;--e;)t*=r;return t}function qi(r,e){var t,n=e.s<0,i=Je(r,r.precision,1),o=i.times(.5);if(e=e.abs(),e.lte(o))return ur=n?4:1,e;if(t=e.divToInt(i),t.isZero())ur=n?3:2;else{if(e=e.minus(t.times(i)),e.lte(o))return ur=Hi(t)?n?2:3:n?4:1,e;ur=Hi(t)?n?1:4:n?3:2}return e.minus(i).abs()}function Zt(r,e,t,n){var i,o,l,p,c,u,a,f,h,v=r.constructor,D=t!==void 0;if(D?(Ve(t,1,hr),n===void 0?n=v.rounding:Ve(n,0,8)):(t=v.precision,n=v.rounding),!r.isFinite())a=Wi(r);else{for(a=tr(r),l=a.indexOf("."),D?(i=2,e==16?t=t*4-3:e==8&&(t=t*3-2)):i=e,l>=0&&(a=a.replace(".",""),h=new v(1),h.e=a.length-l,h.d=pt(tr(h),10,i),h.e=h.d.length),f=pt(a,10,i),o=c=f.length;f[--c]==0;)f.pop();if(!f[0])a=D?"0p+0":"0";else{if(l<0?o--:(r=new v(r),r.d=f,r.e=o,r=he(r,h,t,n,0,i),f=r.d,o=r.e,u=zi),l=f[t],p=i/2,u=u||f[t+1]!==void 0,u=n<4?(l!==void 0||u)&&(n===0||n===(r.s<0?3:2)):l>p||l===p&&(n===4||u||n===6&&f[t-1]&1||n===(r.s<0?8:7)),f.length=t,u)for(;++f[--t]>i-1;)f[t]=0,t||(++o,f.unshift(1));for(c=f.length;!f[c-1];--c);for(l=0,a="";l<c;l++)a+=Wt.charAt(f[l]);if(D){if(c>1)if(e==16||e==8){for(l=e==16?4:3,--c;c%l;c++)a+="0";for(f=pt(a,i,e),c=f.length;!f[c-1];--c);for(l=1,a="1.";l<c;l++)a+=Wt.charAt(f[l])}else a=a.charAt(0)+"."+a.slice(1);a=a+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)a="0"+a;a="0."+a}else if(++o>c)for(o-=c;o--;)a+="0";else o<c&&(a=a.slice(0,o)+"."+a.slice(o))}a=(e==16?"0x":e==2?"0b":e==8?"0o":"")+a}return r.s<0?"-"+a:a}function Vi(r,e){if(r.length>e)return r.length=e,!0}function Zu(r){return new this(r).abs()}function Yu(r){return new this(r).acos()}function Xu(r){return new this(r).acosh()}function ku(r,e){return new this(r).plus(e)}function Ju(r){return new this(r).asin()}function Qu(r){return new this(r).asinh()}function Ku(r){return new this(r).atan()}function es(r){return new this(r).atanh()}function rs(r,e){r=new this(r),e=new this(e);var t,n=this.precision,i=this.rounding,o=n+4;return!r.s||!e.s?t=new this(NaN):!r.d&&!e.d?(t=Je(this,o,1).times(e.s>0?.25:.75),t.s=r.s):!e.d||r.isZero()?(t=e.s<0?Je(this,n,i):new this(0),t.s=r.s):!r.d||e.isZero()?(t=Je(this,o,1).times(.5),t.s=r.s):e.s<0?(this.precision=o,this.rounding=1,t=this.atan(he(r,e,o,1)),e=Je(this,o,1),this.precision=n,this.rounding=i,t=r.s<0?t.minus(e):t.plus(e)):t=this.atan(he(r,e,o,1)),t}function ts(r){return new this(r).cbrt()}function ns(r){return Z(r=new this(r),r.e+1,2)}function is(r,e,t){return new this(r).clamp(e,t)}function os(r){if(!r||typeof r!="object")throw Error(st+"Object expected");var e,t,n,i=r.defaults===!0,o=["precision",1,hr,"rounding",0,8,"toExpNeg",-Nr,0,"toExpPos",0,Nr,"maxE",0,Nr,"minE",-Nr,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(t=o[e],i&&(this[t]=Vt[t]),(n=r[t])!==void 0)if(Re(n)===n&&n>=o[e+1]&&n<=o[e+2])this[t]=n;else throw Error(dr+t+": "+n);if(t="crypto",i&&(this[t]=Vt[t]),(n=r[t])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(Ri);else this[t]=!1;else throw Error(dr+t+": "+n);return this}function as(r){return new this(r).cos()}function us(r){return new this(r).cosh()}function Zi(r){var e,t,n;function i(o){var l,p,c,u=this;if(!(u instanceof i))return new i(o);if(u.constructor=i,Yi(o)){u.s=o.s,k?!o.d||o.e>i.maxE?(u.e=NaN,u.d=null):o.e<i.minE?(u.e=0,u.d=[0]):(u.e=o.e,u.d=o.d.slice()):(u.e=o.e,u.d=o.d?o.d.slice():o.d);return}if(c=typeof o,c==="number"){if(o===0){u.s=1/o<0?-1:1,u.e=0,u.d=[0];return}if(o<0?(o=-o,u.s=-1):u.s=1,o===~~o&&o<1e7){for(l=0,p=o;p>=10;p/=10)l++;k?l>i.maxE?(u.e=NaN,u.d=null):l<i.minE?(u.e=0,u.d=[0]):(u.e=l,u.d=[o]):(u.e=l,u.d=[o]);return}else if(o*0!=0){o||(u.s=NaN),u.e=NaN,u.d=null;return}return Yt(u,o.toString())}else if(c!=="string")throw Error(dr+o);return(p=o.charCodeAt(0))===45?(o=o.slice(1),u.s=-1):(p===43&&(o=o.slice(1)),u.s=1),Ui.test(o)?Yt(u,o):$u(u,o)}if(i.prototype=z,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=os,i.clone=Zi,i.isDecimal=Yi,i.abs=Zu,i.acos=Yu,i.acosh=Xu,i.add=ku,i.asin=Ju,i.asinh=Qu,i.atan=Ku,i.atanh=es,i.atan2=rs,i.cbrt=ts,i.ceil=ns,i.clamp=is,i.cos=as,i.cosh=us,i.div=ss,i.exp=fs,i.floor=cs,i.hypot=ls,i.ln=ps,i.log=ms,i.log10=ds,i.log2=hs,i.max=vs,i.min=Ds,i.mod=gs,i.mul=ws,i.pow=ys,i.random=xs,i.round=Es,i.sign=Cs,i.sin=As,i.sinh=Fs,i.sqrt=bs,i.sub=Ms,i.sum=Ss,i.tan=Bs,i.tanh=Ns,i.trunc=_s,r===void 0&&(r={}),r&&r.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)r.hasOwnProperty(t=n[e++])||(r[t]=this[t]);return i.config(r),i}function ss(r,e){return new this(r).div(e)}function fs(r){return new this(r).exp()}function cs(r){return Z(r=new this(r),r.e+1,3)}function ls(){var r,e,t=new this(0);for(k=!1,r=0;r<arguments.length;)if(e=new this(arguments[r++]),e.d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return k=!0,new this(1/0);t=e}return k=!0,t.sqrt()}function Yi(r){return r instanceof Vr||r&&r.toStringTag===Li||!1}function ps(r){return new this(r).ln()}function ms(r,e){return new this(r).log(e)}function hs(r){return new this(r).log(2)}function ds(r){return new this(r).log(10)}function vs(){return $i(this,arguments,"lt")}function Ds(){return $i(this,arguments,"gt")}function gs(r,e){return new this(r).mod(e)}function ws(r,e){return new this(r).mul(e)}function ys(r,e){return new this(r).pow(e)}function xs(r){var e,t,n,i,o=0,l=new this(1),p=[];if(r===void 0?r=this.precision:Ve(r,1,hr),n=Math.ceil(r/X),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));o<n;)i=e[o],i>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:p[o++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);o<n;)i=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((e[o+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,o):(p.push(i%1e7),o+=4);o=n/4}else throw Error(Ri);else for(;o<n;)p[o++]=Math.random()*1e7|0;for(n=p[--o],r%=X,n&&r&&(i=Ne(10,X-r),p[o]=(n/i|0)*i);p[o]===0;o--)p.pop();if(o<0)t=0,p=[0];else{for(t=-1;p[0]===0;t-=X)p.shift();for(n=1,i=p[0];i>=10;i/=10)n++;n<X&&(t-=X-n)}return l.e=t,l.d=p,l}function Es(r){return Z(r=new this(r),r.e+1,this.rounding)}function Cs(r){return r=new this(r),r.d?r.d[0]?r.s:0*r.s:r.s||NaN}function As(r){return new this(r).sin()}function Fs(r){return new this(r).sinh()}function bs(r){return new this(r).sqrt()}function Ms(r,e){return new this(r).sub(e)}function Ss(){var r=0,e=arguments,t=new this(e[r]);for(k=!1;t.s&&++r<e.length;)t=t.plus(e[r]);return k=!0,Z(t,this.precision,this.rounding)}function Bs(r){return new this(r).tan()}function Ns(r){return new this(r).tanh()}function _s(r){return Z(r=new this(r),r.e+1,1)}z[Symbol.for("nodejs.util.inspect.custom")]=z.toString;z[Symbol.toStringTag]="Decimal";var Vr=z.constructor=Zi(Vt);at=new Vr(at);ut=new Vr(ut);var Xt=Vr;var Ps="BigNumber",Ts=["?on","config"],Xi=R(Ps,Ts,r=>{var{on:e,config:t}=r,n=Xt.clone({precision:t.precision,modulo:Xt.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},e&&e("config",function(i,o){i.precision!==o.precision&&n.config({precision:i.precision})}),n},{isClass:!0});var Te=Rr(Ji());var Is="Complex",zs=[],Qi=R(Is,zs,()=>(Object.defineProperty(Te.default,"name",{value:"Complex"}),Te.default.prototype.constructor=Te.default,Te.default.prototype.type="Complex",Te.default.prototype.isComplex=!0,Te.default.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Te.default.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Te.default.prototype.format=function(r){var e="",t=this.im,n=this.re,i=Ur(this.re,r),o=Ur(this.im,r),l=te(r)?r:r?r.precision:null;if(l!==null){var p=Math.pow(10,-l);Math.abs(n/t)<p&&(n=0),Math.abs(t/n)<p&&(t=0)}return t===0?e=i:n===0?t===1?e="i":t===-1?e="-i":e=o+"i":t<0?t===-1?e=i+" - i":e=i+" - "+o.substring(1)+"i":t===1?e=i+" + i":e=i+" + "+o+"i",e},Te.default.fromPolar=function(r){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return(0,Te.default)(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],n=arguments[1];if(te(t)){if(et(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),te(n))return new Te.default({r:t,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Te.default.prototype.valueOf=Te.default.prototype.toString,Te.default.fromJSON=function(r){return new Te.default(r)},Te.default.compare=function(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0},Te.default),{isClass:!0});var nr=Rr(eo());var Os="Fraction",Rs=[],ro=R(Os,Rs,()=>(Object.defineProperty(nr.default,"name",{value:"Fraction"}),nr.default.prototype.constructor=nr.default,nr.default.prototype.type="Fraction",nr.default.prototype.isFraction=!0,nr.default.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},nr.default.fromJSON=function(r){return new nr.default(r)},nr.default),{isClass:!0});var Ls="Matrix",Us=[],to=R(Ls,Us,()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(e,t,n){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(e,t,n){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0});function mt(r){return Object.keys(r.signatures||{}).reduce(function(e,t){var n=(t.match(/,/g)||[]).length+1;return Math.max(e,n)},-1)}var qs="DenseMatrix",js=["Matrix"],no=R(qs,js,r=>{var{Matrix:e}=r;function t(a,f){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(f&&!qe(f))throw new Error("Invalid datatype: "+f);if(ce(a))a.type==="DenseMatrix"?(this._data=me(a._data),this._size=me(a._size),this._datatype=f||a._datatype):(this._data=a.toArray(),this._size=a.size(),this._datatype=f||a._datatype);else if(a&&pe(a.data)&&pe(a.size))this._data=a.data,this._size=a.size,zt(this._data,this._size),this._datatype=f||a.datatype;else if(pe(a))this._data=u(a),this._size=Ae(this._data),zt(this._data,this._size),this._datatype=f;else{if(a)throw new TypeError("Unsupported type of data ("+er(a)+")");this._data=[],this._size=[0],this._datatype=f}}t.prototype=new e,t.prototype.createDenseMatrix=function(a,f){return new t(a,f)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return Br(this._data,er)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(a,f){return new t(a,f)},t.prototype.subset=function(a,f,h){switch(arguments.length){case 1:return n(this,a);case 2:case 3:return o(this,a,f,h);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(a){if(!pe(a))throw new TypeError("Array expected");if(a.length!==this._size.length)throw new re(a.length,this._size.length);for(var f=0;f<a.length;f++)ye(a[f],this._size[f]);for(var h=this._data,v=0,D=a.length;v<D;v++){var s=a[v];ye(s,h.length),h=h[s]}return h},t.prototype.set=function(a,f,h){if(!pe(a))throw new TypeError("Array expected");if(a.length<this._size.length)throw new re(a.length,this._size.length,"<");var v,D,s,m=a.map(function(y){return y+1});c(this,m,h);var d=this._data;for(v=0,D=a.length-1;v<D;v++)s=a[v],ye(s,d.length),d=d[s];return s=a[a.length-1],ye(s,d.length),d[s]=f,this};function n(a,f){if(!br(f))throw new TypeError("Invalid index");var h=f.isScalar();if(h)return a.get(f.min());var v=f.size();if(v.length!==a._size.length)throw new re(v.length,a._size.length);for(var D=f.min(),s=f.max(),m=0,d=a._size.length;m<d;m++)ye(D[m],a._size[m]),ye(s[m],a._size[m]);return new t(i(a._data,f,v.length,0),a._datatype)}function i(a,f,h,v){var D=v===h-1,s=f.dimension(v);return D?s.map(function(m){return ye(m,a.length),a[m]}).valueOf():s.map(function(m){ye(m,a.length);var d=a[m];return i(d,f,h,v+1)}).valueOf()}function o(a,f,h,v){if(!f||f.isIndex!==!0)throw new TypeError("Invalid index");var D=f.size(),s=f.isScalar(),m;if(ce(h)?(m=h.size(),h=h.valueOf()):m=Ae(h),s){if(m.length!==0)throw new TypeError("Scalar expected");a.set(f.min(),h,v)}else{if(!or(m,D))try{m.length===0?h=Ut([h],D):h=Ut(h,D),m=Ae(h)}catch(E){}if(D.length<a._size.length)throw new re(D.length,a._size.length,"<");if(m.length<D.length){for(var d=0,y=0;D[d]===1&&m[d]===1;)d++;for(;D[d]===1;)y++,d++;h=it(h,D.length,y,m)}if(!or(D,m))throw new re(D,m,">");var g=f.max().map(function(E){return E+1});c(a,g,v);var C=D.length,x=0;l(a._data,f,h,C,x)}return a}function l(a,f,h,v,D){var s=D===v-1,m=f.dimension(D);s?m.forEach(function(d,y){ye(d),a[d]=h[y[0]]}):m.forEach(function(d,y){ye(d),l(a[d],f,h[y[0]],v,D+1)})}t.prototype.resize=function(a,f,h){if(!Er(a))throw new TypeError("Array or Matrix expected");var v=a.valueOf().map(s=>Array.isArray(s)&&s.length===1?s[0]:s),D=h?this.clone():this;return p(D,v,f)};function p(a,f,h){if(f.length===0){for(var v=a._data;pe(v);)v=v[0];return v}return a._size=f.slice(0),a._data=qr(a._data,a._size,h),a}t.prototype.reshape=function(a,f){var h=f?this.clone():this;h._data=Rt(h._data,a);var v=h._size.reduce((D,s)=>D*s);return h._size=jr(a,v),h};function c(a,f,h){for(var v=a._size.slice(0),D=!1;v.length<f.length;)v.push(0),D=!0;for(var s=0,m=f.length;s<m;s++)f[s]>v[s]&&(v[s]=f[s],D=!0);D&&p(a,v,h)}t.prototype.clone=function(){var a=new t({data:me(this._data),size:me(this._size),datatype:this._datatype});return a},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(a){var f=this,h=mt(a),v=function m(d,y){return pe(d)?d.map(function(g,C){return m(g,y.concat(C))}):h===1?a(d):h===2?a(d,y):a(d,y,f)},D=v(this._data,[]),s=this._datatype!==void 0?Br(D,er):void 0;return new t(D,s)},t.prototype.forEach=function(a){var f=this,h=function v(D,s){pe(D)?D.forEach(function(m,d){v(m,s.concat(d))}):a(D,s,f)};h(this._data,[])},t.prototype[Symbol.iterator]=function*(){var a=function*f(h,v){if(pe(h))for(var D=0;D<h.length;D++)yield*f(h[D],v.concat(D));else yield{value:h,index:v}};yield*a(this._data,[])},t.prototype.rows=function(){var a=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var h=this._data;for(var v of h)a.push(new t([v],this._datatype));return a},t.prototype.columns=function(){var a=this,f=[],h=this.size();if(h.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var v=this._data,D=function(d){var y=v.map(g=>[g[d]]);f.push(new t(y,a._datatype))},s=0;s<h[1];s++)D(s);return f},t.prototype.toArray=function(){return me(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(a){return we(this._data,a)},t.prototype.toString=function(){return we(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(a){if(a){if(ge(a)&&(a=a.toNumber()),!te(a)||!ee(a))throw new TypeError("The parameter k must be an integer number")}else a=0;for(var f=a>0?a:0,h=a<0?-a:0,v=this._size[0],D=this._size[1],s=Math.min(v-h,D-f),m=[],d=0;d<s;d++)m[d]=this._data[d+h][d+f];return new t({data:m,size:[s],datatype:this._datatype})},t.diagonal=function(a,f,h,v){if(!pe(a))throw new TypeError("Array expected, size parameter");if(a.length!==2)throw new Error("Only two dimensions matrix are supported");if(a=a.map(function(M){if(ge(M)&&(M=M.toNumber()),!te(M)||!ee(M)||M<1)throw new Error("Size values must be positive integers");return M}),h){if(ge(h)&&(h=h.toNumber()),!te(h)||!ee(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var D=h>0?h:0,s=h<0?-h:0,m=a[0],d=a[1],y=Math.min(m-s,d-D),g;if(pe(f)){if(f.length!==y)throw new Error("Invalid value array length");g=function(F){return f[F]}}else if(ce(f)){var C=f.size();if(C.length!==1||C[0]!==y)throw new Error("Invalid matrix length");g=function(F){return f.get([F])}}else g=function(){return f};v||(v=ge(g(0))?g(0).mul(0):0);var x=[];if(a.length>0){x=qr(x,a,v);for(var E=0;E<y;E++)x[E+s][E+D]=g(E)}return new t({data:x,size:[m,d]})},t.fromJSON=function(a){return new t(a)},t.prototype.swapRows=function(a,f){if(!te(a)||!ee(a)||!te(f)||!ee(f))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return ye(a,this._size[0]),ye(f,this._size[0]),t._swapRows(a,f,this._data),this},t._swapRows=function(a,f,h){var v=h[a];h[a]=h[f],h[f]=v};function u(a){return ce(a)?u(a.valueOf()):pe(a)?a.map(u):a}return t},{isClass:!0});function Fe(r,e,t){return r&&typeof r.map=="function"?r.map(function(n){return Fe(n,e,t)}):e(r)}var io="isInteger",Gs=["typed"],oo=R(io,Gs,r=>{var{typed:e}=r;return e(io,{number:ee,BigNumber:function(n){return n.isInt()},Fraction:function(n){return n.d===1&&isFinite(n.n)},"Array | Matrix":e.referToSelf(t=>n=>Fe(n,t))})});var He="number",sr="number, number";function Qt(r){return Math.abs(r)}Qt.signature=He;function Kt(r,e){return r+e}Kt.signature=sr;function en(r,e){return r-e}en.signature=sr;function rn(r,e){return r*e}rn.signature=sr;function Ws(r,e){return r/e}Ws.signature=sr;function tn(r){return-r}tn.signature=He;function Vs(r){return r}Vs.signature=He;function Hs(r){return li(r)}Hs.signature=He;function $s(r){return r*r*r}$s.signature=He;function Zs(r){return Math.exp(r)}Zs.signature=He;function Ys(r){return pi(r)}Ys.signature=He;function Xs(r,e){if(!ee(r)||!ee(e))throw new Error("Parameters in function gcd must be integer numbers");for(var t;e!==0;)t=r%e,r=e,e=t;return r<0?-r:r}Xs.signature=sr;function ks(r,e){if(!ee(r)||!ee(e))throw new Error("Parameters in function lcm must be integer numbers");if(r===0||e===0)return 0;for(var t,n=r*e;e!==0;)t=e,e=r%t,r=t;return Math.abs(n/r)}ks.signature=sr;function ao(r,e){return e?Math.log(r)/Math.log(e):Math.log(r)}function Js(r){return fi(r)}Js.signature=He;function nn(r){return si(r)}nn.signature=He;function Qs(r){return ci(r)}Qs.signature=He;function Ks(r,e){return e===0?r:r-e*Math.floor(r/e)}Ks.signature=sr;function ef(r){return ui(r)}ef.signature=He;function rf(r){return Math.sqrt(r)}rf.signature=He;function tf(r){return r*r}tf.signature=He;function nf(r,e){var t,n,i,o=0,l=1,p=1,c=0;if(!ee(r)||!ee(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)n=Math.floor(r/e),i=r-n*e,t=o,o=l-n*o,l=t,t=p,p=c-n*p,c=t,r=e,e=i;var u;return r<0?u=[-r,-l,-c]:u=[r,r?l:0,c],u}nf.signature=sr;function on(r,e){return r*r<1&&e===Infinity||r*r>1&&e===-Infinity?0:Math.pow(r,e)}on.signature=sr;function of(r){return Math.abs(r)}of.signature=He;var Hr="number";function af(r){return ee(r)}af.signature=Hr;function uf(r){return r<0}uf.signature=Hr;function sf(r){return r>0}sf.signature=Hr;function an(r){return r===0}an.signature=Hr;function ff(r){return Number.isNaN(r)}ff.signature=Hr;var uo="isZero",cf=["typed"],so=R(uo,cf,r=>{var{typed:e}=r;return e(uo,{number:an,BigNumber:function(n){return n.isZero()},Complex:function(n){return n.re===0&&n.im===0},Fraction:function(n){return n.d===1&&n.n===0},Unit:e.referToSelf(t=>n=>e.find(t,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(t=>n=>Fe(n,t))})});function ht(r,e,t){if(t==null)return r.eq(e);if(r.eq(e))return!0;if(r.isNaN()||e.isNaN())return!1;if(r.isFinite()&&e.isFinite()){var n=r.minus(e).abs();if(n.isZero())return!0;var i=r.constructor.max(r.abs(),e.abs());return n.lte(i.times(t))}return!1}function fo(r,e,t){return mr(r.re,e.re,t)&&mr(r.im,e.im,t)}var dt=R("compareUnits",["typed"],r=>{var{typed:e}=r;return{"Unit, Unit":e.referToSelf(t=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(t,[n.valueType(),i.valueType()])(n.value,i.value)})}});var vt="equalScalar",lf=["typed","config"],co=R(vt,lf,r=>{var{typed:e,config:t}=r,n=dt({typed:e});return e(vt,{"boolean, boolean":function(o,l){return o===l},"number, number":function(o,l){return mr(o,l,t.epsilon)},"BigNumber, BigNumber":function(o,l){return o.eq(l)||ht(o,l,t.epsilon)},"Fraction, Fraction":function(o,l){return o.equals(l)},"Complex, Complex":function(o,l){return fo(o,l,t.epsilon)}},n)}),yp=R(vt,["typed","config"],r=>{var{typed:e,config:t}=r;return e(vt,{"number, number":function(i,o){return mr(i,o,t.epsilon)}})});var pf="SparseMatrix",mf=["typed","equalScalar","Matrix"],lo=R(pf,mf,r=>{var{typed:e,equalScalar:t,Matrix:n}=r;function i(s,m){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!qe(m))throw new Error("Invalid datatype: "+m);if(ce(s))o(this,s,m);else if(s&&pe(s.index)&&pe(s.ptr)&&pe(s.size))this._values=s.values,this._index=s.index,this._ptr=s.ptr,this._size=s.size,this._datatype=m||s.datatype;else if(pe(s))l(this,s,m);else{if(s)throw new TypeError("Unsupported type of data ("+er(s)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=m}}function o(s,m,d){m.type==="SparseMatrix"?(s._values=m._values?me(m._values):void 0,s._index=me(m._index),s._ptr=me(m._ptr),s._size=me(m._size),s._datatype=d||m._datatype):l(s,m.valueOf(),d||m._datatype)}function l(s,m,d){s._values=[],s._index=[],s._ptr=[],s._datatype=d;var y=m.length,g=0,C=t,x=0;if(qe(d)&&(C=e.find(t,[d,d])||t,x=e.convert(0,d)),y>0){var E=0;do{s._ptr.push(s._index.length);for(var M=0;M<y;M++){var F=m[M];if(pe(F)){if(E===0&&g<F.length&&(g=F.length),E<F.length){var A=F[E];C(A,x)||(s._values.push(A),s._index.push(M))}}else E===0&&g<1&&(g=1),C(F,x)||(s._values.push(F),s._index.push(M))}E++}while(E<g)}s._ptr.push(s._index.length),s._size=[y,g]}i.prototype=new n,i.prototype.createSparseMatrix=function(s,m){return new i(s,m)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Br(this._values,er)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(s,m){return new i(s,m)},i.prototype.density=function(){var s=this._size[0],m=this._size[1];return s!==0&&m!==0?this._index.length/(s*m):0},i.prototype.subset=function(s,m,d){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return p(this,s);case 2:case 3:return c(this,s,m,d);default:throw new SyntaxError("Wrong number of arguments")}};function p(s,m){if(!br(m))throw new TypeError("Invalid index");var d=m.isScalar();if(d)return s.get(m.min());var y=m.size();if(y.length!==s._size.length)throw new re(y.length,s._size.length);var g,C,x,E,M=m.min(),F=m.max();for(g=0,C=s._size.length;g<C;g++)ye(M[g],s._size[g]),ye(F[g],s._size[g]);var A=s._values,S=s._index,N=s._ptr,P=m.dimension(0),V=m.dimension(1),q=[],j=[];P.forEach(function(H,J){j[H]=J[0],q[H]=!0});var T=A?[]:void 0,Y=[],$=[];return V.forEach(function(H){for($.push(Y.length),x=N[H],E=N[H+1];x<E;x++)g=S[x],q[g]===!0&&(Y.push(j[g]),T&&T.push(A[x]))}),$.push(Y.length),new i({values:T,index:Y,ptr:$,size:y,datatype:s._datatype})}function c(s,m,d,y){if(!m||m.isIndex!==!0)throw new TypeError("Invalid index");var g=m.size(),C=m.isScalar(),x;if(ce(d)?(x=d.size(),d=d.toArray()):x=Ae(d),C){if(x.length!==0)throw new TypeError("Scalar expected");s.set(m.min(),d,y)}else{if(g.length!==1&&g.length!==2)throw new re(g.length,s._size.length,"<");if(x.length<g.length){for(var E=0,M=0;g[E]===1&&x[E]===1;)E++;for(;g[E]===1;)M++,E++;d=it(d,g.length,M,x)}if(!or(g,x))throw new re(g,x,">");if(g.length===1){var F=m.dimension(0);F.forEach(function(N,P){ye(N),s.set([N,0],d[P[0]],y)})}else{var A=m.dimension(0),S=m.dimension(1);A.forEach(function(N,P){ye(N),S.forEach(function(V,q){ye(V),s.set([N,V],d[P[0]][q[0]],y)})})}}return s}i.prototype.get=function(s){if(!pe(s))throw new TypeError("Array expected");if(s.length!==this._size.length)throw new re(s.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var m=s[0],d=s[1];ye(m,this._size[0]),ye(d,this._size[1]);var y=u(m,this._ptr[d],this._ptr[d+1],this._index);return y<this._ptr[d+1]&&this._index[y]===m?this._values[y]:0},i.prototype.set=function(s,m,d){if(!pe(s))throw new TypeError("Array expected");if(s.length!==this._size.length)throw new re(s.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var y=s[0],g=s[1],C=this._size[0],x=this._size[1],E=t,M=0;qe(this._datatype)&&(E=e.find(t,[this._datatype,this._datatype])||t,M=e.convert(0,this._datatype)),(y>C-1||g>x-1)&&(h(this,Math.max(y+1,C),Math.max(g+1,x),d),C=this._size[0],x=this._size[1]),ye(y,C),ye(g,x);var F=u(y,this._ptr[g],this._ptr[g+1],this._index);return F<this._ptr[g+1]&&this._index[F]===y?E(m,M)?a(F,g,this._values,this._index,this._ptr):this._values[F]=m:E(m,M)||f(F,y,g,m,this._values,this._index,this._ptr),this};function u(s,m,d,y){if(d-m==0)return d;for(var g=m;g<d;g++)if(y[g]===s)return g;return m}function a(s,m,d,y,g){d.splice(s,1),y.splice(s,1);for(var C=m+1;C<g.length;C++)g[C]--}function f(s,m,d,y,g,C,x){g.splice(s,0,y),C.splice(s,0,m);for(var E=d+1;E<x.length;E++)x[E]++}i.prototype.resize=function(s,m,d){if(!Er(s))throw new TypeError("Array or Matrix expected");var y=s.valueOf().map(C=>Array.isArray(C)&&C.length===1?C[0]:C);if(y.length!==2)throw new Error("Only two dimensions matrix are supported");y.forEach(function(C){if(!te(C)||!ee(C)||C<0)throw new TypeError("Invalid size, must contain positive integers (size: "+we(y)+")")});var g=d?this.clone():this;return h(g,y[0],y[1],m)};function h(s,m,d,y){var g=y||0,C=t,x=0;qe(s._datatype)&&(C=e.find(t,[s._datatype,s._datatype])||t,x=e.convert(0,s._datatype),g=e.convert(g,s._datatype));var E=!C(g,x),M=s._size[0],F=s._size[1],A,S,N;if(d>F){for(S=F;S<d;S++)if(s._ptr[S]=s._values.length,E)for(A=0;A<M;A++)s._values.push(g),s._index.push(A);s._ptr[d]=s._values.length}else d<F&&(s._ptr.splice(d+1,F-d),s._values.splice(s._ptr[d],s._values.length),s._index.splice(s._ptr[d],s._index.length));if(F=d,m>M){if(E){var P=0;for(S=0;S<F;S++){s._ptr[S]=s._ptr[S]+P,N=s._ptr[S+1]+P;var V=0;for(A=M;A<m;A++,V++)s._values.splice(N+V,0,g),s._index.splice(N+V,0,A),P++}s._ptr[F]=s._values.length}}else if(m<M){var q=0;for(S=0;S<F;S++){s._ptr[S]=s._ptr[S]-q;var j=s._ptr[S],T=s._ptr[S+1]-q;for(N=j;N<T;N++)A=s._index[N],A>m-1&&(s._values.splice(N,1),s._index.splice(N,1),q++)}s._ptr[S]=s._values.length}return s._size[0]=m,s._size[1]=d,s}i.prototype.reshape=function(s,m){if(!pe(s))throw new TypeError("Array expected");if(s.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");s.forEach(function(H){if(!te(H)||!ee(H)||H<=-2||H===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+we(s)+")")});var d=this._size[0]*this._size[1];s=jr(s,d);var y=s[0]*s[1];if(d!==y)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var g=m?this.clone():this;if(this._size[0]===s[0]&&this._size[1]===s[1])return g;for(var C=[],x=0;x<g._ptr.length;x++)for(var E=0;E<g._ptr[x+1]-g._ptr[x];E++)C.push(x);for(var M=g._values.slice(),F=g._index.slice(),A=0;A<g._index.length;A++){var S=F[A],N=C[A],P=S*g._size[1]+N;C[A]=P%s[1],F[A]=Math.floor(P/s[1])}g._values.length=0,g._index.length=0,g._ptr.length=s[1]+1,g._size=s.slice();for(var V=0;V<g._ptr.length;V++)g._ptr[V]=0;for(var q=0;q<M.length;q++){var j=F[q],T=C[q],Y=M[q],$=u(j,g._ptr[T],g._ptr[T+1],g._index);f($,j,T,Y,g._values,g._index,g._ptr)}return g},i.prototype.clone=function(){var s=new i({values:this._values?me(this._values):void 0,index:me(this._index),ptr:me(this._ptr),size:me(this._size),datatype:this._datatype});return s},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(s,m){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var d=this,y=this._size[0],g=this._size[1],C=mt(s),x=function(M,F,A){return C===1?s(M):C===2?s(M,[F,A]):s(M,[F,A],d)};return v(this,0,y-1,0,g-1,x,m)};function v(s,m,d,y,g,C,x){var E=[],M=[],F=[],A=t,S=0;qe(s._datatype)&&(A=e.find(t,[s._datatype,s._datatype])||t,S=e.convert(0,s._datatype));for(var N=function(ne,be,Ce){ne=C(ne,be,Ce),A(ne,S)||(E.push(ne),M.push(be))},P=y;P<=g;P++){F.push(E.length);var V=s._ptr[P],q=s._ptr[P+1];if(x)for(var j=V;j<q;j++){var T=s._index[j];T>=m&&T<=d&&N(s._values[j],T-m,P-y)}else{for(var Y={},$=V;$<q;$++){var H=s._index[$];Y[H]=s._values[$]}for(var J=m;J<=d;J++){var ae=J in Y?Y[J]:0;N(ae,J-m,P-y)}}}return F.push(E.length),new i({values:E,index:M,ptr:F,size:[d-m+1,g-y+1]})}i.prototype.forEach=function(s,m){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var d=this,y=this._size[0],g=this._size[1],C=0;C<g;C++){var x=this._ptr[C],E=this._ptr[C+1];if(m)for(var M=x;M<E;M++){var F=this._index[M];s(this._values[M],[F,C],d)}else{for(var A={},S=x;S<E;S++){var N=this._index[S];A[N]=this._values[S]}for(var P=0;P<y;P++){var V=P in A?A[P]:0;s(V,[P,C],d)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var s=this._size[1],m=0;m<s;m++)for(var d=this._ptr[m],y=this._ptr[m+1],g=d;g<y;g++){var C=this._index[g];yield{value:this._values[g],index:[C,m]}}},i.prototype.toArray=function(){return D(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return D(this._values,this._index,this._ptr,this._size,!1)};function D(s,m,d,y,g){var C=y[0],x=y[1],E=[],M,F;for(M=0;M<C;M++)for(E[M]=[],F=0;F<x;F++)E[M][F]=0;for(F=0;F<x;F++)for(var A=d[F],S=d[F+1],N=A;N<S;N++)M=m[N],E[M][F]=s?g?me(s[N]):s[N]:1;return E}return i.prototype.format=function(s){for(var m=this._size[0],d=this._size[1],y=this.density(),g="Sparse Matrix ["+we(m,s)+" x "+we(d,s)+"] density: "+we(y,s)+`
`,C=0;C<d;C++)for(var x=this._ptr[C],E=this._ptr[C+1],M=x;M<E;M++){var F=this._index[M];g+=`
    (`+we(F,s)+", "+we(C,s)+") ==> "+(this._values?we(this._values[M],s):"X")}return g},i.prototype.toString=function(){return we(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(s){if(s){if(ge(s)&&(s=s.toNumber()),!te(s)||!ee(s))throw new TypeError("The parameter k must be an integer number")}else s=0;var m=s>0?s:0,d=s<0?-s:0,y=this._size[0],g=this._size[1],C=Math.min(y-d,g-m),x=[],E=[],M=[];M[0]=0;for(var F=m;F<g&&x.length<C;F++)for(var A=this._ptr[F],S=this._ptr[F+1],N=A;N<S;N++){var P=this._index[N];if(P===F-m+d){x.push(this._values[N]),E[x.length-1]=P-d;break}}return M.push(x.length),new i({values:x,index:E,ptr:M,size:[C,1]})},i.fromJSON=function(s){return new i(s)},i.diagonal=function(s,m,d,y,g){if(!pe(s))throw new TypeError("Array expected, size parameter");if(s.length!==2)throw new Error("Only two dimensions matrix are supported");if(s=s.map(function(H){if(ge(H)&&(H=H.toNumber()),!te(H)||!ee(H)||H<1)throw new Error("Size values must be positive integers");return H}),d){if(ge(d)&&(d=d.toNumber()),!te(d)||!ee(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var C=t,x=0;qe(g)&&(C=e.find(t,[g,g])||t,x=e.convert(0,g));var E=d>0?d:0,M=d<0?-d:0,F=s[0],A=s[1],S=Math.min(F-M,A-E),N;if(pe(m)){if(m.length!==S)throw new Error("Invalid value array length");N=function(J){return m[J]}}else if(ce(m)){var P=m.size();if(P.length!==1||P[0]!==S)throw new Error("Invalid matrix length");N=function(J){return m.get([J])}}else N=function(){return m};for(var V=[],q=[],j=[],T=0;T<A;T++){j.push(V.length);var Y=T-E;if(Y>=0&&Y<S){var $=N(Y);C($,x)||(q.push(Y+M),V.push($))}}return j.push(V.length),new i({values:V,index:q,ptr:j,size:[F,A]})},i.prototype.swapRows=function(s,m){if(!te(s)||!ee(s)||!te(m)||!ee(m))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return ye(s,this._size[0]),ye(m,this._size[0]),i._swapRows(s,m,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(s,m,d,y,g){for(var C=y[s],x=y[s+1],E=C;E<x;E++)g(d[E],m[E])},i._swapRows=function(s,m,d,y,g,C){for(var x=0;x<d;x++){var E=C[x],M=C[x+1],F=u(s,E,M,g),A=u(m,E,M,g);if(F<M&&A<M&&g[F]===s&&g[A]===m){if(y){var S=y[F];y[F]=y[A],y[A]=S}continue}if(F<M&&g[F]===s&&(A>=M||g[A]!==m)){var N=y?y[F]:void 0;g.splice(A,0,m),y&&y.splice(A,0,N),g.splice(A<=F?F+1:F,1),y&&y.splice(A<=F?F+1:F,1);continue}if(A<M&&g[A]===m&&(F>=M||g[F]!==s)){var P=y?y[A]:void 0;g.splice(F,0,s),y&&y.splice(F,0,P),g.splice(F<=A?A+1:A,1),y&&y.splice(F<=A?A+1:A,1)}}},i},{isClass:!0});var hf="number",df=["typed"];function vf(r){var e=r.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var t={"0b":2,"0o":8,"0x":16}[e[1]],n=e[2],i=e[3];return{input:r,radix:t,integerPart:n,fractionalPart:i}}else return null}function Df(r){for(var e=parseInt(r.integerPart,r.radix),t=0,n=0;n<r.fractionalPart.length;n++){var i=parseInt(r.fractionalPart[n],r.radix);t+=i/Math.pow(r.radix,n+1)}var o=e+t;if(isNaN(o))throw new SyntaxError('String "'+r.input+'" is no valid number');return o}var po=R(hf,df,r=>{var{typed:e}=r,t=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var o=vf(i);if(o)return Df(o);var l=0,p=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);p&&(l=Number(p[2]),i=p[1]);var c=Number(i);if(isNaN(c))throw new SyntaxError('String "'+i+'" is no valid number');if(p){if(c>lr(2,l)-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));c>=lr(2,l-1)&&(c=c-lr(2,l))}return c},BigNumber:function(i){return i.toNumber()},Fraction:function(i){return i.valueOf()},Unit:e.referToSelf(n=>i=>{var o=i.clone();return o.value=n(i.value),o}),null:function(i){return 0},"Unit, string | Unit":function(i,o){return i.toNumber(o)},"Array | Matrix":e.referToSelf(n=>i=>Fe(i,n))});return t.fromJSON=function(n){return parseFloat(n.value)},t});var gf="bignumber",wf=["typed","BigNumber"],mo=R(gf,wf,r=>{var{typed:e,BigNumber:t}=r;return e("bignumber",{"":function(){return new t(0)},number:function(i){return new t(i+"")},string:function(i){var o=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(o){var l=o[2],p=t(o[1]),c=new t(2).pow(Number(l));if(p.gt(c.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var u=new t(2).pow(Number(l)-1);return p.gte(u)?p.sub(c):p}return new t(i)},BigNumber:function(i){return i},Unit:e.referToSelf(n=>i=>{var o=i.clone();return o.value=n(i.value),o}),Fraction:function(i){return new t(i.n).div(i.d).times(i.s)},null:function(i){return new t(0)},"Array | Matrix":e.referToSelf(n=>i=>Fe(i,n))})});var yf="complex",xf=["typed","Complex"],ho=R(yf,xf,r=>{var{typed:e,Complex:t}=r;return e("complex",{"":function(){return t.ZERO},number:function(i){return new t(i,0)},"number, number":function(i,o){return new t(i,o)},"BigNumber, BigNumber":function(i,o){return new t(i.toNumber(),o.toNumber())},Fraction:function(i){return new t(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return t(i)},null:function(i){return t(0)},Object:function(i){if("re"in i&&"im"in i)return new t(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new t(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(n=>i=>Fe(i,n))})});var Ef="fraction",Cf=["typed","Fraction"],vo=R(Ef,Cf,r=>{var{typed:e,Fraction:t}=r;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new t(i)},string:function(i){return new t(i)},"number, number":function(i,o){return new t(i,o)},null:function(i){return new t(0)},BigNumber:function(i){return new t(i.toString())},Fraction:function(i){return i},Unit:e.referToSelf(n=>i=>{var o=i.clone();return o.value=n(i.value),o}),Object:function(i){return new t(i)},"Array | Matrix":e.referToSelf(n=>i=>Fe(i,n))})});var Do="matrix",Af=["typed","Matrix","DenseMatrix","SparseMatrix"],go=R(Do,Af,r=>{var{typed:e,Matrix:t,DenseMatrix:n,SparseMatrix:i}=r;return e(Do,{"":function(){return o([])},string:function(p){return o([],p)},"string, string":function(p,c){return o([],p,c)},Array:function(p){return o(p)},Matrix:function(p){return o(p,p.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});function o(l,p,c){if(p==="dense"||p==="default"||p===void 0)return new n(l,c);if(p==="sparse")return new i(l,c);throw new TypeError("Unknown matrix type "+JSON.stringify(p)+".")}});var wo="unaryMinus",Ff=["typed"],yo=R(wo,Ff,r=>{var{typed:e}=r;return e(wo,{number:tn,"Complex | BigNumber | Fraction":t=>t.neg(),Unit:e.referToSelf(t=>n=>{var i=n.clone();return i.value=e.find(t,i.valueType())(n.value),i}),"Array | Matrix":e.referToSelf(t=>n=>Fe(n,t,!0))})});var xo="abs",bf=["typed"],Eo=R(xo,bf,r=>{var{typed:e}=r;return e(xo,{number:Qt,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),"Array | Matrix":e.referToSelf(t=>n=>Fe(n,t,!0))})});var Co="addScalar",Mf=["typed"],Ao=R(Co,Mf,r=>{var{typed:e}=r;return e(Co,{"number, number":Kt,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":e.referToSelf(t=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var o=n.clone();return o.value=e.find(t,[o.valueType(),i.valueType()])(o.value,i.value),o.fixPrefix=!1,o})})});var Fo="subtractScalar",Sf=["typed"],bo=R(Fo,Sf,r=>{var{typed:e}=r;return e(Fo,{"number, number":en,"Complex, Complex":function(n,i){return n.sub(i)},"BigNumber, BigNumber":function(n,i){return n.minus(i)},"Fraction, Fraction":function(n,i){return n.sub(i)},"Unit, Unit":e.referToSelf(t=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var o=n.clone();return o.value=e.find(t,[o.valueType(),i.valueType()])(o.value,i.value),o.fixPrefix=!1,o})})});var Bf="matAlgo11xS0s",Nf=["typed","equalScalar"],Mo=R(Bf,Nf,r=>{var{typed:e,equalScalar:t}=r;return function(i,o,l,p){var c=i._values,u=i._index,a=i._ptr,f=i._size,h=i._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var v=f[0],D=f[1],s,m=t,d=0,y=l;typeof h=="string"&&(s=h,m=e.find(t,[s,s]),d=e.convert(0,s),o=e.convert(o,s),y=e.find(l,[s,s]));for(var g=[],C=[],x=[],E=0;E<D;E++){x[E]=C.length;for(var M=a[E],F=a[E+1],A=M;A<F;A++){var S=u[A],N=p?y(o,c[A]):y(c[A],o);m(N,d)||(C.push(S),g.push(N))}}return x[D]=C.length,i.createSparseMatrix({values:g,index:C,ptr:x,size:[v,D],datatype:s})}});var _f="matAlgo12xSfs",Pf=["typed","DenseMatrix"],So=R(_f,Pf,r=>{var{typed:e,DenseMatrix:t}=r;return function(i,o,l,p){var c=i._values,u=i._index,a=i._ptr,f=i._size,h=i._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var v=f[0],D=f[1],s,m=l;typeof h=="string"&&(s=h,o=e.convert(o,s),m=e.find(l,[s,s]));for(var d=[],y=[],g=[],C=0;C<D;C++){for(var x=C+1,E=a[C],M=a[C+1],F=E;F<M;F++){var A=u[F];y[A]=c[F],g[A]=x}for(var S=0;S<v;S++)C===0&&(d[S]=[]),g[S]===x?d[S][C]=p?m(o,y[S]):m(y[S],o):d[S][C]=p?m(o,0):m(0,o)}return new t({data:d,size:[v,D],datatype:s})}});var Tf="matAlgo14xDs",If=["typed"],Dt=R(Tf,If,r=>{var{typed:e}=r;return function(i,o,l,p){var c=i._data,u=i._size,a=i._datatype,f,h=l;typeof a=="string"&&(f=a,o=e.convert(o,f),h=e.find(l,[f,f]));var v=u.length>0?t(h,0,u,u[0],c,o,p):[];return i.createDenseMatrix({data:v,size:me(u),datatype:f})};function t(n,i,o,l,p,c,u){var a=[];if(i===o.length-1)for(var f=0;f<l;f++)a[f]=u?n(c,p[f]):n(p[f],c);else for(var h=0;h<l;h++)a[h]=t(n,i+1,o,o[i+1],p[h],c,u);return a}});var zf="matAlgo03xDSf",Of=["typed"],Bo=R(zf,Of,r=>{var{typed:e}=r;return function(n,i,o,l){var p=n._data,c=n._size,u=n._datatype,a=i._values,f=i._index,h=i._ptr,v=i._size,D=i._datatype;if(c.length!==v.length)throw new re(c.length,v.length);if(c[0]!==v[0]||c[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+v+")");if(!a)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var s=c[0],m=c[1],d,y=0,g=o;typeof u=="string"&&u===D&&(d=u,y=e.convert(0,d),g=e.find(o,[d,d]));for(var C=[],x=0;x<s;x++)C[x]=[];for(var E=[],M=[],F=0;F<m;F++){for(var A=F+1,S=h[F],N=h[F+1],P=S;P<N;P++){var V=f[P];E[V]=l?g(a[P],p[V][F]):g(p[V][F],a[P]),M[V]=A}for(var q=0;q<s;q++)M[q]===A?C[q][F]=E[q]:C[q][F]=l?g(y,p[q][F]):g(p[q][F],y)}return n.createDenseMatrix({data:C,size:[s,m],datatype:d})}});var Rf="matAlgo13xDD",Lf=["typed"],No=R(Rf,Lf,r=>{var{typed:e}=r;return function(i,o,l){var p=i._data,c=i._size,u=i._datatype,a=o._data,f=o._size,h=o._datatype,v=[];if(c.length!==f.length)throw new re(c.length,f.length);for(var D=0;D<c.length;D++){if(c[D]!==f[D])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+f+")");v[D]=c[D]}var s,m=l;typeof u=="string"&&u===h&&(s=u,m=e.find(l,[s,s]));var d=v.length>0?t(m,0,v,v[0],p,a):[];return i.createDenseMatrix({data:d,size:v,datatype:s})};function t(n,i,o,l,p,c){var u=[];if(i===o.length-1)for(var a=0;a<l;a++)u[a]=n(p[a],c[a]);else for(var f=0;f<l;f++)u[f]=t(n,i+1,o,o[i+1],p[f],c[f]);return u}});var Uf="broadcast",qf=["concat"],_o=R(Uf,qf,r=>{var{concat:e}=r;return function(i,o){var l=Math.max(i._size.length,o._size.length);if(i._size.length===o._size.length&&i._size.every((D,s)=>D===o._size[s]))return[i,o];for(var p=t(i._size,l,0),c=t(o._size,l,0),u=[],a=0;a<l;a++)u[a]=Math.max(p[a],c[a]);Gr(p,u),Gr(c,u);var f=i.clone(),h=o.clone();f._size.length<l?f.reshape(t(f._size,l,1)):h._size.length<l&&h.reshape(t(h._size,l,1));for(var v=0;v<l;v++)f._size[v]<u[v]&&(f=n(f,u[v],v)),h._size[v]<u[v]&&(h=n(h,u[v],v));return[f,h]};function t(i,o,l){return[...Array(o-i.length).fill(l),...i]}function n(i,o,l){return e(...Array(o).fill(i),l)}});var jf="matrixAlgorithmSuite",Gf=["typed","matrix","concat"],gt=R(jf,Gf,r=>{var{typed:e,matrix:t,concat:n}=r,i=No({typed:e}),o=Dt({typed:e}),l=_o({concat:n});return function(c){var u=c.elop,a=c.SD||c.DS,f;u?(f={"DenseMatrix, DenseMatrix":(s,m)=>i(...l(s,m),u),"Array, Array":(s,m)=>i(...l(t(s),t(m)),u).valueOf(),"Array, DenseMatrix":(s,m)=>i(...l(t(s),m),u),"DenseMatrix, Array":(s,m)=>i(...l(s,t(m)),u)},c.SS&&(f["SparseMatrix, SparseMatrix"]=(s,m)=>c.SS(...l(s,m),u,!1)),c.DS&&(f["DenseMatrix, SparseMatrix"]=(s,m)=>c.DS(...l(s,m),u,!1),f["Array, SparseMatrix"]=(s,m)=>c.DS(...l(t(s),m),u,!1)),a&&(f["SparseMatrix, DenseMatrix"]=(s,m)=>a(...l(m,s),u,!0),f["SparseMatrix, Array"]=(s,m)=>a(...l(t(m),s),u,!0))):(f={"DenseMatrix, DenseMatrix":e.referToSelf(s=>(m,d)=>i(...l(m,d),s)),"Array, Array":e.referToSelf(s=>(m,d)=>i(...l(t(m),t(d)),s).valueOf()),"Array, DenseMatrix":e.referToSelf(s=>(m,d)=>i(...l(t(m),d),s)),"DenseMatrix, Array":e.referToSelf(s=>(m,d)=>i(...l(m,t(d)),s))},c.SS&&(f["SparseMatrix, SparseMatrix"]=e.referToSelf(s=>(m,d)=>c.SS(...l(m,d),s,!1))),c.DS&&(f["DenseMatrix, SparseMatrix"]=e.referToSelf(s=>(m,d)=>c.DS(...l(m,d),s,!1)),f["Array, SparseMatrix"]=e.referToSelf(s=>(m,d)=>c.DS(...l(t(m),d),s,!1))),a&&(f["SparseMatrix, DenseMatrix"]=e.referToSelf(s=>(m,d)=>a(...l(d,m),s,!0)),f["SparseMatrix, Array"]=e.referToSelf(s=>(m,d)=>a(...l(t(d),m),s,!0))));var h=c.scalar||"any",v=c.Ds||c.Ss;v&&(u?(f["DenseMatrix,"+h]=(s,m)=>o(s,m,u,!1),f[h+", DenseMatrix"]=(s,m)=>o(m,s,u,!0),f["Array,"+h]=(s,m)=>o(t(s),m,u,!1).valueOf(),f[h+", Array"]=(s,m)=>o(t(m),s,u,!0).valueOf()):(f["DenseMatrix,"+h]=e.referToSelf(s=>(m,d)=>o(m,d,s,!1)),f[h+", DenseMatrix"]=e.referToSelf(s=>(m,d)=>o(d,m,s,!0)),f["Array,"+h]=e.referToSelf(s=>(m,d)=>o(t(m),d,s,!1).valueOf()),f[h+", Array"]=e.referToSelf(s=>(m,d)=>o(t(d),m,s,!0).valueOf())));var D=c.sS!==void 0?c.sS:c.Ss;return u?(c.Ss&&(f["SparseMatrix,"+h]=(s,m)=>c.Ss(s,m,u,!1)),D&&(f[h+", SparseMatrix"]=(s,m)=>D(m,s,u,!0))):(c.Ss&&(f["SparseMatrix,"+h]=e.referToSelf(s=>(m,d)=>c.Ss(m,d,s,!1))),D&&(f[h+", SparseMatrix"]=e.referToSelf(s=>(m,d)=>D(d,m,s,!0)))),u&&u.signatures&&ri(f,u.signatures),f}});var Wf="matAlgo01xDSid",Vf=["typed"],Po=R(Wf,Vf,r=>{var{typed:e}=r;return function(n,i,o,l){var p=n._data,c=n._size,u=n._datatype,a=i._values,f=i._index,h=i._ptr,v=i._size,D=i._datatype;if(c.length!==v.length)throw new re(c.length,v.length);if(c[0]!==v[0]||c[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+v+")");if(!a)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var s=c[0],m=c[1],d=typeof u=="string"&&u===D?u:void 0,y=d?e.find(o,[d,d]):o,g,C,x=[];for(g=0;g<s;g++)x[g]=[];var E=[],M=[];for(C=0;C<m;C++){for(var F=C+1,A=h[C],S=h[C+1],N=A;N<S;N++)g=f[N],E[g]=l?y(a[N],p[g][C]):y(p[g][C],a[N]),M[g]=F;for(g=0;g<s;g++)M[g]===F?x[g][C]=E[g]:x[g][C]=p[g][C]}return n.createDenseMatrix({data:x,size:[s,m],datatype:d})}});var Hf="matAlgo04xSidSid",$f=["typed","equalScalar"],To=R(Hf,$f,r=>{var{typed:e,equalScalar:t}=r;return function(i,o,l){var p=i._values,c=i._index,u=i._ptr,a=i._size,f=i._datatype,h=o._values,v=o._index,D=o._ptr,s=o._size,m=o._datatype;if(a.length!==s.length)throw new re(a.length,s.length);if(a[0]!==s[0]||a[1]!==s[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+s+")");var d=a[0],y=a[1],g,C=t,x=0,E=l;typeof f=="string"&&f===m&&(g=f,C=e.find(t,[g,g]),x=e.convert(0,g),E=e.find(l,[g,g]));var M=p&&h?[]:void 0,F=[],A=[],S=p&&h?[]:void 0,N=p&&h?[]:void 0,P=[],V=[],q,j,T,Y,$;for(j=0;j<y;j++){A[j]=F.length;var H=j+1;for(Y=u[j],$=u[j+1],T=Y;T<$;T++)q=c[T],F.push(q),P[q]=H,S&&(S[q]=p[T]);for(Y=D[j],$=D[j+1],T=Y;T<$;T++)if(q=v[T],P[q]===H){if(S){var J=E(S[q],h[T]);C(J,x)?P[q]=null:S[q]=J}}else F.push(q),V[q]=H,N&&(N[q]=h[T]);if(S&&N)for(T=A[j];T<F.length;)q=F[T],P[q]===H?(M[T]=S[q],T++):V[q]===H?(M[T]=N[q],T++):F.splice(T,1)}return A[y]=F.length,i.createSparseMatrix({values:M,index:F,ptr:A,size:[d,y],datatype:g})}});var Zf="matAlgo10xSids",Yf=["typed","DenseMatrix"],Io=R(Zf,Yf,r=>{var{typed:e,DenseMatrix:t}=r;return function(i,o,l,p){var c=i._values,u=i._index,a=i._ptr,f=i._size,h=i._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var v=f[0],D=f[1],s,m=l;typeof h=="string"&&(s=h,o=e.convert(o,s),m=e.find(l,[s,s]));for(var d=[],y=[],g=[],C=0;C<D;C++){for(var x=C+1,E=a[C],M=a[C+1],F=E;F<M;F++){var A=u[F];y[A]=c[F],g[A]=x}for(var S=0;S<v;S++)C===0&&(d[S]=[]),g[S]===x?d[S][C]=p?m(o,y[S]):m(y[S],o):d[S][C]=o}return new t({data:d,size:[v,D],datatype:s})}});var zo="log2",Xf=["typed","config","Complex"],Oo=R(zo,Xf,r=>{var{typed:e,config:t,Complex:n}=r;return e(zo,{number:function(l){return l>=0||t.predictable?nn(l):i(new n(l,0))},Complex:i,BigNumber:function(l){return!l.isNegative()||t.predictable?l.log(2):i(new n(l.toNumber(),0))},"Array | Matrix":e.referToSelf(o=>l=>Fe(l,o))});function i(o){var l=Math.sqrt(o.re*o.re+o.im*o.im);return new n(Math.log2?Math.log2(l):Math.log(l)/Math.LN2,Math.atan2(o.im,o.re)/Math.LN2)}});var kf="multiplyScalar",Jf=["typed"],Ro=R(kf,Jf,r=>{var{typed:e}=r;return e("multiplyScalar",{"number, number":rn,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(t,n)=>n.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,n)=>t.multiply(n)})});var Lo="multiply",Qf=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Uo=R(Lo,Qf,r=>{var{typed:e,matrix:t,addScalar:n,multiplyScalar:i,equalScalar:o,dot:l}=r,p=Mo({typed:e,equalScalar:o}),c=Dt({typed:e});function u(x,E){switch(x.length){case 1:switch(E.length){case 1:if(x[0]!==E[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(x[0]!==E[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+x[0]+") must match Matrix rows ("+E[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+E.length+" dimensions)")}break;case 2:switch(E.length){case 1:if(x[1]!==E[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+x[1]+") must match Vector length ("+E[0]+")");break;case 2:if(x[1]!==E[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+x[1]+") must match Matrix B rows ("+E[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+E.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+x.length+" dimensions)")}}function a(x,E,M){if(M===0)throw new Error("Cannot multiply two empty vectors");return l(x,E)}function f(x,E){if(E.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return h(x,E)}function h(x,E){var M=x._data,F=x._size,A=x._datatype,S=E._data,N=E._size,P=E._datatype,V=F[0],q=N[1],j,T=n,Y=i;A&&P&&A===P&&typeof A=="string"&&(j=A,T=e.find(n,[j,j]),Y=e.find(i,[j,j]));for(var $=[],H=0;H<q;H++){for(var J=Y(M[0],S[0][H]),ae=1;ae<V;ae++)J=T(J,Y(M[ae],S[ae][H]));$[H]=J}return x.createDenseMatrix({data:$,size:[q],datatype:j})}var v=e("_multiplyMatrixVector",{"DenseMatrix, any":s,"SparseMatrix, any":y}),D=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":m,"DenseMatrix, SparseMatrix":d,"SparseMatrix, DenseMatrix":g,"SparseMatrix, SparseMatrix":C});function s(x,E){var M=x._data,F=x._size,A=x._datatype,S=E._data,N=E._datatype,P=F[0],V=F[1],q,j=n,T=i;A&&N&&A===N&&typeof A=="string"&&(q=A,j=e.find(n,[q,q]),T=e.find(i,[q,q]));for(var Y=[],$=0;$<P;$++){for(var H=M[$],J=T(H[0],S[0]),ae=1;ae<V;ae++)J=j(J,T(H[ae],S[ae]));Y[$]=J}return x.createDenseMatrix({data:Y,size:[P],datatype:q})}function m(x,E){var M=x._data,F=x._size,A=x._datatype,S=E._data,N=E._size,P=E._datatype,V=F[0],q=F[1],j=N[1],T,Y=n,$=i;A&&P&&A===P&&typeof A=="string"&&(T=A,Y=e.find(n,[T,T]),$=e.find(i,[T,T]));for(var H=[],J=0;J<V;J++){var ae=M[J];H[J]=[];for(var ie=0;ie<j;ie++){for(var ne=$(ae[0],S[0][ie]),be=1;be<q;be++)ne=Y(ne,$(ae[be],S[be][ie]));H[J][ie]=ne}}return x.createDenseMatrix({data:H,size:[V,j],datatype:T})}function d(x,E){var M=x._data,F=x._size,A=x._datatype,S=E._values,N=E._index,P=E._ptr,V=E._size,q=E._datatype;if(!S)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var j=F[0],T=V[1],Y,$=n,H=i,J=o,ae=0;A&&q&&A===q&&typeof A=="string"&&(Y=A,$=e.find(n,[Y,Y]),H=e.find(i,[Y,Y]),J=e.find(o,[Y,Y]),ae=e.convert(0,Y));for(var ie=[],ne=[],be=[],Ce=E.createSparseMatrix({values:ie,index:ne,ptr:be,size:[j,T],datatype:Y}),Be=0;Be<T;Be++){be[Be]=ne.length;var xe=P[Be],je=P[Be+1];if(je>xe)for(var Ee=0,de=0;de<j;de++){for(var Ze=de+1,Ie=void 0,ue=xe;ue<je;ue++){var _e=N[ue];Ee!==Ze?(Ie=H(M[de][_e],S[ue]),Ee=Ze):Ie=$(Ie,H(M[de][_e],S[ue]))}Ee===Ze&&!J(Ie,ae)&&(ne.push(de),ie.push(Ie))}}return be[T]=ne.length,Ce}function y(x,E){var M=x._values,F=x._index,A=x._ptr,S=x._datatype;if(!M)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var N=E._data,P=E._datatype,V=x._size[0],q=E._size[0],j=[],T=[],Y=[],$,H=n,J=i,ae=o,ie=0;S&&P&&S===P&&typeof S=="string"&&($=S,H=e.find(n,[$,$]),J=e.find(i,[$,$]),ae=e.find(o,[$,$]),ie=e.convert(0,$));var ne=[],be=[];Y[0]=0;for(var Ce=0;Ce<q;Ce++){var Be=N[Ce];if(!ae(Be,ie))for(var xe=A[Ce],je=A[Ce+1],Ee=xe;Ee<je;Ee++){var de=F[Ee];be[de]?ne[de]=H(ne[de],J(Be,M[Ee])):(be[de]=!0,T.push(de),ne[de]=J(Be,M[Ee]))}}for(var Ze=T.length,Ie=0;Ie<Ze;Ie++){var ue=T[Ie];j[Ie]=ne[ue]}return Y[1]=T.length,x.createSparseMatrix({values:j,index:T,ptr:Y,size:[V,1],datatype:$})}function g(x,E){var M=x._values,F=x._index,A=x._ptr,S=x._datatype;if(!M)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var N=E._data,P=E._datatype,V=x._size[0],q=E._size[0],j=E._size[1],T,Y=n,$=i,H=o,J=0;S&&P&&S===P&&typeof S=="string"&&(T=S,Y=e.find(n,[T,T]),$=e.find(i,[T,T]),H=e.find(o,[T,T]),J=e.convert(0,T));for(var ae=[],ie=[],ne=[],be=x.createSparseMatrix({values:ae,index:ie,ptr:ne,size:[V,j],datatype:T}),Ce=[],Be=[],xe=0;xe<j;xe++){ne[xe]=ie.length;for(var je=xe+1,Ee=0;Ee<q;Ee++){var de=N[Ee][xe];if(!H(de,J))for(var Ze=A[Ee],Ie=A[Ee+1],ue=Ze;ue<Ie;ue++){var _e=F[ue];Be[_e]!==je?(Be[_e]=je,ie.push(_e),Ce[_e]=$(de,M[ue])):Ce[_e]=Y(Ce[_e],$(de,M[ue]))}}for(var Oe=ne[xe],Qe=ie.length,cr=Oe;cr<Qe;cr++){var Tr=ie[cr];ae[cr]=Ce[Tr]}}return ne[j]=ie.length,be}function C(x,E){var M=x._values,F=x._index,A=x._ptr,S=x._datatype,N=E._values,P=E._index,V=E._ptr,q=E._datatype,j=x._size[0],T=E._size[1],Y=M&&N,$,H=n,J=i;S&&q&&S===q&&typeof S=="string"&&($=S,H=e.find(n,[$,$]),J=e.find(i,[$,$]));for(var ae=Y?[]:void 0,ie=[],ne=[],be=x.createSparseMatrix({values:ae,index:ie,ptr:ne,size:[j,T],datatype:$}),Ce=Y?[]:void 0,Be=[],xe,je,Ee,de,Ze,Ie,ue,_e,Oe=0;Oe<T;Oe++){ne[Oe]=ie.length;var Qe=Oe+1;for(Ze=V[Oe],Ie=V[Oe+1],de=Ze;de<Ie;de++)if(_e=P[de],Y)for(je=A[_e],Ee=A[_e+1],xe=je;xe<Ee;xe++)ue=F[xe],Be[ue]!==Qe?(Be[ue]=Qe,ie.push(ue),Ce[ue]=J(N[de],M[xe])):Ce[ue]=H(Ce[ue],J(N[de],M[xe]));else for(je=A[_e],Ee=A[_e+1],xe=je;xe<Ee;xe++)ue=F[xe],Be[ue]!==Qe&&(Be[ue]=Qe,ie.push(ue));if(Y)for(var cr=ne[Oe],Tr=ie.length,Ar=cr;Ar<Tr;Ar++){var Xr=ie[Ar];ae[Ar]=Ce[Xr]}}return ne[T]=ie.length,be}return e(Lo,i,{"Array, Array":e.referTo("Matrix, Matrix",x=>(E,M)=>{u(Ae(E),Ae(M));var F=x(t(E),t(M));return ce(F)?F.valueOf():F}),"Matrix, Matrix":function(E,M){var F=E.size(),A=M.size();return u(F,A),F.length===1?A.length===1?a(E,M,F[0]):f(E,M):A.length===1?v(E,M):D(E,M)},"Matrix, Array":e.referTo("Matrix,Matrix",x=>(E,M)=>x(E,t(M))),"Array, Matrix":e.referToSelf(x=>(E,M)=>x(t(E,M.storage()),M)),"SparseMatrix, any":function(E,M){return p(E,M,i,!1)},"DenseMatrix, any":function(E,M){return c(E,M,i,!1)},"any, SparseMatrix":function(E,M){return p(M,E,i,!0)},"any, DenseMatrix":function(E,M){return c(M,E,i,!0)},"Array, any":function(E,M){return c(t(E),M,i,!1).valueOf()},"any, Array":function(E,M){return c(t(M),E,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(x=>(E,M,F)=>{for(var A=x(E,M),S=0;S<F.length;S++)A=x(A,F[S]);return A})})});var Kf="matAlgo07xSSf",ec=["typed","DenseMatrix"],qo=R(Kf,ec,r=>{var{typed:e,DenseMatrix:t}=r;return function(o,l,p){var c=o._size,u=o._datatype,a=l._size,f=l._datatype;if(c.length!==a.length)throw new re(c.length,a.length);if(c[0]!==a[0]||c[1]!==a[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+a+")");var h=c[0],v=c[1],D,s=0,m=p;typeof u=="string"&&u===f&&(D=u,s=e.convert(0,D),m=e.find(p,[D,D]));var d,y,g=[];for(d=0;d<h;d++)g[d]=[];var C=[],x=[],E=[],M=[];for(y=0;y<v;y++){var F=y+1;for(n(o,y,E,C,F),n(l,y,M,x,F),d=0;d<h;d++){var A=E[d]===F?C[d]:s,S=M[d]===F?x[d]:s;g[d][y]=m(A,S)}}return new t({data:g,size:[h,v],datatype:D})};function n(i,o,l,p,c){for(var u=i._values,a=i._index,f=i._ptr,h=f[o],v=f[o+1];h<v;h++){var D=a[h];l[D]=c,p[D]=u[h]}}});var jo="conj",rc=["typed"],Go=R(jo,rc,r=>{var{typed:e}=r;return e(jo,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":e.referToSelf(t=>n=>Fe(n,t))})});var Wo="concat",tc=["typed","matrix","isInteger"],Vo=R(Wo,tc,r=>{var{typed:e,matrix:t,isInteger:n}=r;return e(Wo,{"...Array | Matrix | number | BigNumber":function(o){var l,p=o.length,c=-1,u,a=!1,f=[];for(l=0;l<p;l++){var h=o[l];if(ce(h)&&(a=!0),te(h)||ge(h)){if(l!==p-1)throw new Error("Dimension must be specified as last argument");if(u=c,c=h.valueOf(),!n(c))throw new TypeError("Integer number expected for dimension");if(c<0||l>0&&c>u)throw new ar(c,u+1)}else{var v=me(h).valueOf(),D=Ae(v);if(f[l]=v,u=c,c=D.length-1,l>0&&c!==u)throw new re(u+1,c+1)}}if(f.length===0)throw new SyntaxError("At least one matrix expected");for(var s=f.shift();f.length;)s=Lt(s,f.shift(),c);return a?t(s):s},"...string":function(o){return o.join("")}})});var Ho="identity",nc=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],$o=R(Ho,nc,r=>{var{typed:e,config:t,matrix:n,BigNumber:i,DenseMatrix:o,SparseMatrix:l}=r;return e(Ho,{"":function(){return t.matrix==="Matrix"?n([]):[]},string:function(a){return n(a)},"number | BigNumber":function(a){return c(a,a,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(a,f){return c(a,a,f)},"number | BigNumber, number | BigNumber":function(a,f){return c(a,f,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(a,f,h){return c(a,f,h)},Array:function(a){return p(a)},"Array, string":function(a,f){return p(a,f)},Matrix:function(a){return p(a.valueOf(),a.storage())},"Matrix, string":function(a,f){return p(a.valueOf(),f)}});function p(u,a){switch(u.length){case 0:return a?n(a):[];case 1:return c(u[0],u[0],a);case 2:return c(u[0],u[1],a);default:throw new Error("Vector containing two values expected")}}function c(u,a,f){var h=ge(u)||ge(a)?i:null;if(ge(u)&&(u=u.toNumber()),ge(a)&&(a=a.toNumber()),!ee(u)||u<1)throw new Error("Parameters in function identity must be positive integers");if(!ee(a)||a<1)throw new Error("Parameters in function identity must be positive integers");var v=h?new i(1):1,D=h?new h(0):0,s=[u,a];if(f){if(f==="sparse")return l.diagonal(s,v,0,D);if(f==="dense")return o.diagonal(s,v,0,D);throw new TypeError('Unknown matrix type "'.concat(f,'"'))}for(var m=qr([],s,D),d=u<a?u:a,y=0;y<d;y++)m[y][y]=v;return m}});function Zo(){throw new Error('No "bignumber" implementation available')}function Yo(){throw new Error('No "fraction" implementation available')}function Xo(){throw new Error('No "matrix" implementation available')}var ko="size",ic=["typed","config","?matrix"],Jo=R(ko,ic,r=>{var{typed:e,config:t,matrix:n}=r;return e(ko,{Matrix:function(o){return o.create(o.size())},Array:Ae,string:function(o){return t.matrix==="Array"?[o.length]:n([o.length])},"number | Complex | BigNumber | Unit | boolean | null":function(o){return t.matrix==="Array"?[]:n?n([]):Xo()}})});var oc="numeric",ac=["number","?bignumber","?fraction"],Qo=R(oc,ac,r=>{var{number:e,bignumber:t,fraction:n}=r,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:l=>e(l),BigNumber:t?l=>t(l):Zo,Fraction:n?l=>n(l):Yo};return function(p){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",u=arguments.length>2?arguments[2]:void 0;if(u!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var a=er(p);if(!(a in i))throw new TypeError("Cannot convert "+p+' of type "'+a+'"; valid input types are '+Object.keys(i).join(", "));if(!(c in o))throw new TypeError("Cannot convert "+p+' to type "'+c+'"; valid output types are '+Object.keys(o).join(", "));return c===a?p:o[c](p)}});var Ko="divideScalar",uc=["typed","numeric"],ea=R(Ko,uc,r=>{var{typed:e,numeric:t}=r;return e(Ko,{"number, number":function(i,o){return i/o},"Complex, Complex":function(i,o){return i.div(o)},"BigNumber, BigNumber":function(i,o){return i.div(o)},"Fraction, Fraction":function(i,o){return i.div(o)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})});var ra="pow",sc=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],ta=R(ra,sc,r=>{var{typed:e,config:t,identity:n,multiply:i,matrix:o,inv:l,number:p,fraction:c,Complex:u}=r;return e(ra,{"number, number":a,"Complex, Complex":function(D,s){return D.pow(s)},"BigNumber, BigNumber":function(D,s){return s.isInteger()||D>=0||t.predictable?D.pow(s):new u(D.toNumber(),0).pow(s.toNumber(),0)},"Fraction, Fraction":function(D,s){var m=D.pow(s);if(m!=null)return m;if(t.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return a(D.valueOf(),s.valueOf())},"Array, number":f,"Array, BigNumber":function(D,s){return f(D,s.toNumber())},"Matrix, number":h,"Matrix, BigNumber":function(D,s){return h(D,s.toNumber())},"Unit, number | BigNumber":function(D,s){return D.pow(s)}});function a(v,D){if(t.predictable&&!ee(D)&&v<0)try{var s=c(D),m=p(s);if((D===m||Math.abs((D-m)/D)<1e-14)&&s.d%2==1)return(s.n%2==0?1:-1)*Math.pow(-v,D)}catch(d){}return t.predictable&&(v<-1&&D===Infinity||v>-1&&v<0&&D===-Infinity)?NaN:ee(D)||v>=0||t.predictable?on(v,D):v*v<1&&D===Infinity||v*v>1&&D===-Infinity?0:new u(v,0).pow(D,0)}function f(v,D){if(!ee(D))throw new TypeError("For A^b, b must be an integer (value is "+D+")");var s=Ae(v);if(s.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+s.length+" dimensions)");if(s[0]!==s[1])throw new Error("For A^b, A must be square (size is "+s[0]+"x"+s[1]+")");if(D<0)try{return f(l(v),-D)}catch(y){throw y.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+D+")"):y}for(var m=n(s[0]).valueOf(),d=v;D>=1;)(D&1)==1&&(m=i(d,m)),D>>=1,d=i(d,d);return m}function h(v,D){return o(f(v.valueOf(),D))}});var na="log",fc=["config","typed","divideScalar","Complex"],ia=R(na,fc,r=>{var{typed:e,config:t,divideScalar:n,Complex:i}=r;return e(na,{number:function(l){return l>=0||t.predictable?ao(l):new i(l,0).log()},Complex:function(l){return l.log()},BigNumber:function(l){return!l.isNegative()||t.predictable?l.ln():new i(l.toNumber(),0).log()},"any, any":e.referToSelf(o=>(l,p)=>n(o(l),o(p)))})});var wt="smallerEq",cc=["typed","config","matrix","DenseMatrix","concat"],oa=R(wt,cc,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i,concat:o}=r,l=Bo({typed:e}),p=qo({typed:e,DenseMatrix:i}),c=So({typed:e,DenseMatrix:i}),u=gt({typed:e,matrix:n,concat:o}),a=dt({typed:e});return e(wt,lc({typed:e,config:t}),{"boolean, boolean":(f,h)=>f<=h,"BigNumber, BigNumber":function(h,v){return h.lte(v)||ht(h,v,t.epsilon)},"Fraction, Fraction":(f,h)=>f.compare(h)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},a,u({SS:p,DS:l,Ss:c}))}),lc=R(wt,["typed","config"],r=>{var{typed:e,config:t}=r;return e(wt,{"number, number":function(i,o){return i<=o||mr(i,o,t.epsilon)}})});var aa="add",pc=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],ua=R(aa,pc,r=>{var{typed:e,matrix:t,addScalar:n,equalScalar:i,DenseMatrix:o,SparseMatrix:l,concat:p}=r,c=Po({typed:e}),u=To({typed:e,equalScalar:i}),a=Io({typed:e,DenseMatrix:o}),f=gt({typed:e,matrix:t,concat:p});return e(aa,{"any, any":n,"any, any, ...any":e.referToSelf(h=>(v,D,s)=>{for(var m=h(v,D),d=0;d<s.length;d++)m=h(m,s[d]);return m})},f({elop:n,DS:c,SS:u,Ss:a}))});var sa="dot",mc=["typed","addScalar","multiplyScalar","conj","size"],fa=R(sa,mc,r=>{var{typed:e,addScalar:t,multiplyScalar:n,conj:i,size:o}=r;return e(sa,{"Array | DenseMatrix, Array | DenseMatrix":p,"SparseMatrix, SparseMatrix":c});function l(a,f){var h=u(a),v=u(f),D,s;if(h.length===1)D=h[0];else if(h.length===2&&h[1]===1)D=h[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+h.join(", ")+")");if(v.length===1)s=v[0];else if(v.length===2&&v[1]===1)s=v[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+v.join(", ")+")");if(D!==s)throw new RangeError("Vectors must have equal length ("+D+" != "+s+")");if(D===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return D}function p(a,f){var h=l(a,f),v=ce(a)?a._data:a,D=ce(a)?a._datatype:void 0,s=ce(f)?f._data:f,m=ce(f)?f._datatype:void 0,d=u(a).length===2,y=u(f).length===2,g=t,C=n;if(D&&m&&D===m&&typeof D=="string"){var x=D;g=e.find(t,[x,x]),C=e.find(n,[x,x])}if(!d&&!y){for(var E=C(i(v[0]),s[0]),M=1;M<h;M++)E=g(E,C(i(v[M]),s[M]));return E}if(!d&&y){for(var F=C(i(v[0]),s[0][0]),A=1;A<h;A++)F=g(F,C(i(v[A]),s[A][0]));return F}if(d&&!y){for(var S=C(i(v[0][0]),s[0]),N=1;N<h;N++)S=g(S,C(i(v[N][0]),s[N]));return S}if(d&&y){for(var P=C(i(v[0][0]),s[0][0]),V=1;V<h;V++)P=g(P,C(i(v[V][0]),s[V][0]));return P}}function c(a,f){l(a,f);for(var h=a._index,v=a._values,D=f._index,s=f._values,m=0,d=t,y=n,g=0,C=0;g<h.length&&C<D.length;){var x=h[g],E=D[C];if(x<E){g++;continue}if(x>E){C++;continue}x===E&&(m=d(m,y(v[g],s[C])),g++,C++)}return m}function u(a){return ce(a)?a.size():o(a)}});var ca="det",hc=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],la=R(ca,hc,r=>{var{typed:e,matrix:t,subtractScalar:n,multiply:i,divideScalar:o,isZero:l,unaryMinus:p}=r;return e(ca,{any:function(a){return me(a)},"Array | Matrix":function(a){var f;switch(ce(a)?f=a.size():Array.isArray(a)?(a=t(a),f=a.size()):f=[],f.length){case 0:return me(a);case 1:if(f[0]===1)return me(a.valueOf()[0]);if(f[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+we(f)+")");case 2:{var h=f[0],v=f[1];if(h===v)return c(a.clone().valueOf(),h,v);if(v===0)return 1;throw new RangeError("Matrix must be square (size: "+we(f)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+we(f)+")")}}});function c(u,a,f){if(a===1)return me(u[0][0]);if(a===2)return n(i(u[0][0],u[1][1]),i(u[1][0],u[0][1]));for(var h=!1,v=new Array(a).fill(0).map((M,F)=>F),D=0;D<a;D++){var s=v[D];if(l(u[s][D])){var m=void 0;for(m=D+1;m<a;m++)if(!l(u[v[m]][D])){s=v[m],v[m]=v[D],v[D]=s,h=!h;break}if(m===a)return u[s][D]}for(var d=u[s][D],y=D===0?1:u[v[D-1]][D-1],g=D+1;g<a;g++)for(var C=v[g],x=D+1;x<a;x++)u[C][x]=o(n(i(u[C][x],d),i(u[C][D],u[s][x])),y)}var E=u[v[a-1]][a-1];return h?p(E):E}});var pa="inv",dc=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],ma=R(pa,dc,r=>{var{typed:e,matrix:t,divideScalar:n,addScalar:i,multiply:o,unaryMinus:l,det:p,identity:c,abs:u}=r;return e(pa,{"Array | Matrix":function(h){var v=ce(h)?h.size():Ae(h);switch(v.length){case 1:if(v[0]===1)return ce(h)?t([n(1,h.valueOf()[0])]):[n(1,h[0])];throw new RangeError("Matrix must be square (size: "+we(v)+")");case 2:{var D=v[0],s=v[1];if(D===s)return ce(h)?t(a(h.valueOf(),D,s),h.storage()):a(h,D,s);throw new RangeError("Matrix must be square (size: "+we(v)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+we(v)+")")}},any:function(h){return n(1,h)}});function a(f,h,v){var D,s,m,d,y;if(h===1){if(d=f[0][0],d===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,d)]]}else if(h===2){var g=p(f);if(g===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(f[1][1],g),n(l(f[0][1]),g)],[n(l(f[1][0]),g),n(f[0][0],g)]]}else{var C=f.concat();for(D=0;D<h;D++)C[D]=C[D].concat();for(var x=c(h).valueOf(),E=0;E<v;E++){var M=u(C[E][E]),F=E;for(D=E+1;D<h;)u(C[D][E])>M&&(M=u(C[D][E]),F=D),D++;if(M===0)throw Error("Cannot calculate inverse, determinant is zero");D=F,D!==E&&(y=C[E],C[E]=C[D],C[D]=y,y=x[E],x[E]=x[D],x[D]=y);var A=C[E],S=x[E];for(D=0;D<h;D++){var N=C[D],P=x[D];if(D!==E){if(N[E]!==0){for(m=n(l(N[E]),A[E]),s=E;s<v;s++)N[s]=i(N[s],o(m,A[s]));for(s=0;s<v;s++)P[s]=i(P[s],o(m,S[s]))}}else{for(m=A[E],s=E;s<v;s++)N[s]=n(N[s],m);for(s=0;s<v;s++)P[s]=n(P[s],m)}}}return x}}});var un=Xi({config:rr}),$r=Qi({});var ha=ro({});var sn=to({});var Zr=no({Matrix:sn});var le=Ii({BigNumber:un,Complex:$r,DenseMatrix:Zr,Fraction:ha});var yt=Eo({typed:le});var xt=Ao({typed:le});var vc=mo({BigNumber:un,typed:le});var fn=ho({Complex:$r,typed:le}),Dc=Go({typed:le});var cn=co({config:rr,typed:le});var gc=oo({typed:le});var wc=so({typed:le});var da=Oo({Complex:$r,config:rr,typed:le});var va=Ro({typed:le});var Da=po({typed:le});var ln=lo({Matrix:sn,equalScalar:cn,typed:le});var yc=bo({typed:le});var ga=yo({typed:le});var wa=vo({Fraction:ha,typed:le});var fr=go({DenseMatrix:Zr,Matrix:sn,SparseMatrix:ln,typed:le});var xc=Qo({bignumber:vc,fraction:wa,number:Da});var Ec=Jo({matrix:fr,config:rr,typed:le});var ya=Vo({isInteger:gc,matrix:fr,typed:le});var pn=ea({numeric:xc,typed:le});var xa=$o({BigNumber:un,DenseMatrix:Zr,SparseMatrix:ln,config:rr,matrix:fr,typed:le});var Ea=ua({DenseMatrix:Zr,SparseMatrix:ln,addScalar:xt,concat:ya,equalScalar:cn,matrix:fr,typed:le});var Cc=fa({addScalar:xt,conj:Dc,multiplyScalar:va,size:Ec,typed:le});var Ca=ia({Complex:$r,config:rr,divideScalar:pn,typed:le});var mn=Uo({addScalar:xt,dot:Cc,equalScalar:cn,matrix:fr,multiplyScalar:va,typed:le});var Ac=la({divideScalar:pn,isZero:wc,matrix:fr,multiply:mn,subtractScalar:yc,typed:le,unaryMinus:ga});var Aa=oa({DenseMatrix:Zr,concat:ya,config:rr,matrix:fr,typed:le});var Fc=ma({abs:yt,addScalar:xt,det:Ac,divideScalar:pn,identity:xa,matrix:fr,multiply:mn,typed:le,unaryMinus:ga});var Fa=ta({Complex:$r,config:rr,fraction:wa,identity:xa,inv:Fc,matrix:fr,multiply:mn,number:Da,typed:le});var Pr=class{constructor(){this.buffer=new Uint8ClampedArray(0);this.imageData=null;this.x=0;this.y=0;this.timer=0}getCanvasType(){return Pe.CANVAS_2D}getType(){return De.CPUMathJS}setup(e){return K(this,null,function*(){this.imageData=e.createImageData(e.canvas.width,e.canvas.height)})}mandelbrot(e,t){let n=fn(0,0),i=0;for(;Aa(yt(n),2)&&i<t;)n=Ea(Fa(n,2),e),i++;return i===t?t:(n=Ca(da(yt(n))),i+1-n)}step(e,t){return K(this,null,function*(){(this.buffer.length!==t.viewport.width*t.viewport.height*4||!this.imageData)&&(this.buffer=new Uint8ClampedArray(t.viewport.width*t.viewport.height*4),this.imageData=new ImageData(this.buffer,t.viewport.width,t.viewport.height),this.x=0,this.y=0,this.timer=0);let n=performance.now(),i=t.viewport.width/t.viewport.height;for(let o=0;o<t.viewport.height;o++){this.y++,this.y>=t.viewport.height&&(this.y=0,this.x++),this.x>=t.viewport.width&&(fe.endFrame(),this.y=0,this.x=0,Q.measure("CPU-MathJS",this.timer),this.timer=0,fe.startFrame());let l=fn((this.x/t.viewport.width-.5)*t.fractalSize/t.zoom+t.position.x,((this.y/t.viewport.height-.5)*t.fractalSize/t.zoom+t.position.y)/i),p=this.mandelbrot(l,t.maxIterations),c=xr.calculateMandelbrotColor(p,t.maxIterations),u=(this.x+this.y*t.viewport.width)*4;this.buffer[u]=c[0],this.buffer[u+1]=c[1],this.buffer[u+2]=c[2],this.buffer[u+3]=255}this.timer+=performance.now()-n,e.putImageData(this.imageData,0,0)})}destroy(e){return K(this,null,function*(){Q.info("FractalCPU","Destroying..."),this.imageData=null,this.buffer=null})}};Se([Ue("CPU-MATHJS-DESTROY")],Pr.prototype,"destroy",1);function ba(t){return K(this,arguments,function*(r,e={}){let{exports:n}=yield WebAssembly.instantiate(r,e),i=n.memory||e.env.memory;return Object.setPrototypeOf({offset:{valueOf(){return this.value},get value(){return n.offset.value>>>0}}},n)})}var bc=`${window.location.origin}/assembly/module.wasm`,Ma=64*1024,gr=class{constructor(){this.instance=null;this.memory=null;this.imageData=null;this.heapBase=0}getCanvasType(){return Pe.CANVAS_2D}getType(){return De.WASM}growMemory(e){if(this.memory===null)throw new Error("Memory not initialized");let t=this.memory.buffer.byteLength-this.heapBase,n=e.width*e.height*4,i=Math.ceil((n-t)/Ma);i>0&&(Q.info("FractalWASM",`Growing memory by ${i} pages. From ${Math.prettifySize(t)} bytes to ${Math.prettifySize(n)} bytes. (${Math.prettifySize(Ma*i)} bytes in total)`),this.memory.grow(i));let o=new Uint8ClampedArray(this.memory.buffer,this.heapBase,n);this.imageData=new ImageData(o,e.width,e.height)}setup(e){return K(this,null,function*(){let t=new WebAssembly.Memory({initial:1});this.memory=t;let n=fetch(bc),i=yield WebAssembly.compileStreaming(n);this.instance=yield ba(i,{env:{memory:t}}),this.heapBase=this.instance.offset.value,Q.info("FractalWASM",`Heap base: 0x${this.heapBase.toString(16)}`)})}step(e,t){return K(this,null,function*(){fe.startFrame();let n=t.viewport.width*t.viewport.height*4;if((this.memory===null||this.imageData===null||this.imageData.width!==t.viewport.width||this.imageData.height!==t.viewport.height)&&this.growMemory(t.viewport),this.imageData===null)throw new Error("Image data not initialized");if(this.memory===null)throw new Error("Memory not initialized");if(this.instance===null)throw new Error("Instance not initialized");this.instance.render(t.viewport.width,t.viewport.height,t.position.x,t.position.y,t.fractalSize,t.maxIterations,t.zoom,t.rotation),e.putImageData(this.imageData,0,0),fe.endFrame()})}destroy(e){return K(this,null,function*(){Q.info("FractalWASM","Destroying..."),this.instance=null,this.memory=null,this.imageData=null})}};Se([Ue("CPU-WASM-SETUP")],gr.prototype,"setup",1),Se([Ke("CPU-WASM")],gr.prototype,"step",1),Se([Ue("WASM-DESTROY")],gr.prototype,"destroy",1);var wr=class{constructor(){this.alreadySetup=!1;this.adapter=null;this.device=null;this.shaderModule=null;this.pipeline=null;this.bindGroup=null;this.vertexBuffer=null;this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,-1,1,1,-1,1]);this.dimensionBuffer=null;this.dimensions=new Float32Array([0,0]);this.complexPlaneBuffer=null;this.complexPlane=new Float32Array([0,0,0,0,0,0])}getCanvasType(){return Pe.WEBGPU}getType(){return De.WebGPU}createVertexBuffer(){if(!this.device)throw new Error("Device not initialized");this.vertexBuffer=this.device.createBuffer({size:this.vertices.byteLength,usage:GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_DST}),this.device.queue.writeBuffer(this.vertexBuffer,0,this.vertices,0,this.vertices.length)}createDimensionBuffer(){if(!this.device)throw new Error("Device not initialized");this.dimensionBuffer=this.device.createBuffer({label:"Dimension uniforms",size:this.dimensions.byteLength,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST}),this.device.queue.writeBuffer(this.dimensionBuffer,0,this.dimensions,0,this.dimensions.length)}createComplexPlaneBuffer(){if(!this.device)throw new Error("Device not initialized");this.complexPlaneBuffer=this.device.createBuffer({label:"Complex plane uniforms",size:this.complexPlane.byteLength,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST}),this.device.queue.writeBuffer(this.complexPlaneBuffer,0,this.complexPlane,0,this.complexPlane.length)}setupShaders(){return K(this,null,function*(){if(!this.device)throw new Error("Device not initialized");let e="shaders/webgpu/mandelbrot.wgsl";Q.info("FractalWebGPU",`Loading shader ${e}...`);let t=yield Lr.load(e);if(Q.debug("FractalWebGPU",`Shader source is ${t.length} characters long`),this.shaderModule=this.device.createShaderModule({code:t}),!this.shaderModule)throw new Error("Could not create shader module");this.shaderModule.label=e})}createRenderingPipeline(e){if(!this.device)throw new Error("Device not initialized");if(!this.shaderModule)throw new Error("Shader module not initialized");let t=[{attributes:[{shaderLocation:0,offset:0,format:"float32x2"}],arrayStride:8}],n={vertex:{module:this.shaderModule,entryPoint:"vertexMain",buffers:t},fragment:{module:this.shaderModule,entryPoint:"fragmentMain",targets:[{format:e}]},layout:"auto"};this.pipeline=this.device.createRenderPipeline(n)}createBindingGroups(){if(!this.device)throw new Error("Device not initialized");if(!this.pipeline)throw new Error("Pipeline not initialized");if(!this.dimensionBuffer)throw new Error("Dimension buffer not initialized");if(!this.complexPlaneBuffer)throw new Error("Complex plane buffer not initialized");this.bindGroup=this.device.createBindGroup({label:"Main bind group",layout:this.pipeline.getBindGroupLayout(0),entries:[{binding:0,resource:{buffer:this.dimensionBuffer}},{binding:1,resource:{buffer:this.complexPlaneBuffer}}]})}setup(e){return K(this,null,function*(){if(this.alreadySetup)return;if(this.alreadySetup=!0,!("gpu"in navigator)&&!("webgpu"in navigator))throw new Error("WebGPU not supported");if(this.adapter=yield navigator.gpu.requestAdapter(),!this.adapter)throw new Error("Could not get adapter");if(this.device=yield this.adapter.requestDevice(),!this.device)throw new Error("Could not get device");if(yield this.setupShaders(),!this.shaderModule)throw new Error("Shader module not initialized");let t=navigator.gpu.getPreferredCanvasFormat();if(Q.info("FractalWebGPU",`Preferred canvas format: ${t}`),e.configure({device:this.device,format:t,alphaMode:"premultiplied"}),this.createVertexBuffer(),!this.vertexBuffer)throw new Error("Vertex buffer not initialized");if(this.createDimensionBuffer(),!this.dimensionBuffer)throw new Error("Dimension buffer not initialized");if(this.createComplexPlaneBuffer(),!this.complexPlaneBuffer)throw new Error("Complex plane buffer not initialized");if(this.createRenderingPipeline(t),!this.pipeline)throw new Error("Pipeline not initialized");this.createBindingGroups()})}writeBuffers(e){if(!this.device)throw new Error("Device not initialized");if(!this.dimensionBuffer||!this.complexPlaneBuffer)throw new Error("Buffers not initialized");(this.dimensions[0]!==e.viewport.width||this.dimensions[1]!==e.viewport.height)&&(this.dimensions[0]=e.viewport.width,this.dimensions[1]=e.viewport.height,this.device.queue.writeBuffer(this.dimensionBuffer,0,this.dimensions,0,this.dimensions.length)),(this.complexPlane[0]!==e.position.x||this.complexPlane[1]!==e.position.y||this.complexPlane[2]!==e.fractalSize||this.complexPlane[3]!==e.zoom||this.complexPlane[4]!==e.maxIterations)&&(this.complexPlane[0]=e.position.x,this.complexPlane[1]=e.position.y,this.complexPlane[2]=e.fractalSize,this.complexPlane[3]=e.zoom,this.complexPlane[4]=e.maxIterations,this.device.queue.writeBuffer(this.complexPlaneBuffer,0,this.complexPlane,0,this.complexPlane.length))}step(e,t){return K(this,null,function*(){if(fe.startFrame(),!this.device)throw new Error("Device not initialized");if(!this.pipeline)throw new Error("Pipeline not initialized");let n={r:0,g:0,b:0,a:1},i=this.device.createCommandEncoder(),o=i.beginRenderPass({colorAttachments:[{clearValue:n,loadOp:"clear",storeOp:"store",view:e.getCurrentTexture().createView()}]});this.writeBuffers(t),o.setPipeline(this.pipeline),o.setVertexBuffer(0,this.vertexBuffer),o.setBindGroup(0,this.bindGroup),o.draw(this.vertices.length/2,1,0,0),o.end(),this.device.queue.submit([i.finish()]),fe.endFrame()})}destroy(e){return K(this,null,function*(){var t,n,i,o;Q.info("FractalWebGPU","Destroying..."),(t=this.vertexBuffer)==null||t.destroy(),(n=this.dimensionBuffer)==null||n.destroy(),(i=this.complexPlaneBuffer)==null||i.destroy(),(o=this.device)==null||o.destroy(),e.unconfigure()})}};Se([Ue("WEB-GPU setup")],wr.prototype,"setup",1),Se([Ke("WEB-GPU step")],wr.prototype,"step",1),Se([Ue("WEBGPU-DESTROY")],wr.prototype,"destroy",1);var hn=class{static setActiveButton(e){var t;document.querySelectorAll("footer button.active").forEach(n=>n.classList.remove("active")),(t=document.getElementById(e))==null||t.classList.add("active")}static onRendererChange(e){this.setActiveButton(e.getType())}static attachHooks(e){this.elementFPS=document.getElementById("fps"),this.elementAvgFrameTime=document.getElementById("avg-frametime"),this.elementMinFrameTime=document.getElementById("min-frametime"),this.elementMaxFrameTime=document.getElementById("max-frametime"),this.elementMemory=document.getElementById("memory"),document.querySelectorAll("footer button").forEach(t=>{t instanceof HTMLButtonElement&&t.addEventListener("click",hn.onButtonClick.bind(this,e,t))})}static onButtonClick(e,t,n){let i=t.id;switch(Q.debug("UIUtils",`Button ${i} clicked`),i){case De.CPU:e.setRenderer(new pr);break;case De.CPUMathJS:e.setRenderer(new Pr);break;case De.WebGL:e.setRenderer(new yr);break;case De.WebGPU:e.setRenderer(new wr);break;case De.WASM:e.setRenderer(new gr);break;default:Q.warn("UIUtils",`Unknown button click ${t}`);break}}static setButtonsEnabled(e){document.querySelectorAll("footer button").forEach(t=>{t instanceof HTMLButtonElement&&(t.disabled=!e)})}static transition(e){return new Promise((t,n)=>K(this,null,function*(){try{let i=window.getPrefixedProperty(document,"startViewTransition",!1),o=document.getElementById("wrapper");if(o===null)return n("Wrapper not found");o.classList.add("loading"),this.setButtonsEnabled(!1),i!==null?i.call(document,()=>K(this,null,function*(){try{yield e(),yield Promise.delay(250),o.classList.remove("loading"),this.setButtonsEnabled(!0),t()}catch(l){n(l)}})):(yield e(),o.classList.remove("loading"),this.setButtonsEnabled(!0),t())}catch(i){n(i)}}))}static updateStats(e,t,n,i,o){var l,p;this.elementFPS&&(this.elementFPS.textContent=`${e} real | ${Math.round(t)} (est.)`),this.elementAvgFrameTime&&(this.elementAvgFrameTime.textContent=Math.prettifyElapsedTime(n)),this.elementMinFrameTime&&(this.elementMinFrameTime.textContent=Math.prettifyElapsedTime(i)),this.elementMaxFrameTime&&(this.elementMaxFrameTime.textContent=Math.prettifyElapsedTime(o)),this.elementMemory&&"memory"in performance&&(this.elementMemory.textContent=Math.prettifySize((p=(l=performance.memory)==null?void 0:l.usedJSHeapSize)!=null?p:0))}},$e=hn;$e.elementFPS=null,$e.elementAvgFrameTime=null,$e.elementMinFrameTime=null,$e.elementMaxFrameTime=null,$e.elementMemory=null;var fe=class{static reset(){this.fps=0,this.frames=0,this.frameTimeAccumulator=0,this.frameTimeCount=0,this.frameTimeMin=Number.MAX_SAFE_INTEGER,this.frameTimeMax=Number.MIN_SAFE_INTEGER,$e.updateStats(0,0,0,0,0)}static startFrame(){this.currentTime=performance.now()}static endFrame(){let t=performance.now()-this.currentTime;if(this.frameTimeAccumulator+=t,this.frameTimeCount++,this.frameTimeMin=Math.min(this.frameTimeMin,t),this.frameTimeMax=Math.max(this.frameTimeMax,t),this.frames++,this.currentTime-this.timer>=1e3){this.fps=this.frames,this.frames=0,this.timer=this.currentTime,this.resetTimer++,this.resetTimer>=10&&(this.frameTimeMin=Number.MAX_SAFE_INTEGER,this.frameTimeMax=Number.MIN_SAFE_INTEGER,this.resetTimer=0,this.frameTimeAccumulator=0,this.frameTimeCount=0);let n=this.frameTimeAccumulator/this.frameTimeCount;$e.updateStats(this.fps,1e3/n,n,this.frameTimeMin,this.frameTimeMax)}}};fe.fps=0,fe.frames=0,fe.frameTimeAccumulator=0,fe.frameTimeCount=0,fe.frameTimeMin=Number.MAX_SAFE_INTEGER,fe.frameTimeMax=Number.MIN_SAFE_INTEGER,fe.currentTime=0,fe.timer=0,fe.resetTimer=0;function Sa(r,e,t){return t.value}function Ue(r){return Sa}function Ke(r,e=1e3){return Sa}var yr=class{constructor(){this.alreadySetup=!1;this.shaderProgram=null;this.attributePositionLocation=-1;this.uniformResolutionLocation=null;this.uniformComplexPlaneCenterLocation=null;this.uniformComplexPlaneSizeLocation=null;this.uniformComplexPlaneZoomLocation=null;this.uniformComplexPlaneMaxIterationsLocation=null;this.positionBuffer=null}getCanvasType(){return Pe.WEBGL}getType(){return De.WebGL}loadShader(e,t,n){return K(this,null,function*(){Q.info("FractalWebGL",`Loading shader ${t}...`);let i=yield Lr.load(t),o=e.createShader(n);if(!o)throw new Error("Failed to create shader");if(e.shaderSource(o,i),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS)){let l=e.getShaderInfoLog(o);throw e.deleteShader(o),new Error(`Failed to compile shader: ${l}`)}return o})}setupBuffers(e){if(this.alreadySetup)return;if(this.alreadySetup=!0,Q.debug("FractalWebGL","Setting up buffers..."),!this.shaderProgram)throw new Error("Shader program not initialized");if(this.attributePositionLocation=e.getAttribLocation(this.shaderProgram,"a_position"),this.positionBuffer=e.createBuffer(),!this.positionBuffer)throw e.deleteBuffer(this.positionBuffer),new Error("Failed to create position buffer");e.bindBuffer(e.ARRAY_BUFFER,this.positionBuffer);let t=new Float32Array([1,1,-1,1,1,-1,-1,-1]);e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW),this.uniformResolutionLocation=e.getUniformLocation(this.shaderProgram,"u_resolution"),this.uniformComplexPlaneCenterLocation=e.getUniformLocation(this.shaderProgram,"u_complexPlane.center"),this.uniformComplexPlaneSizeLocation=e.getUniformLocation(this.shaderProgram,"u_complexPlane.size"),this.uniformComplexPlaneZoomLocation=e.getUniformLocation(this.shaderProgram,"u_complexPlane.zoom"),this.uniformComplexPlaneMaxIterationsLocation=e.getUniformLocation(this.shaderProgram,"u_complexPlane.maxIterations")}loadShaders(e){return K(this,null,function*(){if(!this.shaderProgram)throw new Error("Shader program not initialized");let t=yield this.loadShader(e,"/shaders/webgl/vertex.glsl",e.VERTEX_SHADER),n=yield this.loadShader(e,"/shaders/webgl/fragment.glsl",e.FRAGMENT_SHADER);e.attachShader(this.shaderProgram,t),e.attachShader(this.shaderProgram,n)})}setup(e){return K(this,null,function*(){if(this.shaderProgram=e.createProgram(),!this.shaderProgram)throw new Error(`Failed to create shader program ${e.getError()}`);if(yield this.loadShaders(e),e.linkProgram(this.shaderProgram),e.validateProgram(this.shaderProgram),!e.getProgramParameter(this.shaderProgram,e.LINK_STATUS)){let t=e.getProgramInfoLog(this.shaderProgram);throw e.deleteProgram(this.shaderProgram),new Error(`Failed to link shader program: ${t}`)}this.setupBuffers(e),e.clearColor(0,0,0,1),e.clearDepth(1),e.viewport(0,0,e.canvas.width,e.canvas.height)})}writeBuffers(e,t){if(!this.positionBuffer)throw new Error("Position buffer not initialized");if(this.attributePositionLocation<0)throw new Error("Position attribute not initialized");if(!this.uniformResolutionLocation)throw new Error("Resolution uniform not initialized");if(!this.uniformComplexPlaneCenterLocation)throw new Error("Complex plane center uniform not initialized");if(!this.uniformComplexPlaneSizeLocation)throw new Error("Complex plane size uniform not initialized");if(!this.uniformComplexPlaneSizeLocation)throw new Error("Complex plane zoom uniform not initialized");if(!this.uniformComplexPlaneZoomLocation)throw new Error("Complex plane max iterations uniform not initialized");if(!this.uniformComplexPlaneMaxIterationsLocation)throw new Error("Complex plane max iterations uniform not initialized");e.bindBuffer(e.ARRAY_BUFFER,this.positionBuffer),e.vertexAttribPointer(this.attributePositionLocation,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(this.attributePositionLocation),e.uniform2f(this.uniformResolutionLocation,t.viewport.width,t.viewport.height),e.uniform2fv(this.uniformComplexPlaneCenterLocation,[t.position.x,t.position.y]),e.uniform1f(this.uniformComplexPlaneSizeLocation,t.fractalSize),e.uniform1f(this.uniformComplexPlaneZoomLocation,t.zoom),e.uniform1f(this.uniformComplexPlaneMaxIterationsLocation,t.maxIterations)}step(e,t){return K(this,null,function*(){if(fe.startFrame(),!this.shaderProgram)throw new Error("Shader program not initialized");let n=e.getParameter(e.VIEWPORT);(n[2]!==t.viewport.width||n[3]!==t.viewport.height)&&e.viewport(0,0,t.viewport.width,t.viewport.height),e.clear(e.COLOR_BUFFER_BIT),e.useProgram(this.shaderProgram),this.writeBuffers(e,t);let i=0,o=4;e.drawArrays(e.TRIANGLE_STRIP,i,o),fe.endFrame()})}destroy(e){return K(this,null,function*(){Q.info("FractalWebGL","Destroying..."),this.shaderProgram!==null&&e.deleteProgram(this.shaderProgram),this.positionBuffer!==null&&e.deleteBuffer(this.positionBuffer)})}};Se([Ue("WEBGL-SETUP")],yr.prototype,"setup",1),Se([Ke("WEBGL-STEP")],yr.prototype,"step",1),Se([Ue("WEBGL-DESTROY")],yr.prototype,"destroy",1);var dn=class{static error(e="Something went wrong. Please, try again later.",t="Error!"){let n=document.getElementById("dialog-error");if(!n)throw new Error("Modal not found");let i=n.querySelector("h2");if(!i)throw new Error("Title not found");i.innerText=t;let o=n.querySelector("p");if(!o)throw new Error("Message not found");o.innerText=e,n.showModal()}};var Cr=class{constructor(){this.isInteracting=!1}};var Et=1,Ba=45,Na=.93,vn=class extends Cr{constructor(){super(...arguments);this.lastPointer=null;this.velocity={x:0,y:0}}detectGesture(e,t){if(e.length===0&&this.lastPointer!==null){let n={x:(this.lastPointer.position.x-this.lastPointer.lastPosition.x)*Et*t.fractalSize/t.viewport.width/t.zoom,y:(this.lastPointer.position.y-this.lastPointer.lastPosition.y)*Et*t.fractalSize/t.viewport.height/t.zoom};return this.velocity.x+=n.x*Ba,this.velocity.y+=n.y*Ba,this.lastPointer=null,!1}else return e.length===1}apply(e,t){this.lastPointer=null,this.velocity.x=0,this.velocity.y=0}update(e,t,n){if(this.isInteracting){let i=t[0];this.lastPointer=Or({},i);let o={x:(i.position.x-i.lastPosition.x)*Et*n.fractalSize/n.viewport.width/n.zoom,y:(i.position.y-i.lastPosition.y)*Et*n.fractalSize/n.viewport.height/n.zoom};n.position.x-=o.x,n.position.y-=o.y}else n.position.x-=this.velocity.x*e,n.position.y-=this.velocity.y*e,this.velocity.x*=Na,this.velocity.y*=Na}};var Dn=class extends Cr{constructor(){super(...arguments);this.lastDistance=0;this.zoomVelocity=0}detectGesture(e,t){return e.length===2}calculateDistance(e){let t=e[0],n=e[1];return Math.sqrt(Math.pow(t.position.x-n.position.x,2)+Math.pow(t.position.y-n.position.y,2))}calculateMidPoint(e){let t=e[0],n=e[1];return{x:(t.position.x+n.position.x)/2,y:(t.position.y+n.position.y)/2}}apply(e,t){this.lastDistance=this.calculateDistance(e)}update(e,t,n){var h;let i=(h=window.devicePixelRatio)!=null?h:1,o=.005/i,l=.9,p=.5,c=318226.2513349596,u=80,a=1,f=20024;if(this.isInteracting){let v=this.calculateDistance(t);v-this.lastDistance!=0&&(this.zoomVelocity+=(v-this.lastDistance)*o);let D=1-(this.zoomVelocity*e+this.lastDistance-v)*o;this.lastDistance=v;let s=n.zoom;n.zoom*=D,n.zoom=Math.clamp(n.zoom,p,c);let m=this.calculateMidPoint(t),d={x:(m.x/n.viewport.width-.5)*n.fractalSize/s*(1-1/D),y:(m.y/n.viewport.height-.5)*n.fractalSize/s*(1-1/D)};n.position.x+=d.x,n.position.y+=d.y,n.maxIterations=Math.floor(u+n.zoom*.2),n.maxIterations=Math.clamp(n.maxIterations,a,f)}}};var Yr=class{static toggle(){return K(this,null,function*(){try{let e=document.getElementsByTagName("canvas")[0],t=window.getPrefixedProperty(document,"fullscreenEnabled",!0),n=window.getPrefixedProperty(e,"requestFullscreen",!0),i=window.getPrefixedProperty(document,["exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen"],!0);if(!t){Q.error("FullscreenUtils","Fullscreen is not enabled");return}this.isFullscreen()?yield i.call(document):yield n.call(e);let o=window.getPrefixedProperty(navigator,"vibrate",!1);o&&o.call(navigator,100)}catch(e){Q.error("FullscreenUtils",`Error while requesting fullscreen: ${e}`)}})}static isFullscreen(){return window.getPrefixedProperty(document,"fullscreenElement",!0)!==null}};var _a=100,Mc=250,Pa,sw=10*((Pa=window.devicePixelRatio)!=null?Pa:1),gn=class extends Cr{constructor(){super(...arguments);this.pointerA=null;this.pointerB=null}reset(){this.pointerA=null,this.pointerB=null}handlePointerDown(e){this.pointerA===null?this.pointerA={state:e,pressedTime:performance.now(),releasedTime:-1}:this.pointerB===null&&this.pointerA.state.id!==e.id&&(this.pointerB={state:e,pressedTime:performance.now(),releasedTime:-1},this.pointerB.pressedTime-this.pointerA.releasedTime>Mc&&(this.pointerA=this.pointerB,this.pointerB=null))}handlePointerUp(){if(this.pointerA!==null&&this.pointerA.releasedTime===-1)this.pointerA.releasedTime=performance.now(),this.pointerA.releasedTime-this.pointerA.pressedTime>_a&&this.reset();else if(this.pointerB!==null&&this.pointerB.releasedTime===-1)if(this.pointerB.releasedTime=performance.now(),this.pointerB.releasedTime-this.pointerB.pressedTime>_a)this.reset();else return this.reset(),!0;return!1}detectGesture(e,t){return e.length===0?this.handlePointerUp():(e.length===1?this.handlePointerDown(e[0]):this.reset(),!1)}apply(e,t){Yr.toggle()}update(e,t,n){}};var wn=class{constructor(e){this.camera=e;this.activePointers=new Map;this.gestures=[new vn,new Dn,new gn]}attachHooks(e){this.target=e,e.addEventListener("pointerdown",this.onPointerDown.bind(this)),e.addEventListener("pointermove",this.onPointerMove.bind(this)),e.addEventListener("pointerup",this.onPointerUp.bind(this)),e.addEventListener("pointercancel",this.onPointerUp.bind(this)),e.addEventListener("pointerout",this.onPointerUp.bind(this)),e.addEventListener("pointerleave",this.onPointerUp.bind(this))}update(e){let t=Array.from(this.activePointers.values());for(let n of this.gestures){let i=n.isInteracting;n.isInteracting=n.detectGesture(t,this.camera),!i&&n.isInteracting?Q.debug("CameraController",`Started ${n.constructor.name} gesture`):i&&!n.isInteracting&&Q.debug("CameraController",`Stopped ${n.constructor.name} gesture`),!i&&n.isInteracting&&n.apply(t,this.camera),n.update(e,t,this.camera)}for(let n of this.activePointers.values())n.lastPosition.x=n.position.x,n.lastPosition.y=n.position.y}updatePointerPosition(e){let t=this.getPositionFromEvent(e),n=this.activePointers.get(e.pointerId);!n||(n.position.x=t.x,n.position.y=t.y)}getPositionFromEvent(e){var n,i,o,l,p,c,u,a,f;let t=(n=window.devicePixelRatio)!=null?n:1;return{x:((p=e.layerX)!=null?p:(l=e.clientX)!=null?l:e.offsetX-((o=(i=e.target)==null?void 0:i.offsetLeft)!=null?o:0))*t,y:((f=e.layerY)!=null?f:(a=e.clientY)!=null?a:e.offsetY-((u=(c=e.target)==null?void 0:c.offsetTop)!=null?u:0))*t}}checkIfInsideElement(e){var o;let t=(o=window.devicePixelRatio)!=null?o:1,n=this.getPositionFromEvent(e),i=e.target;return n.x<0||n.x>i.clientWidth*t||n.y<0||n.y>i.clientHeight*t?(Q.error("CameraController",`Pointer ${e.pointerId} is outside of element`),!1):!0}onPointerDown(e){if(!this.checkIfInsideElement(e))return this.onPointerUp(e);if(this.target.hasPointerCapture(e.pointerId)||this.target.setPointerCapture(e.pointerId),this.activePointers.has(e.pointerId))this.updatePointerPosition(e);else{let t=this.getPositionFromEvent(e);this.activePointers.set(e.pointerId,{id:e.pointerId,position:Or({},t),lastPosition:Or({},t)})}}onPointerMove(e){if(!this.checkIfInsideElement(e))return this.onPointerUp(e);!this.activePointers.has(e.pointerId)||this.updatePointerPosition(e)}onPointerUp(e){!this.activePointers.has(e.pointerId)||this.activePointers.delete(e.pointerId)}};var yn=class{constructor(e){this.camera=e;this.panVelocity={x:0,y:0};this.zoomVelocity=0;this.mouse={x:0,y:0};this.lastMouse={x:0,y:0};this.isTrackPadPanning=!1;this.isMouseDown=!1;this.wasMouseDown=!1;this.wheelDelta=0;this.trackPadDelta={x:0,y:0}}get mouseDelta(){return{x:this.mouse.x-this.lastMouse.x,y:this.mouse.y-this.lastMouse.y}}attachHooks(e){e.addEventListener("keyup",this.onKeyUp.bind(this)),e.addEventListener("mousedown",this.onMouseDown.bind(this)),e.addEventListener("mousemove",this.onMouseMove.bind(this)),e.addEventListener("mouseup",this.onMouseUp.bind(this)),e.addEventListener("mouseleave",this.onMouseUp.bind(this)),e.addEventListener("mouseout",this.onMouseUp.bind(this)),e.addEventListener("wheel",this.onMouseWheel.bind(this),{passive:!1})}update(e){this.panCamera(e),this.zoomCamera(e),this.isTrackPadPanning=!1,this.wasMouseDown=this.isMouseDown,this.lastMouse.x=this.mouse.x,this.lastMouse.y=this.mouse.y,this.wheelDelta=0}panCamera(e){let t=1,n=45,i=.925,o=-1.25,l=.65;if(this.wasMouseDown||this.isTrackPadPanning){let p={x:this.mouseDelta.x*t*this.camera.fractalSize/this.camera.viewport.width/this.camera.zoom,y:this.mouseDelta.y*t*this.camera.fractalSize/this.camera.viewport.height/this.camera.zoom};(this.isMouseDown||this.isTrackPadPanning)&&(this.camera.position.x-=p.x,this.camera.position.y-=p.y),(!this.isMouseDown||this.isTrackPadPanning)&&(this.panVelocity.x=p.x*n,this.panVelocity.y=p.y*n)}else this.camera.position.x-=this.panVelocity.x*e,this.camera.position.y-=this.panVelocity.y*e,this.panVelocity.x*=i,this.panVelocity.y*=i;this.camera.position.x=Math.clamp(this.camera.position.x,o,l),this.camera.position.y=Math.clamp(this.camera.position.y,o,l)}zoomCamera(e){let t=.005,n=.9,i=.5,o=318226.2513349596,l=80,p=1,c=20024;this.wheelDelta!==0&&(this.zoomVelocity+=this.wheelDelta*t);let u=1-(this.zoomVelocity*e+this.wheelDelta*t),a=this.camera.zoom;this.camera.zoom*=u,this.camera.zoom=Math.clamp(this.camera.zoom,i,o),this.camera.zoom!==a&&(this.camera.position.x+=(this.mouse.x/this.camera.viewport.width-.5)*this.camera.fractalSize/a*(1-1/u),this.camera.position.y+=(this.mouse.y/this.camera.viewport.height-.5)*this.camera.fractalSize/a*(1-1/u),this.camera.maxIterations=Math.floor(l+this.camera.zoom*.2),this.camera.maxIterations=Math.clamp(this.camera.maxIterations,p,c)),this.zoomVelocity*=n}onKeyUp(e){e.key==="F11"&&(e.preventDefault(),Yr.toggle())}onMouseDown(e){(e.button===0||e.button===1)&&(this.isMouseDown=!0),this.onMouseMove(e)}onMouseMove(e){var o,l,p,c,u;if(!e.target||this.isTrackPadPanning)return;e.stopPropagation();let t=(o=window.devicePixelRatio)!=null?o:1,n=(p=e.layerX)!=null?p:(l=e.clientX)!=null?l:e.offsetX-e.target.offsetLeft,i=(u=e.layerY)!=null?u:(c=e.clientY)!=null?c:e.offsetY-e.target.offsetTop;this.mouse.x=n*t,this.mouse.y=i*t}onMouseUp(e){(e.button===0||e.button===1)&&(this.isMouseDown=!1),this.onMouseMove(e)}normalizeWheelDelta(e){let t=e.deltaX,n=e.deltaY;return e.deltaMode===WheelEvent.DOM_DELTA_LINE?(t*=8,n*=8):e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=24,n*=24),{x:t,y:n}}onMouseWheel(e){e.preventDefault(),this.onMouseMove(e);let t=this.normalizeWheelDelta(e);e.ctrlKey?this.wheelDelta=t.y:(this.isTrackPadPanning=!0,this.lastMouse={x:this.mouse.x,y:this.mouse.y},e.shiftKey&&t.x===0?this.mouse.x-=t.y:(this.mouse.x-=t.x,this.mouse.y-=t.y))}};var Ct=class{static get(e,t){let n=localStorage.getItem(e);if(n)try{return JSON.parse(n)}catch(i){Q.error("StorageUtils",`Failed to parse value for key ${e}: ${n}`),localStorage.removeItem(e)}return t}static set(e,t){if(t!==null){let n=JSON.stringify(t);localStorage.setItem(e,n)}else localStorage.removeItem(e)}};var At=class{constructor(){this.canvas=null;this.camera={viewport:{width:0,height:0},position:{x:-.95,y:0},fractalSize:2,maxIterations:80,zoom:1,rotation:0};this.cameraController=window.isMobile()?new wn(this.camera):new yn(this.camera);this.renderer=new pr;this.lastFrameTime=0;this.animationFrameHandle=-1;Q.info("Main","Starting up..."),this.loadLastRendererUsed(),this.attachHooks()}loadLastRendererUsed(){switch(Ct.get("renderer",De.CPU)){case De.CPU:this.renderer=new pr;break;case De.CPUMathJS:this.renderer=new Pr;break;case De.WebGL:this.renderer=new yr;break;case De.WebGPU:this.renderer=new wr;break;case De.WASM:this.renderer=new gr;break;default:return}$e.onRendererChange(this.renderer)}setRenderer(e){return K(this,null,function*(){fe.reset(),Ct.set("renderer",e.getType()),this.animationFrameHandle>=0&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=-1),this.renderer!=null&&this.renderer.destroy(this.canvas.context),this.renderer=e,yield $e.transition(()=>K(this,null,function*(){this.canvas!==null&&this.canvas.element.remove(),yield this.setupCanvas()}))})}setupCanvas(){return K(this,null,function*(){try{this.canvas=new Ft(this.renderer.getCanvasType(),"canvas");let e=document.getElementById("wrapper");if(!e)throw new Error("Wrapper div element not found");this.canvas.attachToElement(e),this.cameraController.attachHooks(this.canvas.element),yield this.renderer.setup(this.canvas.context),this.onResize(),$e.onRendererChange(this.renderer),this.lastFrameTime=performance.now(),this.animationFrameHandle=requestAnimationFrame(this.renderFrame.bind(this))}catch(e){console.trace(e);let t=e instanceof Error?e.message:String(e);dn.error(`Failed to initialize.

${t}`,"Error!")}})}attachHooks(){Q.info("Main","Attaching hooks..."),window.addLoadEventListener(this.onLoad.bind(this)),window.addEventListener("resize",this.onResize.bind(this)),$e.attachHooks(this)}onLoad(){return K(this,null,function*(){Q.debug("Main","Window loaded"),setTimeout(()=>{this.setupCanvas()},250)})}onResize(){if(this.canvas===null)throw new Error("Canvas not initialized");let e=document.getElementById("wrapper");if(!e)throw new Error("Wrapper div element not found");let t=e.clientWidth,n=e.clientHeight,i=Math.maximumCommonDivisor(t,n);Q.debug("Main",`Window resized to ${t}x${n} (${t/i}:${n/i})`),this.canvas.setSize(t,n),this.camera.viewport={width:this.canvas.width,height:this.canvas.height}}renderFrame(e){return K(this,null,function*(){if(this.animationFrameHandle<0)return;if(this.canvas===null)throw new Error("Canvas not initialized");let t=(e-this.lastFrameTime)/1e3;this.lastFrameTime=e,this.cameraController.update(t),yield this.renderer.step(this.canvas.context,this.camera),this.animationFrameHandle=requestAnimationFrame(this.renderFrame.bind(this))})}};Se([Ue("MAIN-LOAD")],At.prototype,"setupCanvas",1),Se([Ke("MAIN-RENDER",1e3)],At.prototype,"renderFrame",1);window._instance=new At;})();
/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */
/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
/**
 * @license Fraction.js v4.3.0 20/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
